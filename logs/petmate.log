2025-09-15 10:15:19 [restartedMain] INFO  com.petmate.PetmateApplication - Starting PetmateApplication using Java 21.0.7 with PID 7944 (C:\lfm01\spring_boot\pjt-sts4\petmate-backend-mainb\petmate-backend\build\classes\java\main started by HI-02 in C:\lfm01\spring_boot\pjt-sts4\petmate-backend-mainb\petmate-backend)
2025-09-15 10:15:19 [restartedMain] DEBUG com.petmate.PetmateApplication - Running with Spring Boot v3.5.5, Spring v6.2.10
2025-09-15 10:15:19 [restartedMain] INFO  com.petmate.PetmateApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-15 10:15:19 [restartedMain] INFO  o.s.b.d.restart.ChangeableUrls - The Class-Path manifest attribute in C:\Users\HI-02\.gradle\caches\modules-2\files-2.1\io.github.cdimascio\java-dotenv\5.2.2\f77d54ff193ed4b07415ab8d7b3d0550716aa8c\java-dotenv-5.2.2.jar referenced one or more files that do not exist: file:/C:/Users/HI-02/.gradle/caches/modules-2/files-2.1/io.github.cdimascio/java-dotenv/5.2.2/f77d54ff193ed4b07415ab8d7b3d0550716aa8c/kotlin-stdlib-1.4.0.jar,file:/C:/Users/HI-02/.gradle/caches/modules-2/files-2.1/io.github.cdimascio/java-dotenv/5.2.2/f77d54ff193ed4b07415ab8d7b3d0550716aa8c/kotlin-stdlib-common-1.4.0.jar,file:/C:/Users/HI-02/.gradle/caches/modules-2/files-2.1/io.github.cdimascio/java-dotenv/5.2.2/f77d54ff193ed4b07415ab8d7b3d0550716aa8c/annotations-13.0.jar
2025-09-15 10:15:19 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-09-15 10:15:19 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-09-15 10:15:21 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-15 10:15:21 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 145 ms. Found 8 JPA repository interfaces.
2025-09-15 10:15:23 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8090 (http)
2025-09-15 10:15:23 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-15 10:15:23 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.44]
2025-09-15 10:15:23 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-15 10:15:23 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3680 ms
2025-09-15 10:15:23 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-15 10:15:24 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.26.Final
2025-09-15 10:15:24 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-15 10:15:24 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-15 10:15:24 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-15 10:15:25 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@77d58294
2025-09-15 10:15:25 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-15 10:15:25 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-15 10:15:26 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-15 10:15:26 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-15 10:15:27 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-15 10:15:28 [restartedMain] INFO  com.petmate.config.WebConfig - CORS applied. origins=http://localhost:3000, http://localhost:3001
2025-09-15 10:15:29 [restartedMain] INFO  com.petmate.config.WebConfig - Static mapping applied. /files/** -> file:C:/petmate/
2025-09-15 10:15:29 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-09-15 10:15:29 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-15 10:15:29 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8090 (http) with context path '/'
2025-09-15 10:15:29 [restartedMain] INFO  com.petmate.PetmateApplication - Started PetmateApplication in 10.925 seconds (process running for 11.664)
2025-09-15 10:15:29 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        common_codes gce1_0
2025-09-15 10:15:29 [restartedMain] INFO  com.petmate.config.DataInitializer - Common codes already initialized
2025-09-15 10:15:29 [http-nio-8090-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-15 10:15:29 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-15 10:15:29 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-09-15 10:15:29 [http-nio-8090-exec-1] INFO  c.p.security.JwtAuthenticationFilter - [JWT] POST /auth/signout - Authorization: <absent>
2025-09-15 10:15:32 [http-nio-8090-exec-2] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /auth/me - Authorization: <absent>
2025-09-15 10:15:33 [http-nio-8090-exec-3] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /auth/me - Authorization: <absent>
2025-09-15 10:15:36 [http-nio-8090-exec-5] INFO  c.p.security.OAuth2SuccessHandler - === OAuth2 인증 성공 처리 시작 ===
2025-09-15 10:15:36 [http-nio-8090-exec-5] INFO  c.p.security.OAuth2SuccessHandler - OAuth2 사용자 정보: {provider=naver, response={id=2ZBmnoyH7EYixJoarTxtoLrneVrmyXX14s12xmO6yLc, nickname=kimij****, email=kimijug97@naver.com, name=김민중}, providerId=2ZBmnoyH7EYixJoarTxtoLrneVrmyXX14s12xmO6yLc, name=김민중, nickname=kimij****, resultcode=00, message=success, userId=naver_2ZBmnoyH7EYixJoarTxtoLrneVrmyXX14s12xmO6yLc, email=kimijug97@naver.com, picture=null}
2025-09-15 10:15:36 [http-nio-8090-exec-5] INFO  c.p.security.OAuth2SuccessHandler - 파싱된 사용자 정보 - provider: NAVER, email: kimijug97@naver.com, name: 김민중, nickname: kimij****, picture: null
2025-09-15 10:15:36 [http-nio-8090-exec-5] INFO  c.p.security.OAuth2SuccessHandler - 사용자 등록/업데이트 시작
2025-09-15 10:15:36 [http-nio-8090-exec-5] INFO  c.p.domain.user.service.UserService - === applyBasicUser 시작 ===
2025-09-15 10:15:36 [http-nio-8090-exec-5] INFO  c.p.domain.user.service.UserService - email: kimijug97@naver.com, provider: NAVER, name: 김민중, nickname: kimij****, profileImageUrl: null
2025-09-15 10:15:36 [http-nio-8090-exec-5] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.birth_date,
        ue1_0.care_species,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.email_verified,
        ue1_0.gender,
        ue1_0.main_service,
        ue1_0.name,
        ue1_0.nick_name,
        ue1_0.phone,
        ue1_0.profile_image,
        ue1_0.provider,
        ue1_0.role,
        ue1_0.status,
        ue1_0.updated_at 
    from
        user ue1_0 
    where
        ue1_0.email=?
2025-09-15 10:15:36 [http-nio-8090-exec-5] INFO  c.p.domain.user.service.UserService - 사용자 조회/생성 완료 - userId: 19
2025-09-15 10:15:36 [http-nio-8090-exec-5] INFO  c.p.domain.user.service.UserService - 사용자 정보 업데이트 완료
2025-09-15 10:15:36 [http-nio-8090-exec-5] INFO  c.p.domain.user.service.UserService - 프로필 이미지 처리 시작 - profileImageUrl: null
2025-09-15 10:15:36 [http-nio-8090-exec-5] INFO  c.p.domain.user.service.UserService - 이미지 URL이 없어서 기본 이미지 저장
2025-09-15 10:15:36 [http-nio-8090-exec-5] INFO  c.p.d.user.service.UserFileService - 기존 프로필 이미지 존재: userId=19, profile=profiles/default.png
2025-09-15 10:15:36 [http-nio-8090-exec-5] INFO  c.p.domain.user.service.UserService - 기본 이미지 저장 완료 - UUID: profiles/default.png
2025-09-15 10:15:36 [http-nio-8090-exec-5] INFO  c.p.domain.user.service.UserService - 사용자 저장 완료 - 최종 profileImage: profiles/default.png
2025-09-15 10:15:36 [http-nio-8090-exec-5] INFO  c.p.domain.user.service.UserService - === applyBasicUser 완료 ===
2025-09-15 10:15:36 [http-nio-8090-exec-5] INFO  c.p.security.OAuth2SuccessHandler - 사용자 등록/업데이트 완료 - userId: 19
2025-09-15 10:15:36 [http-nio-8090-exec-5] INFO  c.p.security.OAuth2SuccessHandler - 프로필 이미지 URL 조회 시작
2025-09-15 10:15:36 [http-nio-8090-exec-5] INFO  c.p.domain.user.service.UserService - 프로필 이미지 조회: kimijug97@naver.com
2025-09-15 10:15:36 [http-nio-8090-exec-5] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.birth_date,
        ue1_0.care_species,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.email_verified,
        ue1_0.gender,
        ue1_0.main_service,
        ue1_0.name,
        ue1_0.nick_name,
        ue1_0.phone,
        ue1_0.profile_image,
        ue1_0.provider,
        ue1_0.role,
        ue1_0.status,
        ue1_0.updated_at 
    from
        user ue1_0 
    where
        ue1_0.email=?
2025-09-15 10:15:36 [http-nio-8090-exec-5] INFO  c.p.domain.user.service.UserService - 조회된 UUID: profiles/default.png
2025-09-15 10:15:36 [http-nio-8090-exec-5] INFO  c.p.domain.user.service.UserService - 최종 URL: http://localhost:8090/img/profiles/default.png
2025-09-15 10:15:36 [http-nio-8090-exec-5] INFO  c.p.security.OAuth2SuccessHandler - 조회된 프로필 UUID: http://localhost:8090/img/profiles/default.png
2025-09-15 10:15:36 [http-nio-8090-exec-5] INFO  c.p.security.OAuth2SuccessHandler - 절대 URL 사용: http://localhost:8090/img/profiles/default.png
2025-09-15 10:15:36 [http-nio-8090-exec-5] INFO  c.p.security.OAuth2SuccessHandler - JWT 토큰 발급 시작
2025-09-15 10:15:36 [http-nio-8090-exec-5] INFO  c.p.security.OAuth2SuccessHandler - JWT 토큰 발급 완료
2025-09-15 10:15:36 [http-nio-8090-exec-5] INFO  c.p.security.OAuth2SuccessHandler - 리다이렉트 URL: http://localhost:3000/oauth2/redirect?accessToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlcyI6WyJVU0VSIl0sIm5hbWUiOiLquYDrr7zspJEiLCJuaWNrbmFtZSI6ImtpbWlqKioqKiIsInR5cCI6ImFjY2VzcyIsInByb3YiOiJOQVZFUiIsImVtYWlsIjoia2ltaWp1Zzk3QG5hdmVyLmNvbSIsInBpY3R1cmUiOiJodHRwOi8vbG9jYWxob3N0OjgwOTAvaW1nL3Byb2ZpbGVzL2RlZmF1bHQucG5nIiwic3ViIjoiMTkiLCJpc3MiOiJwZXRtYXRlIiwiaWF0IjoxNzU3ODk4OTM2LCJleHAiOjE3NTc4OTg5OTZ9.DJfZUgWswei8AAec2HnEetSs5Num5rty1wIKy8vlNfM&next=%2Fhome
2025-09-15 10:15:36 [http-nio-8090-exec-5] INFO  c.p.security.OAuth2SuccessHandler - === OAuth2 인증 성공 처리 완료 ===
2025-09-15 10:15:37 [http-nio-8090-exec-6] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /auth/me - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=392)
2025-09-15 10:15:37 [http-nio-8090-exec-6] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=19, type=access, exp=Mon Sep 15 10:16:36 KST 2025, expired=false
2025-09-15 10:15:37 [http-nio-8090-exec-7] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /img/profiles/default.png - Authorization: <absent>
2025-09-15 10:15:37 [http-nio-8090-exec-8] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /login - Authorization: <absent>
2025-09-15 10:19:17 [restartedMain] INFO  com.petmate.PetmateApplication - Starting PetmateApplication using Java 21.0.7 with PID 12656 (C:\lfm01\spring_boot\pjt-sts4\petmate-backend-mainb\petmate-backend\build\classes\java\main started by HI-02 in C:\lfm01\spring_boot\pjt-sts4\petmate-backend-mainb\petmate-backend)
2025-09-15 10:19:17 [restartedMain] DEBUG com.petmate.PetmateApplication - Running with Spring Boot v3.5.5, Spring v6.2.10
2025-09-15 10:19:17 [restartedMain] INFO  com.petmate.PetmateApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-15 10:19:17 [restartedMain] INFO  o.s.b.d.restart.ChangeableUrls - The Class-Path manifest attribute in C:\Users\HI-02\.gradle\caches\modules-2\files-2.1\io.github.cdimascio\java-dotenv\5.2.2\f77d54ff193ed4b07415ab8d7b3d0550716aa8c\java-dotenv-5.2.2.jar referenced one or more files that do not exist: file:/C:/Users/HI-02/.gradle/caches/modules-2/files-2.1/io.github.cdimascio/java-dotenv/5.2.2/f77d54ff193ed4b07415ab8d7b3d0550716aa8c/kotlin-stdlib-1.4.0.jar,file:/C:/Users/HI-02/.gradle/caches/modules-2/files-2.1/io.github.cdimascio/java-dotenv/5.2.2/f77d54ff193ed4b07415ab8d7b3d0550716aa8c/kotlin-stdlib-common-1.4.0.jar,file:/C:/Users/HI-02/.gradle/caches/modules-2/files-2.1/io.github.cdimascio/java-dotenv/5.2.2/f77d54ff193ed4b07415ab8d7b3d0550716aa8c/annotations-13.0.jar
2025-09-15 10:19:17 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-09-15 10:19:17 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-09-15 10:19:18 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-15 10:19:18 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 142 ms. Found 8 JPA repository interfaces.
2025-09-15 10:19:19 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8090 (http)
2025-09-15 10:19:19 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-15 10:19:19 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.44]
2025-09-15 10:19:19 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-15 10:19:19 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2692 ms
2025-09-15 10:19:20 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-15 10:19:20 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.26.Final
2025-09-15 10:19:20 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-15 10:19:20 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-15 10:19:20 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-15 10:19:21 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7fd4309b
2025-09-15 10:19:21 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-15 10:19:21 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-15 10:19:22 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-15 10:19:22 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table profile_image_map 
       modify column uuid varchar(255) not null
2025-09-15 10:19:22 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table profile_image_map 
       modify column real_path varchar(255) not null
2025-09-15 10:19:22 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-15 10:19:23 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-15 10:19:24 [restartedMain] INFO  com.petmate.config.WebConfig - CORS applied. origins=http://localhost:3000, http://localhost:3001
2025-09-15 10:19:25 [restartedMain] INFO  com.petmate.config.WebConfig - Static mapping applied. /files/** -> file:C:/petmate/
2025-09-15 10:19:25 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-09-15 10:19:25 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-15 10:19:25 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8090 (http) with context path '/'
2025-09-15 10:19:25 [restartedMain] INFO  com.petmate.PetmateApplication - Started PetmateApplication in 9.269 seconds (process running for 9.993)
2025-09-15 10:19:25 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        common_codes gce1_0
2025-09-15 10:19:25 [restartedMain] INFO  com.petmate.config.DataInitializer - Common codes already initialized
2025-09-15 10:19:45 [http-nio-8090-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-15 10:19:45 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-15 10:19:45 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-09-15 10:19:45 [http-nio-8090-exec-1] INFO  c.p.security.JwtAuthenticationFilter - [JWT] POST /auth/signout - Authorization: <absent>
2025-09-15 10:19:48 [http-nio-8090-exec-3] INFO  c.p.security.OAuth2SuccessHandler - === OAuth2 인증 성공 처리 시작 ===
2025-09-15 10:19:48 [http-nio-8090-exec-3] INFO  c.p.security.OAuth2SuccessHandler - OAuth2 사용자 정보: {provider=naver, response={id=2ZBmnoyH7EYixJoarTxtoLrneVrmyXX14s12xmO6yLc, nickname=kimij****, email=kimijug97@naver.com, name=김민중}, providerId=2ZBmnoyH7EYixJoarTxtoLrneVrmyXX14s12xmO6yLc, name=김민중, nickname=kimij****, resultcode=00, message=success, userId=naver_2ZBmnoyH7EYixJoarTxtoLrneVrmyXX14s12xmO6yLc, email=kimijug97@naver.com, picture=null}
2025-09-15 10:19:48 [http-nio-8090-exec-3] INFO  c.p.security.OAuth2SuccessHandler - 파싱된 사용자 정보 - provider: NAVER, email: kimijug97@naver.com, name: 김민중, nickname: kimij****, picture: null
2025-09-15 10:19:48 [http-nio-8090-exec-3] INFO  c.p.security.OAuth2SuccessHandler - 사용자 등록/업데이트 시작
2025-09-15 10:19:48 [http-nio-8090-exec-3] INFO  c.p.domain.user.service.UserService - === applyBasicUser 시작 ===
2025-09-15 10:19:48 [http-nio-8090-exec-3] INFO  c.p.domain.user.service.UserService - email: kimijug97@naver.com, provider: NAVER, name: 김민중, nickname: kimij****, profileImageUrl: null
2025-09-15 10:19:48 [http-nio-8090-exec-3] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.birth_date,
        ue1_0.care_species,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.email_verified,
        ue1_0.gender,
        ue1_0.main_service,
        ue1_0.name,
        ue1_0.nick_name,
        ue1_0.phone,
        ue1_0.profile_image,
        ue1_0.provider,
        ue1_0.role,
        ue1_0.status,
        ue1_0.updated_at 
    from
        user ue1_0 
    where
        ue1_0.email=?
2025-09-15 10:19:48 [http-nio-8090-exec-3] INFO  c.p.domain.user.service.UserService - 사용자 조회/생성 완료 - userId: 19
2025-09-15 10:19:48 [http-nio-8090-exec-3] INFO  c.p.domain.user.service.UserService - 사용자 정보 업데이트 완료
2025-09-15 10:19:48 [http-nio-8090-exec-3] INFO  c.p.domain.user.service.UserService - 프로필 이미지 처리 시작 - profileImageUrl: null
2025-09-15 10:19:48 [http-nio-8090-exec-3] INFO  c.p.domain.user.service.UserService - 이미지 URL이 없어서 기본 이미지 저장
2025-09-15 10:19:48 [http-nio-8090-exec-3] INFO  c.p.d.user.service.UserFileService - 기존 프로필 이미지 존재: userId=19, profile=profiles/default.png
2025-09-15 10:19:48 [http-nio-8090-exec-3] INFO  c.p.domain.user.service.UserService - 기본 이미지 저장 완료 - UUID: profiles/default.png
2025-09-15 10:19:48 [http-nio-8090-exec-3] INFO  c.p.domain.user.service.UserService - 사용자 저장 완료 - 최종 profileImage: profiles/default.png
2025-09-15 10:19:48 [http-nio-8090-exec-3] INFO  c.p.domain.user.service.UserService - === applyBasicUser 완료 ===
2025-09-15 10:19:48 [http-nio-8090-exec-3] INFO  c.p.security.OAuth2SuccessHandler - 사용자 등록/업데이트 완료 - userId: 19
2025-09-15 10:19:48 [http-nio-8090-exec-3] INFO  c.p.security.OAuth2SuccessHandler - 프로필 이미지 URL 조회 시작
2025-09-15 10:19:48 [http-nio-8090-exec-3] INFO  c.p.domain.user.service.UserService - 프로필 이미지 조회: kimijug97@naver.com
2025-09-15 10:19:48 [http-nio-8090-exec-3] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.birth_date,
        ue1_0.care_species,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.email_verified,
        ue1_0.gender,
        ue1_0.main_service,
        ue1_0.name,
        ue1_0.nick_name,
        ue1_0.phone,
        ue1_0.profile_image,
        ue1_0.provider,
        ue1_0.role,
        ue1_0.status,
        ue1_0.updated_at 
    from
        user ue1_0 
    where
        ue1_0.email=?
2025-09-15 10:19:48 [http-nio-8090-exec-3] INFO  c.p.domain.user.service.UserService - DB에서 조회된 UUID: profiles/default.png
2025-09-15 10:19:48 [http-nio-8090-exec-3] INFO  c.p.domain.user.service.UserService - 최종 URL: http://localhost:8090/img/profiles/default.png
2025-09-15 10:19:48 [http-nio-8090-exec-3] INFO  c.p.security.OAuth2SuccessHandler - 조회된 프로필 UUID: http://localhost:8090/img/profiles/default.png
2025-09-15 10:19:48 [http-nio-8090-exec-3] INFO  c.p.security.OAuth2SuccessHandler - 절대 URL 사용: http://localhost:8090/img/profiles/default.png
2025-09-15 10:19:48 [http-nio-8090-exec-3] INFO  c.p.security.OAuth2SuccessHandler - JWT 토큰 발급 시작
2025-09-15 10:19:48 [http-nio-8090-exec-3] INFO  c.p.security.OAuth2SuccessHandler - JWT 토큰 발급 완료
2025-09-15 10:19:48 [http-nio-8090-exec-3] INFO  c.p.security.OAuth2SuccessHandler - 리다이렉트 URL: http://localhost:3000/oauth2/redirect?accessToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlcyI6WyJVU0VSIl0sIm5hbWUiOiLquYDrr7zspJEiLCJuaWNrbmFtZSI6ImtpbWlqKioqKiIsInR5cCI6ImFjY2VzcyIsInByb3YiOiJOQVZFUiIsImVtYWlsIjoia2ltaWp1Zzk3QG5hdmVyLmNvbSIsInBpY3R1cmUiOiJodHRwOi8vbG9jYWxob3N0OjgwOTAvaW1nL3Byb2ZpbGVzL2RlZmF1bHQucG5nIiwic3ViIjoiMTkiLCJpc3MiOiJwZXRtYXRlIiwiaWF0IjoxNzU3ODk5MTg4LCJleHAiOjE3NTc4OTkyNDh9.ho-llfng7HIDgrnIyKDrdlblrARcp590j2Eap5dUCG8&next=%2Fhome
2025-09-15 10:19:48 [http-nio-8090-exec-3] INFO  c.p.security.OAuth2SuccessHandler - === OAuth2 인증 성공 처리 완료 ===
2025-09-15 10:19:49 [http-nio-8090-exec-4] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /auth/me - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=392)
2025-09-15 10:19:49 [http-nio-8090-exec-4] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=19, type=access, exp=Mon Sep 15 10:20:48 KST 2025, expired=false
2025-09-15 10:19:49 [http-nio-8090-exec-5] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /img/profiles/default.png - Authorization: <absent>
2025-09-15 10:19:49 [http-nio-8090-exec-6] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /login - Authorization: <absent>
2025-09-15 10:20:33 [http-nio-8090-exec-7] INFO  c.p.security.JwtAuthenticationFilter - [JWT] POST /auth/signout - Authorization: <absent>
2025-09-15 10:20:36 [http-nio-8090-exec-9] INFO  c.p.security.OAuth2SuccessHandler - === OAuth2 인증 성공 처리 시작 ===
2025-09-15 10:20:36 [http-nio-8090-exec-9] INFO  c.p.security.OAuth2SuccessHandler - OAuth2 사용자 정보: {provider=naver, response={id=2ZBmnoyH7EYixJoarTxtoLrneVrmyXX14s12xmO6yLc, nickname=kimij****, email=kimijug97@naver.com, name=김민중}, providerId=2ZBmnoyH7EYixJoarTxtoLrneVrmyXX14s12xmO6yLc, name=김민중, nickname=kimij****, resultcode=00, message=success, userId=naver_2ZBmnoyH7EYixJoarTxtoLrneVrmyXX14s12xmO6yLc, email=kimijug97@naver.com, picture=null}
2025-09-15 10:20:36 [http-nio-8090-exec-9] INFO  c.p.security.OAuth2SuccessHandler - 파싱된 사용자 정보 - provider: NAVER, email: kimijug97@naver.com, name: 김민중, nickname: kimij****, picture: null
2025-09-15 10:20:36 [http-nio-8090-exec-9] INFO  c.p.security.OAuth2SuccessHandler - 사용자 등록/업데이트 시작
2025-09-15 10:20:36 [http-nio-8090-exec-9] INFO  c.p.domain.user.service.UserService - === applyBasicUser 시작 ===
2025-09-15 10:20:36 [http-nio-8090-exec-9] INFO  c.p.domain.user.service.UserService - email: kimijug97@naver.com, provider: NAVER, name: 김민중, nickname: kimij****, profileImageUrl: null
2025-09-15 10:20:36 [http-nio-8090-exec-9] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.birth_date,
        ue1_0.care_species,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.email_verified,
        ue1_0.gender,
        ue1_0.main_service,
        ue1_0.name,
        ue1_0.nick_name,
        ue1_0.phone,
        ue1_0.profile_image,
        ue1_0.provider,
        ue1_0.role,
        ue1_0.status,
        ue1_0.updated_at 
    from
        user ue1_0 
    where
        ue1_0.email=?
2025-09-15 10:20:36 [http-nio-8090-exec-9] INFO  c.p.domain.user.service.UserService - 새 사용자 생성: kimijug97@naver.com
2025-09-15 10:20:36 [http-nio-8090-exec-9] DEBUG org.hibernate.SQL - 
    insert 
    into
        user
        (birth_date, care_species, created_at, email, email_verified, gender, main_service, name, nick_name, phone, profile_image, provider, role, status, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-09-15 10:20:36 [http-nio-8090-exec-9] INFO  c.p.domain.user.service.UserService - 사용자 조회/생성 완료 - userId: 20
2025-09-15 10:20:36 [http-nio-8090-exec-9] INFO  c.p.domain.user.service.UserService - 사용자 정보 업데이트 완료
2025-09-15 10:20:36 [http-nio-8090-exec-9] INFO  c.p.domain.user.service.UserService - 프로필 이미지 처리 시작 - profileImageUrl: null
2025-09-15 10:20:36 [http-nio-8090-exec-9] INFO  c.p.domain.user.service.UserService - 이미지 URL이 없어서 기본 이미지 저장
2025-09-15 10:20:36 [http-nio-8090-exec-9] INFO  c.p.d.user.service.UserFileService - 기존 프로필 이미지 존재: userId=20, profile=profiles/default.png
2025-09-15 10:20:36 [http-nio-8090-exec-9] INFO  c.p.domain.user.service.UserService - 기본 이미지 저장 완료 - UUID: profiles/default.png
2025-09-15 10:20:36 [http-nio-8090-exec-9] INFO  c.p.domain.user.service.UserService - 사용자 저장 완료 - 최종 profileImage: profiles/default.png
2025-09-15 10:20:36 [http-nio-8090-exec-9] INFO  c.p.domain.user.service.UserService - === applyBasicUser 완료 ===
2025-09-15 10:20:36 [http-nio-8090-exec-9] INFO  c.p.security.OAuth2SuccessHandler - 사용자 등록/업데이트 완료 - userId: 20
2025-09-15 10:20:36 [http-nio-8090-exec-9] INFO  c.p.security.OAuth2SuccessHandler - 프로필 이미지 URL 조회 시작
2025-09-15 10:20:36 [http-nio-8090-exec-9] INFO  c.p.domain.user.service.UserService - 프로필 이미지 조회: kimijug97@naver.com
2025-09-15 10:20:36 [http-nio-8090-exec-9] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.birth_date,
        ue1_0.care_species,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.email_verified,
        ue1_0.gender,
        ue1_0.main_service,
        ue1_0.name,
        ue1_0.nick_name,
        ue1_0.phone,
        ue1_0.profile_image,
        ue1_0.provider,
        ue1_0.role,
        ue1_0.status,
        ue1_0.updated_at 
    from
        user ue1_0 
    where
        ue1_0.email=?
2025-09-15 10:20:36 [http-nio-8090-exec-9] INFO  c.p.domain.user.service.UserService - DB에서 조회된 UUID: profiles/default.png
2025-09-15 10:20:36 [http-nio-8090-exec-9] INFO  c.p.domain.user.service.UserService - 최종 URL: http://localhost:8090/img/profiles/default.png
2025-09-15 10:20:36 [http-nio-8090-exec-9] INFO  c.p.security.OAuth2SuccessHandler - 조회된 프로필 UUID: http://localhost:8090/img/profiles/default.png
2025-09-15 10:20:36 [http-nio-8090-exec-9] INFO  c.p.security.OAuth2SuccessHandler - 절대 URL 사용: http://localhost:8090/img/profiles/default.png
2025-09-15 10:20:36 [http-nio-8090-exec-9] INFO  c.p.security.OAuth2SuccessHandler - JWT 토큰 발급 시작
2025-09-15 10:20:36 [http-nio-8090-exec-9] INFO  c.p.security.OAuth2SuccessHandler - JWT 토큰 발급 완료
2025-09-15 10:20:36 [http-nio-8090-exec-9] INFO  c.p.security.OAuth2SuccessHandler - 리다이렉트 URL: http://localhost:3000/oauth2/redirect?accessToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlcyI6WyJVU0VSIl0sIm5hbWUiOiLquYDrr7zspJEiLCJuaWNrbmFtZSI6ImtpbWlqKioqKiIsInR5cCI6ImFjY2VzcyIsInByb3YiOiJOQVZFUiIsImVtYWlsIjoia2ltaWp1Zzk3QG5hdmVyLmNvbSIsInBpY3R1cmUiOiJodHRwOi8vbG9jYWxob3N0OjgwOTAvaW1nL3Byb2ZpbGVzL2RlZmF1bHQucG5nIiwic3ViIjoiMjAiLCJpc3MiOiJwZXRtYXRlIiwiaWF0IjoxNzU3ODk5MjM2LCJleHAiOjE3NTc4OTkyOTZ9.X4i3zMnPxvCvL90aJkNayCw_4UXtUjt0-4dP8KzLb7k&next=%2Fhome
2025-09-15 10:20:36 [http-nio-8090-exec-9] INFO  c.p.security.OAuth2SuccessHandler - === OAuth2 인증 성공 처리 완료 ===
2025-09-15 10:20:36 [http-nio-8090-exec-10] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /auth/me - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=392)
2025-09-15 10:20:36 [http-nio-8090-exec-10] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=20, type=access, exp=Mon Sep 15 10:21:36 KST 2025, expired=false
2025-09-15 10:20:37 [http-nio-8090-exec-1] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /img/profiles/default.png - Authorization: <absent>
2025-09-15 10:20:37 [http-nio-8090-exec-2] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /login - Authorization: <absent>
2025-09-15 10:24:39 [restartedMain] INFO  com.petmate.PetmateApplication - Starting PetmateApplication using Java 21.0.7 with PID 9824 (C:\lfm01\spring_boot\pjt-sts4\petmate-backend-mainb\petmate-backend\build\classes\java\main started by HI-02 in C:\lfm01\spring_boot\pjt-sts4\petmate-backend-mainb\petmate-backend)
2025-09-15 10:24:39 [restartedMain] DEBUG com.petmate.PetmateApplication - Running with Spring Boot v3.5.5, Spring v6.2.10
2025-09-15 10:24:39 [restartedMain] INFO  com.petmate.PetmateApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-15 10:24:39 [restartedMain] INFO  o.s.b.d.restart.ChangeableUrls - The Class-Path manifest attribute in C:\Users\HI-02\.gradle\caches\modules-2\files-2.1\io.github.cdimascio\java-dotenv\5.2.2\f77d54ff193ed4b07415ab8d7b3d0550716aa8c\java-dotenv-5.2.2.jar referenced one or more files that do not exist: file:/C:/Users/HI-02/.gradle/caches/modules-2/files-2.1/io.github.cdimascio/java-dotenv/5.2.2/f77d54ff193ed4b07415ab8d7b3d0550716aa8c/kotlin-stdlib-1.4.0.jar,file:/C:/Users/HI-02/.gradle/caches/modules-2/files-2.1/io.github.cdimascio/java-dotenv/5.2.2/f77d54ff193ed4b07415ab8d7b3d0550716aa8c/kotlin-stdlib-common-1.4.0.jar,file:/C:/Users/HI-02/.gradle/caches/modules-2/files-2.1/io.github.cdimascio/java-dotenv/5.2.2/f77d54ff193ed4b07415ab8d7b3d0550716aa8c/annotations-13.0.jar
2025-09-15 10:24:39 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-09-15 10:24:39 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-09-15 10:24:40 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-15 10:24:41 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 129 ms. Found 8 JPA repository interfaces.
2025-09-15 10:24:42 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8090 (http)
2025-09-15 10:24:42 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-15 10:24:42 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.44]
2025-09-15 10:24:42 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-15 10:24:42 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2847 ms
2025-09-15 10:24:43 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-15 10:24:43 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.26.Final
2025-09-15 10:24:43 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-15 10:24:43 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-15 10:24:43 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-15 10:24:44 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3eb4912d
2025-09-15 10:24:44 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-15 10:24:44 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-15 10:24:45 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-15 10:24:45 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-15 10:24:46 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-15 10:24:47 [restartedMain] INFO  com.petmate.config.WebConfig - CORS applied. origins=http://localhost:3000, http://localhost:3001
2025-09-15 10:24:48 [restartedMain] INFO  com.petmate.config.WebConfig - Static mapping applied. /files/** -> file:C:/petmate/
2025-09-15 10:24:48 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-09-15 10:24:48 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-15 10:24:48 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8090 (http) with context path '/'
2025-09-15 10:24:48 [restartedMain] INFO  com.petmate.PetmateApplication - Started PetmateApplication in 9.581 seconds (process running for 10.325)
2025-09-15 10:24:48 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        common_codes gce1_0
2025-09-15 10:24:48 [restartedMain] INFO  com.petmate.config.DataInitializer - Common codes already initialized
2025-09-15 10:25:01 [http-nio-8090-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-15 10:25:01 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-15 10:25:01 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-09-15 10:25:01 [http-nio-8090-exec-1] INFO  c.p.security.JwtAuthenticationFilter - [JWT] POST /auth/signout - Authorization: <absent>
2025-09-15 10:25:04 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - === OAuth2 인증 성공 처리 시작 ===
2025-09-15 10:25:04 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - OAuth2 사용자 정보: {provider=naver, response={id=2ZBmnoyH7EYixJoarTxtoLrneVrmyXX14s12xmO6yLc, nickname=kimij****, email=kimijug97@naver.com, name=김민중}, providerId=2ZBmnoyH7EYixJoarTxtoLrneVrmyXX14s12xmO6yLc, name=김민중, nickname=kimij****, resultcode=00, message=success, userId=naver_2ZBmnoyH7EYixJoarTxtoLrneVrmyXX14s12xmO6yLc, email=kimijug97@naver.com, picture=null}
2025-09-15 10:25:04 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - 파싱된 사용자 정보 - provider: NAVER, email: kimijug97@naver.com, name: 김민중, nickname: kimij****, picture: null
2025-09-15 10:25:04 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - 사용자 등록/업데이트 시작
2025-09-15 10:25:04 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - === applyBasicUser 시작 ===
2025-09-15 10:25:04 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - email: kimijug97@naver.com, provider: NAVER, name: 김민중, nickname: kimij****, profileImageUrl: null
2025-09-15 10:25:04 [http-nio-8090-exec-4] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.birth_date,
        ue1_0.care_species,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.email_verified,
        ue1_0.gender,
        ue1_0.main_service,
        ue1_0.name,
        ue1_0.nick_name,
        ue1_0.phone,
        ue1_0.profile_image,
        ue1_0.provider,
        ue1_0.role,
        ue1_0.status,
        ue1_0.updated_at 
    from
        user ue1_0 
    where
        ue1_0.email=?
2025-09-15 10:25:04 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - 새 사용자 생성: kimijug97@naver.com
2025-09-15 10:25:04 [http-nio-8090-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        user
        (birth_date, care_species, created_at, email, email_verified, gender, main_service, name, nick_name, phone, profile_image, provider, role, status, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-09-15 10:25:05 [http-nio-8090-exec-4] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 1048, SQLState: 23000
2025-09-15 10:25:05 [http-nio-8090-exec-4] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Column 'profile_image' cannot be null
2025-09-15 10:25:05 [http-nio-8090-exec-4] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
org.springframework.dao.DataIntegrityViolationException: could not execute statement [Column 'profile_image' cannot be null] [insert into user (birth_date,care_species,created_at,email,email_verified,gender,main_service,name,nick_name,phone,profile_image,provider,role,status,updated_at) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]; SQL [insert into user (birth_date,care_species,created_at,email,email_verified,gender,main_service,name,nick_name,phone,profile_image,provider,role,status,updated_at) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]; constraint [null]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:294)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy156.save(Unknown Source)
	at com.petmate.domain.user.service.UserService.lambda$applyBasicUser$1(UserService.java:62)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at com.petmate.domain.user.service.UserService.applyBasicUser(UserService.java:60)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.petmate.domain.user.service.UserService$$SpringCGLIB$$0.applyBasicUser(<generated>)
	at com.petmate.security.OAuth2SuccessHandler.onAuthenticationSuccess(OAuth2SuccessHandler.java:55)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.petmate.security.OAuth2SuccessHandler$$SpringCGLIB$$0.onAuthenticationSuccess(<generated>)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.successfulAuthentication(AbstractAuthenticationProcessingFilter.java:355)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:253)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:229)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [Column 'profile_image' cannot be null] [insert into user (birth_date,care_species,created_at,email,email_verified,gender,main_service,name,nick_name,phone,profile_image,provider,role,status,updated_at) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:62)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.id.insert.GetGeneratedKeysDelegate.performMutation(GetGeneratedKeysDelegate.java:116)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:47)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:95)
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:85)
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:682)
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:293)
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:274)
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:324)
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:394)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:308)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:224)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:136)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:177)
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:95)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:79)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:761)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:745)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy4/jdk.proxy4.$Proxy150.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:654)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:734)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 99 common frames omitted
Caused by: java.sql.SQLIntegrityConstraintViolationException: Column 'profile_image' cannot be null
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:109)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:988)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1166)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1101)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1448)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1084)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	... 145 common frames omitted
2025-09-15 10:25:59 [restartedMain] INFO  com.petmate.PetmateApplication - Starting PetmateApplication using Java 21.0.7 with PID 10564 (C:\lfm01\spring_boot\pjt-sts4\petmate-backend-mainb\petmate-backend\build\classes\java\main started by HI-02 in C:\lfm01\spring_boot\pjt-sts4\petmate-backend-mainb\petmate-backend)
2025-09-15 10:25:59 [restartedMain] DEBUG com.petmate.PetmateApplication - Running with Spring Boot v3.5.5, Spring v6.2.10
2025-09-15 10:25:59 [restartedMain] INFO  com.petmate.PetmateApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-15 10:25:59 [restartedMain] INFO  o.s.b.d.restart.ChangeableUrls - The Class-Path manifest attribute in C:\Users\HI-02\.gradle\caches\modules-2\files-2.1\io.github.cdimascio\java-dotenv\5.2.2\f77d54ff193ed4b07415ab8d7b3d0550716aa8c\java-dotenv-5.2.2.jar referenced one or more files that do not exist: file:/C:/Users/HI-02/.gradle/caches/modules-2/files-2.1/io.github.cdimascio/java-dotenv/5.2.2/f77d54ff193ed4b07415ab8d7b3d0550716aa8c/kotlin-stdlib-1.4.0.jar,file:/C:/Users/HI-02/.gradle/caches/modules-2/files-2.1/io.github.cdimascio/java-dotenv/5.2.2/f77d54ff193ed4b07415ab8d7b3d0550716aa8c/kotlin-stdlib-common-1.4.0.jar,file:/C:/Users/HI-02/.gradle/caches/modules-2/files-2.1/io.github.cdimascio/java-dotenv/5.2.2/f77d54ff193ed4b07415ab8d7b3d0550716aa8c/annotations-13.0.jar
2025-09-15 10:25:59 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-09-15 10:25:59 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-09-15 10:26:00 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-15 10:26:00 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 130 ms. Found 8 JPA repository interfaces.
2025-09-15 10:26:02 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8090 (http)
2025-09-15 10:26:02 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-15 10:26:02 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.44]
2025-09-15 10:26:02 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-15 10:26:02 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2590 ms
2025-09-15 10:26:02 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-15 10:26:02 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.26.Final
2025-09-15 10:26:02 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-15 10:26:03 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-15 10:26:03 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-15 10:26:03 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2c80187b
2025-09-15 10:26:03 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-15 10:26:03 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-15 10:26:05 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-15 10:26:05 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table user 
       modify column profile_image varchar(500) not null comment '프로필 이미지'
2025-09-15 10:26:05 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-15 10:26:05 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-15 10:26:07 [restartedMain] INFO  com.petmate.config.WebConfig - CORS applied. origins=http://localhost:3000, http://localhost:3001
2025-09-15 10:26:07 [restartedMain] INFO  com.petmate.config.WebConfig - Static mapping applied. /files/** -> file:C:/petmate/
2025-09-15 10:26:07 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-09-15 10:26:07 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-15 10:26:07 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8090 (http) with context path '/'
2025-09-15 10:26:07 [restartedMain] INFO  com.petmate.PetmateApplication - Started PetmateApplication in 8.788 seconds (process running for 9.472)
2025-09-15 10:26:07 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        common_codes gce1_0
2025-09-15 10:26:07 [restartedMain] INFO  com.petmate.config.DataInitializer - Common codes already initialized
2025-09-15 10:26:21 [http-nio-8090-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-15 10:26:21 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-15 10:26:21 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-09-15 10:26:21 [http-nio-8090-exec-1] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /auth/me - Authorization: <absent>
2025-09-15 10:26:23 [http-nio-8090-exec-3] INFO  c.p.security.OAuth2SuccessHandler - === OAuth2 인증 성공 처리 시작 ===
2025-09-15 10:26:23 [http-nio-8090-exec-3] INFO  c.p.security.OAuth2SuccessHandler - OAuth2 사용자 정보: {provider=naver, response={id=2ZBmnoyH7EYixJoarTxtoLrneVrmyXX14s12xmO6yLc, nickname=kimij****, email=kimijug97@naver.com, name=김민중}, providerId=2ZBmnoyH7EYixJoarTxtoLrneVrmyXX14s12xmO6yLc, name=김민중, nickname=kimij****, resultcode=00, message=success, userId=naver_2ZBmnoyH7EYixJoarTxtoLrneVrmyXX14s12xmO6yLc, email=kimijug97@naver.com, picture=null}
2025-09-15 10:26:23 [http-nio-8090-exec-3] INFO  c.p.security.OAuth2SuccessHandler - 파싱된 사용자 정보 - provider: NAVER, email: kimijug97@naver.com, name: 김민중, nickname: kimij****, picture: null
2025-09-15 10:26:23 [http-nio-8090-exec-3] INFO  c.p.security.OAuth2SuccessHandler - 사용자 등록/업데이트 시작
2025-09-15 10:26:23 [http-nio-8090-exec-3] INFO  c.p.domain.user.service.UserService - === applyBasicUser 시작 ===
2025-09-15 10:26:23 [http-nio-8090-exec-3] INFO  c.p.domain.user.service.UserService - email: kimijug97@naver.com, provider: NAVER, name: 김민중, nickname: kimij****, profileImageUrl: null
2025-09-15 10:26:23 [http-nio-8090-exec-3] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.birth_date,
        ue1_0.care_species,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.email_verified,
        ue1_0.gender,
        ue1_0.main_service,
        ue1_0.name,
        ue1_0.nick_name,
        ue1_0.phone,
        ue1_0.profile_image,
        ue1_0.provider,
        ue1_0.role,
        ue1_0.status,
        ue1_0.updated_at 
    from
        user ue1_0 
    where
        ue1_0.email=?
2025-09-15 10:26:23 [http-nio-8090-exec-3] INFO  c.p.domain.user.service.UserService - 새 사용자 생성: kimijug97@naver.com
2025-09-15 10:26:23 [http-nio-8090-exec-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        user
        (birth_date, care_species, created_at, email, email_verified, gender, main_service, name, nick_name, phone, profile_image, provider, role, status, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-09-15 10:26:23 [http-nio-8090-exec-3] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 1048, SQLState: 23000
2025-09-15 10:26:23 [http-nio-8090-exec-3] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Column 'profile_image' cannot be null
2025-09-15 10:26:23 [http-nio-8090-exec-3] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
org.springframework.dao.DataIntegrityViolationException: could not execute statement [Column 'profile_image' cannot be null] [insert into user (birth_date,care_species,created_at,email,email_verified,gender,main_service,name,nick_name,phone,profile_image,provider,role,status,updated_at) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]; SQL [insert into user (birth_date,care_species,created_at,email,email_verified,gender,main_service,name,nick_name,phone,profile_image,provider,role,status,updated_at) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]; constraint [null]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:294)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy156.save(Unknown Source)
	at com.petmate.domain.user.service.UserService.lambda$applyBasicUser$1(UserService.java:62)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at com.petmate.domain.user.service.UserService.applyBasicUser(UserService.java:60)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.petmate.domain.user.service.UserService$$SpringCGLIB$$0.applyBasicUser(<generated>)
	at com.petmate.security.OAuth2SuccessHandler.onAuthenticationSuccess(OAuth2SuccessHandler.java:55)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.petmate.security.OAuth2SuccessHandler$$SpringCGLIB$$0.onAuthenticationSuccess(<generated>)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.successfulAuthentication(AbstractAuthenticationProcessingFilter.java:355)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:253)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:229)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [Column 'profile_image' cannot be null] [insert into user (birth_date,care_species,created_at,email,email_verified,gender,main_service,name,nick_name,phone,profile_image,provider,role,status,updated_at) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:62)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.id.insert.GetGeneratedKeysDelegate.performMutation(GetGeneratedKeysDelegate.java:116)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:47)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:95)
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:85)
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:682)
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:293)
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:274)
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:324)
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:394)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:308)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:224)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:136)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:177)
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:95)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:79)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:761)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:745)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy4/jdk.proxy4.$Proxy150.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:654)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:734)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 99 common frames omitted
Caused by: java.sql.SQLIntegrityConstraintViolationException: Column 'profile_image' cannot be null
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:109)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:988)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1166)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1101)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1448)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1084)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	... 145 common frames omitted
2025-09-15 10:28:56 [restartedMain] INFO  com.petmate.PetmateApplication - Starting PetmateApplication using Java 21.0.7 with PID 19744 (C:\lfm01\spring_boot\pjt-sts4\petmate-backend-mainb\petmate-backend\build\classes\java\main started by HI-02 in C:\lfm01\spring_boot\pjt-sts4\petmate-backend-mainb\petmate-backend)
2025-09-15 10:28:56 [restartedMain] DEBUG com.petmate.PetmateApplication - Running with Spring Boot v3.5.5, Spring v6.2.10
2025-09-15 10:28:56 [restartedMain] INFO  com.petmate.PetmateApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-15 10:28:56 [restartedMain] INFO  o.s.b.d.restart.ChangeableUrls - The Class-Path manifest attribute in C:\Users\HI-02\.gradle\caches\modules-2\files-2.1\io.github.cdimascio\java-dotenv\5.2.2\f77d54ff193ed4b07415ab8d7b3d0550716aa8c\java-dotenv-5.2.2.jar referenced one or more files that do not exist: file:/C:/Users/HI-02/.gradle/caches/modules-2/files-2.1/io.github.cdimascio/java-dotenv/5.2.2/f77d54ff193ed4b07415ab8d7b3d0550716aa8c/kotlin-stdlib-1.4.0.jar,file:/C:/Users/HI-02/.gradle/caches/modules-2/files-2.1/io.github.cdimascio/java-dotenv/5.2.2/f77d54ff193ed4b07415ab8d7b3d0550716aa8c/kotlin-stdlib-common-1.4.0.jar,file:/C:/Users/HI-02/.gradle/caches/modules-2/files-2.1/io.github.cdimascio/java-dotenv/5.2.2/f77d54ff193ed4b07415ab8d7b3d0550716aa8c/annotations-13.0.jar
2025-09-15 10:28:56 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-09-15 10:28:56 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-09-15 10:28:57 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-15 10:28:57 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 139 ms. Found 8 JPA repository interfaces.
2025-09-15 10:28:58 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8090 (http)
2025-09-15 10:28:58 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-15 10:28:58 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.44]
2025-09-15 10:28:59 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-15 10:28:59 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2577 ms
2025-09-15 10:28:59 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-15 10:28:59 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.26.Final
2025-09-15 10:28:59 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-15 10:28:59 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-15 10:28:59 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-15 10:29:00 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2c80187b
2025-09-15 10:29:00 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-15 10:29:00 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-15 10:29:01 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-15 10:29:01 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-15 10:29:02 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-15 10:29:03 [restartedMain] INFO  com.petmate.config.WebConfig - CORS applied. origins=http://localhost:3000, http://localhost:3001
2025-09-15 10:29:04 [restartedMain] INFO  com.petmate.config.WebConfig - Static mapping applied. /files/** -> file:C:/petmate/
2025-09-15 10:29:04 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-09-15 10:29:04 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-15 10:29:04 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8090 (http) with context path '/'
2025-09-15 10:29:04 [restartedMain] INFO  com.petmate.PetmateApplication - Started PetmateApplication in 8.958 seconds (process running for 9.675)
2025-09-15 10:29:04 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        common_codes gce1_0
2025-09-15 10:29:04 [restartedMain] INFO  com.petmate.config.DataInitializer - Common codes already initialized
2025-09-15 10:29:05 [http-nio-8090-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-15 10:29:05 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-15 10:29:05 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-09-15 10:29:05 [http-nio-8090-exec-1] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /auth/me - Authorization: <absent>
2025-09-15 10:29:08 [http-nio-8090-exec-3] INFO  c.p.security.OAuth2SuccessHandler - === OAuth2 인증 성공 처리 시작 ===
2025-09-15 10:29:08 [http-nio-8090-exec-3] INFO  c.p.security.OAuth2SuccessHandler - OAuth2 사용자 정보: {provider=naver, response={id=2ZBmnoyH7EYixJoarTxtoLrneVrmyXX14s12xmO6yLc, nickname=kimij****, email=kimijug97@naver.com, name=김민중}, providerId=2ZBmnoyH7EYixJoarTxtoLrneVrmyXX14s12xmO6yLc, name=김민중, nickname=kimij****, resultcode=00, message=success, userId=naver_2ZBmnoyH7EYixJoarTxtoLrneVrmyXX14s12xmO6yLc, email=kimijug97@naver.com, picture=null}
2025-09-15 10:29:08 [http-nio-8090-exec-3] INFO  c.p.security.OAuth2SuccessHandler - 파싱된 사용자 정보 - provider: NAVER, email: kimijug97@naver.com, name: 김민중, nickname: kimij****, picture: null
2025-09-15 10:29:08 [http-nio-8090-exec-3] INFO  c.p.security.OAuth2SuccessHandler - 사용자 등록/업데이트 시작
2025-09-15 10:29:08 [http-nio-8090-exec-3] INFO  c.p.domain.user.service.UserService - === applyBasicUser 시작 ===
2025-09-15 10:29:08 [http-nio-8090-exec-3] INFO  c.p.domain.user.service.UserService - email: kimijug97@naver.com, provider: NAVER, name: 김민중, nickname: kimij****, profileImageUrl: null
2025-09-15 10:29:08 [http-nio-8090-exec-3] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.birth_date,
        ue1_0.care_species,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.email_verified,
        ue1_0.gender,
        ue1_0.main_service,
        ue1_0.name,
        ue1_0.nick_name,
        ue1_0.phone,
        ue1_0.profile_image,
        ue1_0.provider,
        ue1_0.role,
        ue1_0.status,
        ue1_0.updated_at 
    from
        user ue1_0 
    where
        ue1_0.email=?
2025-09-15 10:29:08 [http-nio-8090-exec-3] INFO  c.p.domain.user.service.UserService - 새 사용자 생성: kimijug97@naver.com
2025-09-15 10:29:08 [http-nio-8090-exec-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        user
        (birth_date, care_species, created_at, email, email_verified, gender, main_service, name, nick_name, phone, profile_image, provider, role, status, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-09-15 10:29:09 [http-nio-8090-exec-3] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 1048, SQLState: 23000
2025-09-15 10:29:09 [http-nio-8090-exec-3] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Column 'profile_image' cannot be null
2025-09-15 10:29:09 [http-nio-8090-exec-3] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
org.springframework.dao.DataIntegrityViolationException: could not execute statement [Column 'profile_image' cannot be null] [insert into user (birth_date,care_species,created_at,email,email_verified,gender,main_service,name,nick_name,phone,profile_image,provider,role,status,updated_at) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]; SQL [insert into user (birth_date,care_species,created_at,email,email_verified,gender,main_service,name,nick_name,phone,profile_image,provider,role,status,updated_at) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]; constraint [null]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:294)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy156.save(Unknown Source)
	at com.petmate.domain.user.service.UserService.lambda$applyBasicUser$1(UserService.java:62)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at com.petmate.domain.user.service.UserService.applyBasicUser(UserService.java:60)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.petmate.domain.user.service.UserService$$SpringCGLIB$$0.applyBasicUser(<generated>)
	at com.petmate.security.OAuth2SuccessHandler.onAuthenticationSuccess(OAuth2SuccessHandler.java:55)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.petmate.security.OAuth2SuccessHandler$$SpringCGLIB$$0.onAuthenticationSuccess(<generated>)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.successfulAuthentication(AbstractAuthenticationProcessingFilter.java:355)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:253)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:229)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [Column 'profile_image' cannot be null] [insert into user (birth_date,care_species,created_at,email,email_verified,gender,main_service,name,nick_name,phone,profile_image,provider,role,status,updated_at) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:62)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.id.insert.GetGeneratedKeysDelegate.performMutation(GetGeneratedKeysDelegate.java:116)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:47)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:95)
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:85)
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:682)
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:293)
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:274)
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:324)
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:394)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:308)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:224)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:136)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:177)
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:95)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:79)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:761)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:745)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy4/jdk.proxy4.$Proxy150.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:654)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:734)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 99 common frames omitted
Caused by: java.sql.SQLIntegrityConstraintViolationException: Column 'profile_image' cannot be null
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:109)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:988)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1166)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1101)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1448)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1084)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	... 145 common frames omitted
2025-09-15 10:29:11 [http-nio-8090-exec-4] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /auth/me - Authorization: <absent>
2025-09-15 10:30:06 [restartedMain] INFO  com.petmate.PetmateApplication - Starting PetmateApplication using Java 21.0.7 with PID 20324 (C:\lfm01\spring_boot\pjt-sts4\petmate-backend-mainb\petmate-backend\build\classes\java\main started by HI-02 in C:\lfm01\spring_boot\pjt-sts4\petmate-backend-mainb\petmate-backend)
2025-09-15 10:30:06 [restartedMain] DEBUG com.petmate.PetmateApplication - Running with Spring Boot v3.5.5, Spring v6.2.10
2025-09-15 10:30:06 [restartedMain] INFO  com.petmate.PetmateApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-15 10:30:07 [restartedMain] INFO  o.s.b.d.restart.ChangeableUrls - The Class-Path manifest attribute in C:\Users\HI-02\.gradle\caches\modules-2\files-2.1\io.github.cdimascio\java-dotenv\5.2.2\f77d54ff193ed4b07415ab8d7b3d0550716aa8c\java-dotenv-5.2.2.jar referenced one or more files that do not exist: file:/C:/Users/HI-02/.gradle/caches/modules-2/files-2.1/io.github.cdimascio/java-dotenv/5.2.2/f77d54ff193ed4b07415ab8d7b3d0550716aa8c/kotlin-stdlib-1.4.0.jar,file:/C:/Users/HI-02/.gradle/caches/modules-2/files-2.1/io.github.cdimascio/java-dotenv/5.2.2/f77d54ff193ed4b07415ab8d7b3d0550716aa8c/kotlin-stdlib-common-1.4.0.jar,file:/C:/Users/HI-02/.gradle/caches/modules-2/files-2.1/io.github.cdimascio/java-dotenv/5.2.2/f77d54ff193ed4b07415ab8d7b3d0550716aa8c/annotations-13.0.jar
2025-09-15 10:30:07 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-09-15 10:30:07 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-09-15 10:30:07 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-15 10:30:08 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 124 ms. Found 8 JPA repository interfaces.
2025-09-15 10:30:09 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8090 (http)
2025-09-15 10:30:09 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-15 10:30:09 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.44]
2025-09-15 10:30:09 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-15 10:30:09 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2545 ms
2025-09-15 10:30:09 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-15 10:30:09 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.26.Final
2025-09-15 10:30:10 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-15 10:30:10 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-15 10:30:10 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-15 10:30:10 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5f5cb7e8
2025-09-15 10:30:10 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-15 10:30:11 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-15 10:30:12 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-15 10:30:12 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table user 
       modify column profile_image varchar(500) comment '프로필 이미지'
2025-09-15 10:30:12 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-15 10:30:13 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-15 10:30:14 [restartedMain] INFO  com.petmate.config.WebConfig - CORS applied. origins=http://localhost:3000, http://localhost:3001
2025-09-15 10:30:14 [restartedMain] INFO  com.petmate.config.WebConfig - Static mapping applied. /files/** -> file:C:/petmate/
2025-09-15 10:30:14 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-09-15 10:30:15 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-15 10:30:15 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8090 (http) with context path '/'
2025-09-15 10:30:15 [restartedMain] INFO  com.petmate.PetmateApplication - Started PetmateApplication in 8.886 seconds (process running for 9.593)
2025-09-15 10:30:15 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        common_codes gce1_0
2025-09-15 10:30:15 [restartedMain] INFO  com.petmate.config.DataInitializer - Common codes already initialized
2025-09-15 10:30:28 [http-nio-8090-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-15 10:30:28 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-15 10:30:28 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-09-15 10:30:29 [http-nio-8090-exec-2] INFO  c.p.security.OAuth2SuccessHandler - === OAuth2 인증 성공 처리 시작 ===
2025-09-15 10:30:29 [http-nio-8090-exec-2] INFO  c.p.security.OAuth2SuccessHandler - OAuth2 사용자 정보: {provider=naver, response={id=2ZBmnoyH7EYixJoarTxtoLrneVrmyXX14s12xmO6yLc, nickname=kimij****, email=kimijug97@naver.com, name=김민중}, providerId=2ZBmnoyH7EYixJoarTxtoLrneVrmyXX14s12xmO6yLc, name=김민중, nickname=kimij****, resultcode=00, message=success, userId=naver_2ZBmnoyH7EYixJoarTxtoLrneVrmyXX14s12xmO6yLc, email=kimijug97@naver.com, picture=null}
2025-09-15 10:30:29 [http-nio-8090-exec-2] INFO  c.p.security.OAuth2SuccessHandler - 파싱된 사용자 정보 - provider: NAVER, email: kimijug97@naver.com, name: 김민중, nickname: kimij****, picture: null
2025-09-15 10:30:29 [http-nio-8090-exec-2] INFO  c.p.security.OAuth2SuccessHandler - 사용자 등록/업데이트 시작
2025-09-15 10:30:29 [http-nio-8090-exec-2] INFO  c.p.domain.user.service.UserService - === applyBasicUser 시작 ===
2025-09-15 10:30:29 [http-nio-8090-exec-2] INFO  c.p.domain.user.service.UserService - email: kimijug97@naver.com, provider: NAVER, name: 김민중, nickname: kimij****, profileImageUrl: null
2025-09-15 10:30:29 [http-nio-8090-exec-2] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.birth_date,
        ue1_0.care_species,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.email_verified,
        ue1_0.gender,
        ue1_0.main_service,
        ue1_0.name,
        ue1_0.nick_name,
        ue1_0.phone,
        ue1_0.profile_image,
        ue1_0.provider,
        ue1_0.role,
        ue1_0.status,
        ue1_0.updated_at 
    from
        user ue1_0 
    where
        ue1_0.email=?
2025-09-15 10:30:29 [http-nio-8090-exec-2] INFO  c.p.domain.user.service.UserService - 새 사용자 생성: kimijug97@naver.com
2025-09-15 10:30:29 [http-nio-8090-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        user
        (birth_date, care_species, created_at, email, email_verified, gender, main_service, name, nick_name, phone, profile_image, provider, role, status, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-09-15 10:30:29 [http-nio-8090-exec-2] INFO  c.p.domain.user.service.UserService - 사용자 조회/생성 완료 - userId: 21
2025-09-15 10:30:29 [http-nio-8090-exec-2] INFO  c.p.domain.user.service.UserService - 사용자 정보 업데이트 완료
2025-09-15 10:30:29 [http-nio-8090-exec-2] INFO  c.p.domain.user.service.UserService - 프로필 이미지 처리 시작 - profileImageUrl: null
2025-09-15 10:30:29 [http-nio-8090-exec-2] INFO  c.p.domain.user.service.UserService - 이미지 URL이 없어서 기본 이미지 저장
2025-09-15 10:30:29 [http-nio-8090-exec-2] INFO  c.p.d.user.service.UserFileService - 기본 프로필 이미지 저장 시작: userId=21
2025-09-15 10:30:29 [http-nio-8090-exec-2] INFO  c.p.d.user.service.UserFileService - 기본 프로필 저장 경로: C:\petmate\21\profile\cb9e1ede-3b2a-4bca-9e9f-451ee1b4f65c.png
2025-09-15 10:30:29 [http-nio-8090-exec-2] INFO  c.p.d.user.service.UserFileService - 기본 프로필 이미지 저장 완료: C:\petmate\21\profile\cb9e1ede-3b2a-4bca-9e9f-451ee1b4f65c.png
2025-09-15 10:30:29 [http-nio-8090-exec-2] DEBUG org.hibernate.SQL - 
    select
        pim1_0.uuid,
        pim1_0.created_at,
        pim1_0.email,
        pim1_0.expires_at,
        pim1_0.real_path 
    from
        profile_image_map pim1_0 
    where
        pim1_0.email=?
2025-09-15 10:30:29 [http-nio-8090-exec-2] DEBUG org.hibernate.SQL - 
    select
        pim1_0.uuid,
        pim1_0.created_at,
        pim1_0.email,
        pim1_0.expires_at,
        pim1_0.real_path 
    from
        profile_image_map pim1_0 
    where
        pim1_0.uuid=?
2025-09-15 10:30:29 [http-nio-8090-exec-2] INFO  c.p.d.user.service.UserFileService - 기본 프로필 ImageMap 저장 완료: email=kimijug97@naver.com, uuid=cb9e1ede-3b2a-4bca-9e9f-451ee1b4f65c.png, path=C:\petmate\21\profile\cb9e1ede-3b2a-4bca-9e9f-451ee1b4f65c.png
2025-09-15 10:30:29 [http-nio-8090-exec-2] INFO  c.p.d.user.service.UserFileService - 사용자 프로필 이미지 UUID 설정: userId=21, uuid=cb9e1ede-3b2a-4bca-9e9f-451ee1b4f65c.png
2025-09-15 10:30:29 [http-nio-8090-exec-2] INFO  c.p.domain.user.service.UserService - 기본 이미지 저장 완료 - UUID: cb9e1ede-3b2a-4bca-9e9f-451ee1b4f65c.png
2025-09-15 10:30:29 [http-nio-8090-exec-2] INFO  c.p.domain.user.service.UserService - 사용자 저장 완료 - 최종 profileImage: cb9e1ede-3b2a-4bca-9e9f-451ee1b4f65c.png
2025-09-15 10:30:29 [http-nio-8090-exec-2] INFO  c.p.domain.user.service.UserService - === applyBasicUser 완료 ===
2025-09-15 10:30:29 [http-nio-8090-exec-2] INFO  c.p.security.OAuth2SuccessHandler - 사용자 등록/업데이트 완료 - userId: 21
2025-09-15 10:30:29 [http-nio-8090-exec-2] INFO  c.p.security.OAuth2SuccessHandler - 프로필 이미지 URL 조회 시작
2025-09-15 10:30:29 [http-nio-8090-exec-2] INFO  c.p.domain.user.service.UserService - 프로필 이미지 조회: kimijug97@naver.com
2025-09-15 10:30:29 [http-nio-8090-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        profile_image_map
        (email, expires_at, real_path, uuid) 
    values
        (?, ?, ?, ?)
2025-09-15 10:30:29 [http-nio-8090-exec-2] DEBUG org.hibernate.SQL - 
    update
        user 
    set
        birth_date=?,
        care_species=?,
        email=?,
        email_verified=?,
        gender=?,
        main_service=?,
        name=?,
        nick_name=?,
        phone=?,
        profile_image=?,
        provider=?,
        role=?,
        status=?,
        updated_at=? 
    where
        id=?
2025-09-15 10:30:29 [http-nio-8090-exec-2] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.birth_date,
        ue1_0.care_species,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.email_verified,
        ue1_0.gender,
        ue1_0.main_service,
        ue1_0.name,
        ue1_0.nick_name,
        ue1_0.phone,
        ue1_0.profile_image,
        ue1_0.provider,
        ue1_0.role,
        ue1_0.status,
        ue1_0.updated_at 
    from
        user ue1_0 
    where
        ue1_0.email=?
2025-09-15 10:30:29 [http-nio-8090-exec-2] INFO  c.p.domain.user.service.UserService - DB에서 조회된 UUID: cb9e1ede-3b2a-4bca-9e9f-451ee1b4f65c.png
2025-09-15 10:30:29 [http-nio-8090-exec-2] INFO  c.p.domain.user.service.UserService - 최종 URL: http://localhost:8090/img/cb9e1ede-3b2a-4bca-9e9f-451ee1b4f65c.png
2025-09-15 10:30:29 [http-nio-8090-exec-2] INFO  c.p.security.OAuth2SuccessHandler - 조회된 프로필 UUID: http://localhost:8090/img/cb9e1ede-3b2a-4bca-9e9f-451ee1b4f65c.png
2025-09-15 10:30:29 [http-nio-8090-exec-2] INFO  c.p.security.OAuth2SuccessHandler - 절대 URL 사용: http://localhost:8090/img/cb9e1ede-3b2a-4bca-9e9f-451ee1b4f65c.png
2025-09-15 10:30:29 [http-nio-8090-exec-2] INFO  c.p.security.OAuth2SuccessHandler - JWT 토큰 발급 시작
2025-09-15 10:30:30 [http-nio-8090-exec-2] INFO  c.p.security.OAuth2SuccessHandler - JWT 토큰 발급 완료
2025-09-15 10:30:30 [http-nio-8090-exec-2] INFO  c.p.security.OAuth2SuccessHandler - 리다이렉트 URL: http://localhost:3000/oauth2/redirect?accessToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlcyI6WyJVU0VSIl0sIm5hbWUiOiLquYDrr7zspJEiLCJuaWNrbmFtZSI6ImtpbWlqKioqKiIsInR5cCI6ImFjY2VzcyIsInByb3YiOiJOQVZFUiIsImVtYWlsIjoia2ltaWp1Zzk3QG5hdmVyLmNvbSIsInBpY3R1cmUiOiJodHRwOi8vbG9jYWxob3N0OjgwOTAvaW1nL2NiOWUxZWRlLTNiMmEtNGJjYS05ZTlmLTQ1MWVlMWI0ZjY1Yy5wbmciLCJzdWIiOiIyMSIsImlzcyI6InBldG1hdGUiLCJpYXQiOjE3NTc4OTk4MjksImV4cCI6MTc1Nzg5OTg4OX0.u6MfUZC2MFWlJnIUE_NaOnaF7l3bcZE4LQz_mFhWsUc&next=%2Fhome
2025-09-15 10:30:30 [http-nio-8090-exec-2] INFO  c.p.security.OAuth2SuccessHandler - === OAuth2 인증 성공 처리 완료 ===
2025-09-15 10:30:30 [http-nio-8090-exec-3] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /auth/me - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=419)
2025-09-15 10:30:30 [http-nio-8090-exec-3] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=21, type=access, exp=Mon Sep 15 10:31:29 KST 2025, expired=false
2025-09-15 10:30:30 [http-nio-8090-exec-4] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /img/cb9e1ede-3b2a-4bca-9e9f-451ee1b4f65c.png - Authorization: <absent>
2025-09-15 10:30:30 [http-nio-8090-exec-5] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /login - Authorization: <absent>
2025-09-15 10:30:53 [http-nio-8090-exec-6] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /img/cb9e1ede-3b2a-4bca-9e9f-451ee1b4f65c.png - Authorization: <absent>
2025-09-15 10:30:53 [http-nio-8090-exec-6] DEBUG org.hibernate.SQL - 
    select
        pim1_0.uuid,
        pim1_0.created_at,
        pim1_0.email,
        pim1_0.expires_at,
        pim1_0.real_path 
    from
        profile_image_map pim1_0 
    where
        pim1_0.uuid=?
2025-09-15 10:31:00 [http-nio-8090-exec-7] INFO  c.p.security.JwtAuthenticationFilter - [JWT] POST /auth/signout - Authorization: <absent>
2025-09-15 10:31:02 [http-nio-8090-exec-9] INFO  c.p.security.OAuth2SuccessHandler - === OAuth2 인증 성공 처리 시작 ===
2025-09-15 10:31:02 [http-nio-8090-exec-9] INFO  c.p.security.OAuth2SuccessHandler - OAuth2 사용자 정보: {provider=naver, response={id=2ZBmnoyH7EYixJoarTxtoLrneVrmyXX14s12xmO6yLc, nickname=kimij****, email=kimijug97@naver.com, name=김민중}, providerId=2ZBmnoyH7EYixJoarTxtoLrneVrmyXX14s12xmO6yLc, name=김민중, nickname=kimij****, resultcode=00, message=success, userId=naver_2ZBmnoyH7EYixJoarTxtoLrneVrmyXX14s12xmO6yLc, email=kimijug97@naver.com, picture=null}
2025-09-15 10:31:02 [http-nio-8090-exec-9] INFO  c.p.security.OAuth2SuccessHandler - 파싱된 사용자 정보 - provider: NAVER, email: kimijug97@naver.com, name: 김민중, nickname: kimij****, picture: null
2025-09-15 10:31:02 [http-nio-8090-exec-9] INFO  c.p.security.OAuth2SuccessHandler - 사용자 등록/업데이트 시작
2025-09-15 10:31:02 [http-nio-8090-exec-9] INFO  c.p.domain.user.service.UserService - === applyBasicUser 시작 ===
2025-09-15 10:31:02 [http-nio-8090-exec-9] INFO  c.p.domain.user.service.UserService - email: kimijug97@naver.com, provider: NAVER, name: 김민중, nickname: kimij****, profileImageUrl: null
2025-09-15 10:31:02 [http-nio-8090-exec-9] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.birth_date,
        ue1_0.care_species,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.email_verified,
        ue1_0.gender,
        ue1_0.main_service,
        ue1_0.name,
        ue1_0.nick_name,
        ue1_0.phone,
        ue1_0.profile_image,
        ue1_0.provider,
        ue1_0.role,
        ue1_0.status,
        ue1_0.updated_at 
    from
        user ue1_0 
    where
        ue1_0.email=?
2025-09-15 10:31:02 [http-nio-8090-exec-9] INFO  c.p.domain.user.service.UserService - 사용자 조회/생성 완료 - userId: 21
2025-09-15 10:31:02 [http-nio-8090-exec-9] INFO  c.p.domain.user.service.UserService - 사용자 정보 업데이트 완료
2025-09-15 10:31:02 [http-nio-8090-exec-9] INFO  c.p.domain.user.service.UserService - 프로필 이미지 처리 시작 - profileImageUrl: null
2025-09-15 10:31:02 [http-nio-8090-exec-9] INFO  c.p.domain.user.service.UserService - 이미지 URL이 없어서 기본 이미지 저장
2025-09-15 10:31:02 [http-nio-8090-exec-9] INFO  c.p.d.user.service.UserFileService - 기존 프로필 이미지 존재: userId=21, profile=cb9e1ede-3b2a-4bca-9e9f-451ee1b4f65c.png
2025-09-15 10:31:02 [http-nio-8090-exec-9] INFO  c.p.domain.user.service.UserService - 기본 이미지 저장 완료 - UUID: cb9e1ede-3b2a-4bca-9e9f-451ee1b4f65c.png
2025-09-15 10:31:02 [http-nio-8090-exec-9] INFO  c.p.domain.user.service.UserService - 사용자 저장 완료 - 최종 profileImage: cb9e1ede-3b2a-4bca-9e9f-451ee1b4f65c.png
2025-09-15 10:31:02 [http-nio-8090-exec-9] INFO  c.p.domain.user.service.UserService - === applyBasicUser 완료 ===
2025-09-15 10:31:02 [http-nio-8090-exec-9] INFO  c.p.security.OAuth2SuccessHandler - 사용자 등록/업데이트 완료 - userId: 21
2025-09-15 10:31:02 [http-nio-8090-exec-9] INFO  c.p.security.OAuth2SuccessHandler - 프로필 이미지 URL 조회 시작
2025-09-15 10:31:02 [http-nio-8090-exec-9] INFO  c.p.domain.user.service.UserService - 프로필 이미지 조회: kimijug97@naver.com
2025-09-15 10:31:02 [http-nio-8090-exec-9] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.birth_date,
        ue1_0.care_species,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.email_verified,
        ue1_0.gender,
        ue1_0.main_service,
        ue1_0.name,
        ue1_0.nick_name,
        ue1_0.phone,
        ue1_0.profile_image,
        ue1_0.provider,
        ue1_0.role,
        ue1_0.status,
        ue1_0.updated_at 
    from
        user ue1_0 
    where
        ue1_0.email=?
2025-09-15 10:31:02 [http-nio-8090-exec-9] INFO  c.p.domain.user.service.UserService - DB에서 조회된 UUID: cb9e1ede-3b2a-4bca-9e9f-451ee1b4f65c.png
2025-09-15 10:31:02 [http-nio-8090-exec-9] INFO  c.p.domain.user.service.UserService - 최종 URL: http://localhost:8090/img/cb9e1ede-3b2a-4bca-9e9f-451ee1b4f65c.png
2025-09-15 10:31:02 [http-nio-8090-exec-9] INFO  c.p.security.OAuth2SuccessHandler - 조회된 프로필 UUID: http://localhost:8090/img/cb9e1ede-3b2a-4bca-9e9f-451ee1b4f65c.png
2025-09-15 10:31:02 [http-nio-8090-exec-9] INFO  c.p.security.OAuth2SuccessHandler - 절대 URL 사용: http://localhost:8090/img/cb9e1ede-3b2a-4bca-9e9f-451ee1b4f65c.png
2025-09-15 10:31:02 [http-nio-8090-exec-9] INFO  c.p.security.OAuth2SuccessHandler - JWT 토큰 발급 시작
2025-09-15 10:31:02 [http-nio-8090-exec-9] INFO  c.p.security.OAuth2SuccessHandler - JWT 토큰 발급 완료
2025-09-15 10:31:02 [http-nio-8090-exec-9] INFO  c.p.security.OAuth2SuccessHandler - 리다이렉트 URL: http://localhost:3000/oauth2/redirect?accessToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlcyI6WyJVU0VSIl0sIm5hbWUiOiLquYDrr7zspJEiLCJuaWNrbmFtZSI6ImtpbWlqKioqKiIsInR5cCI6ImFjY2VzcyIsInByb3YiOiJOQVZFUiIsImVtYWlsIjoia2ltaWp1Zzk3QG5hdmVyLmNvbSIsInBpY3R1cmUiOiJodHRwOi8vbG9jYWxob3N0OjgwOTAvaW1nL2NiOWUxZWRlLTNiMmEtNGJjYS05ZTlmLTQ1MWVlMWI0ZjY1Yy5wbmciLCJzdWIiOiIyMSIsImlzcyI6InBldG1hdGUiLCJpYXQiOjE3NTc4OTk4NjIsImV4cCI6MTc1Nzg5OTkyMn0.RBTNblZJ2OlGjqbIIwx7N1PyYO6cyu01ntgNSpMaPpc&next=%2Fhome
2025-09-15 10:31:02 [http-nio-8090-exec-9] INFO  c.p.security.OAuth2SuccessHandler - === OAuth2 인증 성공 처리 완료 ===
2025-09-15 10:31:03 [http-nio-8090-exec-10] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /auth/me - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=419)
2025-09-15 10:31:03 [http-nio-8090-exec-10] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=21, type=access, exp=Mon Sep 15 10:32:02 KST 2025, expired=false
2025-09-15 10:31:03 [http-nio-8090-exec-1] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /img/cb9e1ede-3b2a-4bca-9e9f-451ee1b4f65c.png - Authorization: <absent>
2025-09-15 10:31:04 [http-nio-8090-exec-2] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /login - Authorization: <absent>
2025-09-15 10:33:18 [http-nio-8090-exec-6] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /img/cb9e1ede-3b2a-4bca-9e9f-451ee1b4f65c.png - Authorization: <absent>
2025-09-15 10:33:18 [http-nio-8090-exec-6] DEBUG org.hibernate.SQL - 
    select
        pim1_0.uuid,
        pim1_0.created_at,
        pim1_0.email,
        pim1_0.expires_at,
        pim1_0.real_path 
    from
        profile_image_map pim1_0 
    where
        pim1_0.uuid=?
2025-09-15 10:33:43 [http-nio-8090-exec-7] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /auth/me - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=419)
2025-09-15 10:33:43 [http-nio-8090-exec-7] WARN  c.p.security.JwtAuthenticationFilter - [JWT] verification failed: JWT expired 101778 milliseconds ago at 2025-09-15T01:32:02.000Z. Current time: 2025-09-15T01:33:43.778Z. Allowed clock skew: 0 milliseconds.
io.jsonwebtoken.ExpiredJwtException: JWT expired 101778 milliseconds ago at 2025-09-15T01:32:02.000Z. Current time: 2025-09-15T01:33:43.778Z. Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:691)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:364)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:94)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:36)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:29)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseSignedClaims(DefaultJwtParser.java:830)
	at com.petmate.security.jwt.JwtUtil.parse(JwtUtil.java:57)
	at com.petmate.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:57)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:235)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:229)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-15 10:33:44 [http-nio-8090-exec-8] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /auth/me - Authorization: <absent>
2025-09-15 10:33:44 [http-nio-8090-exec-9] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /auth/me - Authorization: <absent>
2025-09-15 10:33:46 [http-nio-8090-exec-1] INFO  c.p.security.OAuth2SuccessHandler - === OAuth2 인증 성공 처리 시작 ===
2025-09-15 10:33:46 [http-nio-8090-exec-1] INFO  c.p.security.OAuth2SuccessHandler - OAuth2 사용자 정보: {provider=naver, response={id=2ZBmnoyH7EYixJoarTxtoLrneVrmyXX14s12xmO6yLc, nickname=kimij****, email=kimijug97@naver.com, name=김민중}, providerId=2ZBmnoyH7EYixJoarTxtoLrneVrmyXX14s12xmO6yLc, name=김민중, nickname=kimij****, resultcode=00, message=success, userId=naver_2ZBmnoyH7EYixJoarTxtoLrneVrmyXX14s12xmO6yLc, email=kimijug97@naver.com, picture=null}
2025-09-15 10:33:46 [http-nio-8090-exec-1] INFO  c.p.security.OAuth2SuccessHandler - 파싱된 사용자 정보 - provider: NAVER, email: kimijug97@naver.com, name: 김민중, nickname: kimij****, picture: null
2025-09-15 10:33:46 [http-nio-8090-exec-1] INFO  c.p.security.OAuth2SuccessHandler - 사용자 등록/업데이트 시작
2025-09-15 10:33:46 [http-nio-8090-exec-1] INFO  c.p.domain.user.service.UserService - === applyBasicUser 시작 ===
2025-09-15 10:33:46 [http-nio-8090-exec-1] INFO  c.p.domain.user.service.UserService - email: kimijug97@naver.com, provider: NAVER, name: 김민중, nickname: kimij****, profileImageUrl: null
2025-09-15 10:33:46 [http-nio-8090-exec-1] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.birth_date,
        ue1_0.care_species,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.email_verified,
        ue1_0.gender,
        ue1_0.main_service,
        ue1_0.name,
        ue1_0.nick_name,
        ue1_0.phone,
        ue1_0.profile_image,
        ue1_0.provider,
        ue1_0.role,
        ue1_0.status,
        ue1_0.updated_at 
    from
        user ue1_0 
    where
        ue1_0.email=?
2025-09-15 10:33:46 [http-nio-8090-exec-1] INFO  c.p.domain.user.service.UserService - 사용자 조회/생성 완료 - userId: 21
2025-09-15 10:33:46 [http-nio-8090-exec-1] INFO  c.p.domain.user.service.UserService - 사용자 정보 업데이트 완료
2025-09-15 10:33:46 [http-nio-8090-exec-1] INFO  c.p.domain.user.service.UserService - 프로필 이미지 처리 시작 - profileImageUrl: null
2025-09-15 10:33:46 [http-nio-8090-exec-1] INFO  c.p.domain.user.service.UserService - 이미지 URL이 없어서 기본 이미지 저장
2025-09-15 10:33:46 [http-nio-8090-exec-1] INFO  c.p.d.user.service.UserFileService - 기존 프로필 이미지 존재: userId=21, profile=cb9e1ede-3b2a-4bca-9e9f-451ee1b4f65c.png
2025-09-15 10:33:46 [http-nio-8090-exec-1] INFO  c.p.domain.user.service.UserService - 기본 이미지 저장 완료 - UUID: cb9e1ede-3b2a-4bca-9e9f-451ee1b4f65c.png
2025-09-15 10:33:46 [http-nio-8090-exec-1] INFO  c.p.domain.user.service.UserService - 사용자 저장 완료 - 최종 profileImage: cb9e1ede-3b2a-4bca-9e9f-451ee1b4f65c.png
2025-09-15 10:33:46 [http-nio-8090-exec-1] INFO  c.p.domain.user.service.UserService - === applyBasicUser 완료 ===
2025-09-15 10:33:46 [http-nio-8090-exec-1] INFO  c.p.security.OAuth2SuccessHandler - 사용자 등록/업데이트 완료 - userId: 21
2025-09-15 10:33:46 [http-nio-8090-exec-1] INFO  c.p.security.OAuth2SuccessHandler - 프로필 이미지 URL 조회 시작
2025-09-15 10:33:46 [http-nio-8090-exec-1] INFO  c.p.domain.user.service.UserService - 프로필 이미지 조회: kimijug97@naver.com
2025-09-15 10:33:46 [http-nio-8090-exec-1] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.birth_date,
        ue1_0.care_species,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.email_verified,
        ue1_0.gender,
        ue1_0.main_service,
        ue1_0.name,
        ue1_0.nick_name,
        ue1_0.phone,
        ue1_0.profile_image,
        ue1_0.provider,
        ue1_0.role,
        ue1_0.status,
        ue1_0.updated_at 
    from
        user ue1_0 
    where
        ue1_0.email=?
2025-09-15 10:33:46 [http-nio-8090-exec-1] INFO  c.p.domain.user.service.UserService - DB에서 조회된 UUID: cb9e1ede-3b2a-4bca-9e9f-451ee1b4f65c.png
2025-09-15 10:33:46 [http-nio-8090-exec-1] INFO  c.p.domain.user.service.UserService - 최종 URL: http://localhost:8090/img/cb9e1ede-3b2a-4bca-9e9f-451ee1b4f65c.png
2025-09-15 10:33:46 [http-nio-8090-exec-1] INFO  c.p.security.OAuth2SuccessHandler - 조회된 프로필 UUID: http://localhost:8090/img/cb9e1ede-3b2a-4bca-9e9f-451ee1b4f65c.png
2025-09-15 10:33:46 [http-nio-8090-exec-1] INFO  c.p.security.OAuth2SuccessHandler - 절대 URL 사용: http://localhost:8090/img/cb9e1ede-3b2a-4bca-9e9f-451ee1b4f65c.png
2025-09-15 10:33:46 [http-nio-8090-exec-1] INFO  c.p.security.OAuth2SuccessHandler - JWT 토큰 발급 시작
2025-09-15 10:33:46 [http-nio-8090-exec-1] INFO  c.p.security.OAuth2SuccessHandler - JWT 토큰 발급 완료
2025-09-15 10:33:46 [http-nio-8090-exec-1] INFO  c.p.security.OAuth2SuccessHandler - 리다이렉트 URL: http://localhost:3000/oauth2/redirect?accessToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlcyI6WyJVU0VSIl0sIm5hbWUiOiLquYDrr7zspJEiLCJuaWNrbmFtZSI6ImtpbWlqKioqKiIsInR5cCI6ImFjY2VzcyIsInByb3YiOiJOQVZFUiIsImVtYWlsIjoia2ltaWp1Zzk3QG5hdmVyLmNvbSIsInBpY3R1cmUiOiJodHRwOi8vbG9jYWxob3N0OjgwOTAvaW1nL2NiOWUxZWRlLTNiMmEtNGJjYS05ZTlmLTQ1MWVlMWI0ZjY1Yy5wbmciLCJzdWIiOiIyMSIsImlzcyI6InBldG1hdGUiLCJpYXQiOjE3NTc5MDAwMjYsImV4cCI6MTc1NzkwMDA4Nn0.PcI4C-lClpwdg9ri0BYHjasYW-PPhJh0e5Zq-YUMbZU&next=%2Fhome
2025-09-15 10:33:46 [http-nio-8090-exec-1] INFO  c.p.security.OAuth2SuccessHandler - === OAuth2 인증 성공 처리 완료 ===
2025-09-15 10:33:46 [http-nio-8090-exec-2] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /auth/me - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=419)
2025-09-15 10:33:46 [http-nio-8090-exec-2] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=21, type=access, exp=Mon Sep 15 10:34:46 KST 2025, expired=false
2025-09-15 10:33:46 [http-nio-8090-exec-3] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /img/cb9e1ede-3b2a-4bca-9e9f-451ee1b4f65c.png - Authorization: <absent>
2025-09-15 10:33:46 [http-nio-8090-exec-4] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /login - Authorization: <absent>
2025-09-15 10:33:50 [http-nio-8090-exec-5] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /auth/me - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=419)
2025-09-15 10:33:50 [http-nio-8090-exec-5] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=21, type=access, exp=Mon Sep 15 10:34:46 KST 2025, expired=false
2025-09-15 10:33:50 [http-nio-8090-exec-6] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /img/cb9e1ede-3b2a-4bca-9e9f-451ee1b4f65c.png - Authorization: <absent>
2025-09-15 10:33:51 [http-nio-8090-exec-7] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /login - Authorization: <absent>
2025-09-15 10:33:51 [http-nio-8090-exec-8] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /auth/me - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=419)
2025-09-15 10:33:51 [http-nio-8090-exec-8] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=21, type=access, exp=Mon Sep 15 10:34:46 KST 2025, expired=false
2025-09-15 10:33:51 [http-nio-8090-exec-9] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /img/cb9e1ede-3b2a-4bca-9e9f-451ee1b4f65c.png - Authorization: <absent>
2025-09-15 10:33:51 [http-nio-8090-exec-10] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /login - Authorization: <absent>
2025-09-15 10:34:09 [http-nio-8090-exec-1] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /img/cb9e1ede-3b2a-4bca-9e9f-451ee1b4f65c.png - Authorization: <absent>
2025-09-15 10:34:09 [http-nio-8090-exec-1] DEBUG org.hibernate.SQL - 
    select
        pim1_0.uuid,
        pim1_0.created_at,
        pim1_0.email,
        pim1_0.expires_at,
        pim1_0.real_path 
    from
        profile_image_map pim1_0 
    where
        pim1_0.uuid=?
2025-09-15 10:36:07 [restartedMain] INFO  com.petmate.PetmateApplication - Starting PetmateApplication using Java 21.0.7 with PID 8400 (C:\lfm01\spring_boot\pjt-sts4\petmate-backend-mainb\petmate-backend\build\classes\java\main started by HI-02 in C:\lfm01\spring_boot\pjt-sts4\petmate-backend-mainb\petmate-backend)
2025-09-15 10:36:07 [restartedMain] DEBUG com.petmate.PetmateApplication - Running with Spring Boot v3.5.5, Spring v6.2.10
2025-09-15 10:36:07 [restartedMain] INFO  com.petmate.PetmateApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-15 10:36:08 [restartedMain] INFO  o.s.b.d.restart.ChangeableUrls - The Class-Path manifest attribute in C:\Users\HI-02\.gradle\caches\modules-2\files-2.1\io.github.cdimascio\java-dotenv\5.2.2\f77d54ff193ed4b07415ab8d7b3d0550716aa8c\java-dotenv-5.2.2.jar referenced one or more files that do not exist: file:/C:/Users/HI-02/.gradle/caches/modules-2/files-2.1/io.github.cdimascio/java-dotenv/5.2.2/f77d54ff193ed4b07415ab8d7b3d0550716aa8c/kotlin-stdlib-1.4.0.jar,file:/C:/Users/HI-02/.gradle/caches/modules-2/files-2.1/io.github.cdimascio/java-dotenv/5.2.2/f77d54ff193ed4b07415ab8d7b3d0550716aa8c/kotlin-stdlib-common-1.4.0.jar,file:/C:/Users/HI-02/.gradle/caches/modules-2/files-2.1/io.github.cdimascio/java-dotenv/5.2.2/f77d54ff193ed4b07415ab8d7b3d0550716aa8c/annotations-13.0.jar
2025-09-15 10:36:08 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-09-15 10:36:08 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-09-15 10:36:08 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-15 10:36:09 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 313 ms. Found 8 JPA repository interfaces.
2025-09-15 10:36:10 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8090 (http)
2025-09-15 10:36:10 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-15 10:36:10 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.44]
2025-09-15 10:36:10 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-15 10:36:10 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2710 ms
2025-09-15 10:36:11 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-15 10:36:11 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.26.Final
2025-09-15 10:36:11 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-15 10:36:11 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-15 10:36:11 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-15 10:36:12 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7bd4bd28
2025-09-15 10:36:12 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-15 10:36:12 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-15 10:36:13 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-15 10:36:13 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-15 10:36:14 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-15 10:36:15 [restartedMain] INFO  com.petmate.config.WebConfig - CORS applied. origins=http://localhost:3000, http://localhost:3001
2025-09-15 10:36:15 [restartedMain] INFO  com.petmate.config.WebConfig - Static mapping applied. /img/** -> file:C:/petmate/
2025-09-15 10:36:16 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-09-15 10:36:16 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-15 10:36:16 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8090 (http) with context path '/'
2025-09-15 10:36:16 [restartedMain] INFO  com.petmate.PetmateApplication - Started PetmateApplication in 9.188 seconds (process running for 9.99)
2025-09-15 10:36:16 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        common_codes gce1_0
2025-09-15 10:36:16 [restartedMain] INFO  com.petmate.config.DataInitializer - Common codes already initialized
2025-09-15 10:36:32 [http-nio-8090-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-15 10:36:32 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-15 10:36:32 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-09-15 10:36:32 [http-nio-8090-exec-1] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /auth/me - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=419)
2025-09-15 10:36:32 [http-nio-8090-exec-1] WARN  c.p.security.JwtAuthenticationFilter - [JWT] verification failed: JWT expired 106753 milliseconds ago at 2025-09-15T01:34:46.000Z. Current time: 2025-09-15T01:36:32.753Z. Allowed clock skew: 0 milliseconds.
io.jsonwebtoken.ExpiredJwtException: JWT expired 106753 milliseconds ago at 2025-09-15T01:34:46.000Z. Current time: 2025-09-15T01:36:32.753Z. Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:691)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:364)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:94)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:36)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:29)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseSignedClaims(DefaultJwtParser.java:830)
	at com.petmate.security.jwt.JwtUtil.parse(JwtUtil.java:57)
	at com.petmate.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:57)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:235)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:229)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-15 10:36:33 [http-nio-8090-exec-2] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /auth/me - Authorization: <absent>
2025-09-15 10:36:34 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - === OAuth2 인증 성공 처리 시작 ===
2025-09-15 10:36:34 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - OAuth2 사용자 정보: {provider=naver, response={id=2ZBmnoyH7EYixJoarTxtoLrneVrmyXX14s12xmO6yLc, nickname=kimij****, email=kimijug97@naver.com, name=김민중}, providerId=2ZBmnoyH7EYixJoarTxtoLrneVrmyXX14s12xmO6yLc, name=김민중, nickname=kimij****, resultcode=00, message=success, userId=naver_2ZBmnoyH7EYixJoarTxtoLrneVrmyXX14s12xmO6yLc, email=kimijug97@naver.com, picture=null}
2025-09-15 10:36:34 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - 파싱된 사용자 정보 - provider: NAVER, email: kimijug97@naver.com, name: 김민중, nickname: kimij****, picture: null
2025-09-15 10:36:34 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - 사용자 등록/업데이트 시작
2025-09-15 10:36:34 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - === applyBasicUser 시작 ===
2025-09-15 10:36:34 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - email: kimijug97@naver.com, provider: NAVER, name: 김민중, nickname: kimij****, profileImageUrl: null
2025-09-15 10:36:34 [http-nio-8090-exec-4] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.birth_date,
        ue1_0.care_species,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.email_verified,
        ue1_0.gender,
        ue1_0.main_service,
        ue1_0.name,
        ue1_0.nick_name,
        ue1_0.phone,
        ue1_0.profile_image,
        ue1_0.provider,
        ue1_0.role,
        ue1_0.status,
        ue1_0.updated_at 
    from
        user ue1_0 
    where
        ue1_0.email=?
2025-09-15 10:36:34 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - 사용자 조회/생성 완료 - userId: 21
2025-09-15 10:36:34 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - 사용자 정보 업데이트 완료
2025-09-15 10:36:34 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - 프로필 이미지 처리 시작 - profileImageUrl: null
2025-09-15 10:36:34 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - 이미지 URL이 없어서 기본 이미지 저장
2025-09-15 10:36:34 [http-nio-8090-exec-4] INFO  c.p.d.user.service.UserFileService - 기존 프로필 이미지 존재: userId=21, profile=cb9e1ede-3b2a-4bca-9e9f-451ee1b4f65c.png
2025-09-15 10:36:34 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - 기본 이미지 저장 완료 - UUID: cb9e1ede-3b2a-4bca-9e9f-451ee1b4f65c.png
2025-09-15 10:36:34 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - 사용자 저장 완료 - 최종 profileImage: cb9e1ede-3b2a-4bca-9e9f-451ee1b4f65c.png
2025-09-15 10:36:34 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - === applyBasicUser 완료 ===
2025-09-15 10:36:34 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - 사용자 등록/업데이트 완료 - userId: 21
2025-09-15 10:36:34 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - 프로필 이미지 URL 조회 시작
2025-09-15 10:36:34 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - 프로필 이미지 조회: kimijug97@naver.com
2025-09-15 10:36:34 [http-nio-8090-exec-4] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.birth_date,
        ue1_0.care_species,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.email_verified,
        ue1_0.gender,
        ue1_0.main_service,
        ue1_0.name,
        ue1_0.nick_name,
        ue1_0.phone,
        ue1_0.profile_image,
        ue1_0.provider,
        ue1_0.role,
        ue1_0.status,
        ue1_0.updated_at 
    from
        user ue1_0 
    where
        ue1_0.email=?
2025-09-15 10:36:34 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - DB에서 조회된 UUID: cb9e1ede-3b2a-4bca-9e9f-451ee1b4f65c.png
2025-09-15 10:36:34 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - 최종 URL: http://localhost:8090/img/cb9e1ede-3b2a-4bca-9e9f-451ee1b4f65c.png
2025-09-15 10:36:34 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - 조회된 프로필 UUID: http://localhost:8090/img/cb9e1ede-3b2a-4bca-9e9f-451ee1b4f65c.png
2025-09-15 10:36:34 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - 절대 URL 사용: http://localhost:8090/img/cb9e1ede-3b2a-4bca-9e9f-451ee1b4f65c.png
2025-09-15 10:36:34 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - JWT 토큰 발급 시작
2025-09-15 10:36:35 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - JWT 토큰 발급 완료
2025-09-15 10:36:35 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - 리다이렉트 URL: http://localhost:3000/oauth2/redirect?accessToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlcyI6WyJVU0VSIl0sIm5hbWUiOiLquYDrr7zspJEiLCJuaWNrbmFtZSI6ImtpbWlqKioqKiIsInR5cCI6ImFjY2VzcyIsInByb3YiOiJOQVZFUiIsImVtYWlsIjoia2ltaWp1Zzk3QG5hdmVyLmNvbSIsInBpY3R1cmUiOiJodHRwOi8vbG9jYWxob3N0OjgwOTAvaW1nL2NiOWUxZWRlLTNiMmEtNGJjYS05ZTlmLTQ1MWVlMWI0ZjY1Yy5wbmciLCJzdWIiOiIyMSIsImlzcyI6InBldG1hdGUiLCJpYXQiOjE3NTc5MDAxOTQsImV4cCI6MTc1NzkwMDI1NH0.k3tDEeqxLS3dBoTrCgbY1hfLF4Jf5wNrvA2cqnaT3D0&next=%2Fhome
2025-09-15 10:36:35 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - === OAuth2 인증 성공 처리 완료 ===
2025-09-15 10:36:35 [http-nio-8090-exec-5] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /auth/me - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=419)
2025-09-15 10:36:35 [http-nio-8090-exec-5] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=21, type=access, exp=Mon Sep 15 10:37:34 KST 2025, expired=false
2025-09-15 10:36:35 [http-nio-8090-exec-6] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /img/cb9e1ede-3b2a-4bca-9e9f-451ee1b4f65c.png - Authorization: <absent>
2025-09-15 10:36:35 [http-nio-8090-exec-7] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /login - Authorization: <absent>
2025-09-15 10:36:47 [http-nio-8090-exec-8] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /img/cb9e1ede-3b2a-4bca-9e9f-451ee1b4f65c.png - Authorization: <absent>
2025-09-15 10:36:47 [http-nio-8090-exec-8] DEBUG org.hibernate.SQL - 
    select
        pim1_0.uuid,
        pim1_0.created_at,
        pim1_0.email,
        pim1_0.expires_at,
        pim1_0.real_path 
    from
        profile_image_map pim1_0 
    where
        pim1_0.uuid=?
2025-09-15 10:38:52 [http-nio-8090-exec-2] INFO  c.p.security.JwtAuthenticationFilter - [JWT] POST /auth/signout - Authorization: <absent>
2025-09-15 10:38:54 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - === OAuth2 인증 성공 처리 시작 ===
2025-09-15 10:38:54 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - OAuth2 사용자 정보: {provider=naver, response={id=2ZBmnoyH7EYixJoarTxtoLrneVrmyXX14s12xmO6yLc, nickname=kimij****, email=kimijug97@naver.com, name=김민중}, providerId=2ZBmnoyH7EYixJoarTxtoLrneVrmyXX14s12xmO6yLc, name=김민중, nickname=kimij****, resultcode=00, message=success, userId=naver_2ZBmnoyH7EYixJoarTxtoLrneVrmyXX14s12xmO6yLc, email=kimijug97@naver.com, picture=null}
2025-09-15 10:38:54 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - 파싱된 사용자 정보 - provider: NAVER, email: kimijug97@naver.com, name: 김민중, nickname: kimij****, picture: null
2025-09-15 10:38:54 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - 사용자 등록/업데이트 시작
2025-09-15 10:38:54 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - === applyBasicUser 시작 ===
2025-09-15 10:38:54 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - email: kimijug97@naver.com, provider: NAVER, name: 김민중, nickname: kimij****, profileImageUrl: null
2025-09-15 10:38:54 [http-nio-8090-exec-4] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.birth_date,
        ue1_0.care_species,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.email_verified,
        ue1_0.gender,
        ue1_0.main_service,
        ue1_0.name,
        ue1_0.nick_name,
        ue1_0.phone,
        ue1_0.profile_image,
        ue1_0.provider,
        ue1_0.role,
        ue1_0.status,
        ue1_0.updated_at 
    from
        user ue1_0 
    where
        ue1_0.email=?
2025-09-15 10:38:54 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - 사용자 조회/생성 완료 - userId: 21
2025-09-15 10:38:54 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - 사용자 정보 업데이트 완료
2025-09-15 10:38:54 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - 프로필 이미지 처리 시작 - profileImageUrl: null
2025-09-15 10:38:54 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - 이미지 URL이 없어서 기본 이미지 저장
2025-09-15 10:38:54 [http-nio-8090-exec-4] INFO  c.p.d.user.service.UserFileService - 기존 프로필 이미지 존재: userId=21, profile=cb9e1ede-3b2a-4bca-9e9f-451ee1b4f65c.png
2025-09-15 10:38:54 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - 기본 이미지 저장 완료 - UUID: cb9e1ede-3b2a-4bca-9e9f-451ee1b4f65c.png
2025-09-15 10:38:54 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - 사용자 저장 완료 - 최종 profileImage: cb9e1ede-3b2a-4bca-9e9f-451ee1b4f65c.png
2025-09-15 10:38:54 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - === applyBasicUser 완료 ===
2025-09-15 10:38:54 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - 사용자 등록/업데이트 완료 - userId: 21
2025-09-15 10:38:54 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - 프로필 이미지 URL 조회 시작
2025-09-15 10:38:54 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - 프로필 이미지 조회: kimijug97@naver.com
2025-09-15 10:38:54 [http-nio-8090-exec-4] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.birth_date,
        ue1_0.care_species,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.email_verified,
        ue1_0.gender,
        ue1_0.main_service,
        ue1_0.name,
        ue1_0.nick_name,
        ue1_0.phone,
        ue1_0.profile_image,
        ue1_0.provider,
        ue1_0.role,
        ue1_0.status,
        ue1_0.updated_at 
    from
        user ue1_0 
    where
        ue1_0.email=?
2025-09-15 10:38:55 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - DB에서 조회된 UUID: cb9e1ede-3b2a-4bca-9e9f-451ee1b4f65c.png
2025-09-15 10:38:55 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - 최종 URL: http://localhost:8090/img/cb9e1ede-3b2a-4bca-9e9f-451ee1b4f65c.png
2025-09-15 10:38:55 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - 조회된 프로필 UUID: http://localhost:8090/img/cb9e1ede-3b2a-4bca-9e9f-451ee1b4f65c.png
2025-09-15 10:38:55 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - 절대 URL 사용: http://localhost:8090/img/cb9e1ede-3b2a-4bca-9e9f-451ee1b4f65c.png
2025-09-15 10:38:55 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - JWT 토큰 발급 시작
2025-09-15 10:38:55 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - JWT 토큰 발급 완료
2025-09-15 10:38:55 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - 리다이렉트 URL: http://localhost:3000/oauth2/redirect?accessToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlcyI6WyJVU0VSIl0sIm5hbWUiOiLquYDrr7zspJEiLCJuaWNrbmFtZSI6ImtpbWlqKioqKiIsInR5cCI6ImFjY2VzcyIsInByb3YiOiJOQVZFUiIsImVtYWlsIjoia2ltaWp1Zzk3QG5hdmVyLmNvbSIsInBpY3R1cmUiOiJodHRwOi8vbG9jYWxob3N0OjgwOTAvaW1nL2NiOWUxZWRlLTNiMmEtNGJjYS05ZTlmLTQ1MWVlMWI0ZjY1Yy5wbmciLCJzdWIiOiIyMSIsImlzcyI6InBldG1hdGUiLCJpYXQiOjE3NTc5MDAzMzUsImV4cCI6MTc1NzkwMDM5NX0.1qStWmcsPuOXM_6uR1ZXk_NVdH_ILY_YUT2tbaTFKAE&next=%2Fhome
2025-09-15 10:38:55 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - === OAuth2 인증 성공 처리 완료 ===
2025-09-15 10:38:55 [http-nio-8090-exec-5] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /auth/me - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=419)
2025-09-15 10:38:55 [http-nio-8090-exec-5] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=21, type=access, exp=Mon Sep 15 10:39:55 KST 2025, expired=false
2025-09-15 10:39:00 [http-nio-8090-exec-7] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /auth/me - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=419)
2025-09-15 10:39:00 [http-nio-8090-exec-7] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=21, type=access, exp=Mon Sep 15 10:39:55 KST 2025, expired=false
2025-09-15 10:39:00 [http-nio-8090-exec-8] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /img/cb9e1ede-3b2a-4bca-9e9f-451ee1b4f65c.png - Authorization: <absent>
2025-09-15 10:39:00 [http-nio-8090-exec-9] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /login - Authorization: <absent>
2025-09-15 10:39:18 [http-nio-8090-exec-1] INFO  c.p.security.JwtAuthenticationFilter - [JWT] POST /user/petmate/apply - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=419)
2025-09-15 10:39:18 [http-nio-8090-exec-1] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=21, type=access, exp=Mon Sep 15 10:39:55 KST 2025, expired=false
2025-09-15 10:39:18 [http-nio-8090-exec-1] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.birth_date,
        ue1_0.care_species,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.email_verified,
        ue1_0.gender,
        ue1_0.main_service,
        ue1_0.name,
        ue1_0.nick_name,
        ue1_0.phone,
        ue1_0.profile_image,
        ue1_0.provider,
        ue1_0.role,
        ue1_0.status,
        ue1_0.updated_at 
    from
        user ue1_0 
    where
        ue1_0.email=?
2025-09-15 10:39:18 [http-nio-8090-exec-1] INFO  c.p.d.user.service.UserFileService - 프로필 이미지 저장 시작: C:\petmate\21\profile\86c20883-551e-48e7-bb03-b86da2b5cf41.PNG
2025-09-15 10:39:18 [http-nio-8090-exec-1] INFO  c.p.d.user.service.UserFileService - 프로필 이미지 저장 완료: C:\petmate\21\profile\86c20883-551e-48e7-bb03-b86da2b5cf41.PNG
2025-09-15 10:39:18 [http-nio-8090-exec-1] DEBUG org.hibernate.SQL - 
    select
        pim1_0.uuid,
        pim1_0.created_at,
        pim1_0.email,
        pim1_0.expires_at,
        pim1_0.real_path 
    from
        profile_image_map pim1_0 
    where
        pim1_0.email=?
2025-09-15 10:39:18 [http-nio-8090-exec-1] DEBUG org.hibernate.SQL - 
    update
        user 
    set
        birth_date=?,
        care_species=?,
        email=?,
        email_verified=?,
        gender=?,
        main_service=?,
        name=?,
        nick_name=?,
        phone=?,
        profile_image=?,
        provider=?,
        role=?,
        status=?,
        updated_at=? 
    where
        id=?
2025-09-15 10:39:24 [http-nio-8090-exec-2] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /img/cb9e1ede-3b2a-4bca-9e9f-451ee1b4f65c.png - Authorization: <absent>
2025-09-15 10:39:24 [http-nio-8090-exec-2] DEBUG org.hibernate.SQL - 
    select
        pim1_0.uuid,
        pim1_0.created_at,
        pim1_0.email,
        pim1_0.expires_at,
        pim1_0.real_path 
    from
        profile_image_map pim1_0 
    where
        pim1_0.uuid=?
2025-09-15 10:42:14 [restartedMain] INFO  com.petmate.PetmateApplication - Starting PetmateApplication using Java 21.0.7 with PID 7024 (C:\lfm01\spring_boot\pjt-sts4\petmate-backend-mainb\petmate-backend\build\classes\java\main started by HI-02 in C:\lfm01\spring_boot\pjt-sts4\petmate-backend-mainb\petmate-backend)
2025-09-15 10:42:14 [restartedMain] DEBUG com.petmate.PetmateApplication - Running with Spring Boot v3.5.5, Spring v6.2.10
2025-09-15 10:42:14 [restartedMain] INFO  com.petmate.PetmateApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-15 10:42:14 [restartedMain] INFO  o.s.b.d.restart.ChangeableUrls - The Class-Path manifest attribute in C:\Users\HI-02\.gradle\caches\modules-2\files-2.1\io.github.cdimascio\java-dotenv\5.2.2\f77d54ff193ed4b07415ab8d7b3d0550716aa8c\java-dotenv-5.2.2.jar referenced one or more files that do not exist: file:/C:/Users/HI-02/.gradle/caches/modules-2/files-2.1/io.github.cdimascio/java-dotenv/5.2.2/f77d54ff193ed4b07415ab8d7b3d0550716aa8c/kotlin-stdlib-1.4.0.jar,file:/C:/Users/HI-02/.gradle/caches/modules-2/files-2.1/io.github.cdimascio/java-dotenv/5.2.2/f77d54ff193ed4b07415ab8d7b3d0550716aa8c/kotlin-stdlib-common-1.4.0.jar,file:/C:/Users/HI-02/.gradle/caches/modules-2/files-2.1/io.github.cdimascio/java-dotenv/5.2.2/f77d54ff193ed4b07415ab8d7b3d0550716aa8c/annotations-13.0.jar
2025-09-15 10:42:14 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-09-15 10:42:14 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-09-15 10:42:15 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-15 10:42:15 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 137 ms. Found 8 JPA repository interfaces.
2025-09-15 10:42:17 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8090 (http)
2025-09-15 10:42:17 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-15 10:42:17 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.44]
2025-09-15 10:42:17 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-15 10:42:17 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2832 ms
2025-09-15 10:42:17 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-15 10:42:18 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.26.Final
2025-09-15 10:42:18 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-15 10:42:18 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-15 10:42:18 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-15 10:42:19 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2c80187b
2025-09-15 10:42:19 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-15 10:42:19 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-15 10:42:20 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-15 10:42:20 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-15 10:42:21 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-15 10:42:22 [restartedMain] INFO  com.petmate.config.WebConfig - CORS applied. origins=http://localhost:3000, http://localhost:3001
2025-09-15 10:42:23 [restartedMain] INFO  com.petmate.config.WebConfig - Static mapping applied. /files/** -> file:C:/petmate/
2025-09-15 10:42:23 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-09-15 10:42:23 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-15 10:42:23 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8090 (http) with context path '/'
2025-09-15 10:42:23 [restartedMain] INFO  com.petmate.PetmateApplication - Started PetmateApplication in 9.773 seconds (process running for 10.469)
2025-09-15 10:42:23 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        common_codes gce1_0
2025-09-15 10:42:23 [http-nio-8090-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-15 10:42:23 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-15 10:42:23 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-09-15 10:42:23 [restartedMain] INFO  com.petmate.config.DataInitializer - Common codes already initialized
2025-09-15 10:42:23 [http-nio-8090-exec-1] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /auth/me - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=419)
2025-09-15 10:42:24 [http-nio-8090-exec-1] WARN  c.p.security.JwtAuthenticationFilter - [JWT] verification failed: JWT expired 149099 milliseconds ago at 2025-09-15T01:39:55.000Z. Current time: 2025-09-15T01:42:24.099Z. Allowed clock skew: 0 milliseconds.
io.jsonwebtoken.ExpiredJwtException: JWT expired 149099 milliseconds ago at 2025-09-15T01:39:55.000Z. Current time: 2025-09-15T01:42:24.099Z. Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:691)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:364)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:94)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:36)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:29)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseSignedClaims(DefaultJwtParser.java:830)
	at com.petmate.security.jwt.JwtUtil.parse(JwtUtil.java:57)
	at com.petmate.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:57)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:235)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:229)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-15 10:42:53 [http-nio-8090-exec-3] INFO  c.p.security.OAuth2SuccessHandler - === OAuth2 인증 성공 처리 시작 ===
2025-09-15 10:42:53 [http-nio-8090-exec-3] INFO  c.p.security.OAuth2SuccessHandler - OAuth2 사용자 정보: {provider=naver, response={id=2ZBmnoyH7EYixJoarTxtoLrneVrmyXX14s12xmO6yLc, nickname=kimij****, email=kimijug97@naver.com, name=김민중}, providerId=2ZBmnoyH7EYixJoarTxtoLrneVrmyXX14s12xmO6yLc, name=김민중, nickname=kimij****, resultcode=00, message=success, userId=naver_2ZBmnoyH7EYixJoarTxtoLrneVrmyXX14s12xmO6yLc, email=kimijug97@naver.com, picture=null}
2025-09-15 10:42:53 [http-nio-8090-exec-3] INFO  c.p.security.OAuth2SuccessHandler - 파싱된 사용자 정보 - provider: NAVER, email: kimijug97@naver.com, name: 김민중, nickname: kimij****, picture: null
2025-09-15 10:42:53 [http-nio-8090-exec-3] INFO  c.p.security.OAuth2SuccessHandler - 사용자 등록/업데이트 시작
2025-09-15 10:42:53 [http-nio-8090-exec-3] INFO  c.p.domain.user.service.UserService - === applyBasicUser 시작 ===
2025-09-15 10:42:53 [http-nio-8090-exec-3] INFO  c.p.domain.user.service.UserService - email: kimijug97@naver.com, provider: NAVER, name: 김민중, nickname: kimij****, profileImageUrl: null
2025-09-15 10:42:53 [http-nio-8090-exec-3] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.birth_date,
        ue1_0.care_species,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.email_verified,
        ue1_0.gender,
        ue1_0.main_service,
        ue1_0.name,
        ue1_0.nick_name,
        ue1_0.phone,
        ue1_0.profile_image,
        ue1_0.provider,
        ue1_0.role,
        ue1_0.status,
        ue1_0.updated_at 
    from
        user ue1_0 
    where
        ue1_0.email=?
2025-09-15 10:42:53 [http-nio-8090-exec-3] INFO  c.p.domain.user.service.UserService - 사용자 조회/생성 완료 - userId: 21
2025-09-15 10:42:53 [http-nio-8090-exec-3] INFO  c.p.domain.user.service.UserService - 사용자 정보 업데이트 완료
2025-09-15 10:42:53 [http-nio-8090-exec-3] INFO  c.p.domain.user.service.UserService - 프로필 이미지 처리 시작 - profileImageUrl: null
2025-09-15 10:42:53 [http-nio-8090-exec-3] INFO  c.p.domain.user.service.UserService - 이미지 URL이 없어서 기본 이미지 저장
2025-09-15 10:42:53 [http-nio-8090-exec-3] INFO  c.p.d.user.service.UserFileService - 기존 프로필 이미지 존재: userId=21, profile=86c20883-551e-48e7-bb03-b86da2b5cf41.PNG
2025-09-15 10:42:53 [http-nio-8090-exec-3] INFO  c.p.domain.user.service.UserService - 기본 이미지 저장 완료 - UUID: 86c20883-551e-48e7-bb03-b86da2b5cf41.PNG
2025-09-15 10:42:53 [http-nio-8090-exec-3] INFO  c.p.domain.user.service.UserService - 사용자 저장 완료 - 최종 profileImage: 86c20883-551e-48e7-bb03-b86da2b5cf41.PNG
2025-09-15 10:42:53 [http-nio-8090-exec-3] INFO  c.p.domain.user.service.UserService - === applyBasicUser 완료 ===
2025-09-15 10:42:53 [http-nio-8090-exec-3] INFO  c.p.security.OAuth2SuccessHandler - 사용자 등록/업데이트 완료 - userId: 21
2025-09-15 10:42:53 [http-nio-8090-exec-3] INFO  c.p.security.OAuth2SuccessHandler - 프로필 이미지 URL 조회 시작
2025-09-15 10:42:53 [http-nio-8090-exec-3] INFO  c.p.domain.user.service.UserService - 프로필 이미지 조회: kimijug97@naver.com
2025-09-15 10:42:53 [http-nio-8090-exec-3] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.birth_date,
        ue1_0.care_species,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.email_verified,
        ue1_0.gender,
        ue1_0.main_service,
        ue1_0.name,
        ue1_0.nick_name,
        ue1_0.phone,
        ue1_0.profile_image,
        ue1_0.provider,
        ue1_0.role,
        ue1_0.status,
        ue1_0.updated_at 
    from
        user ue1_0 
    where
        ue1_0.email=?
2025-09-15 10:42:53 [http-nio-8090-exec-3] INFO  c.p.domain.user.service.UserService - DB에서 조회된 UUID: 86c20883-551e-48e7-bb03-b86da2b5cf41.PNG
2025-09-15 10:42:53 [http-nio-8090-exec-3] INFO  c.p.domain.user.service.UserService - 최종 URL: http://localhost:8090/img/86c20883-551e-48e7-bb03-b86da2b5cf41.PNG
2025-09-15 10:42:53 [http-nio-8090-exec-3] INFO  c.p.security.OAuth2SuccessHandler - 조회된 프로필 UUID: http://localhost:8090/img/86c20883-551e-48e7-bb03-b86da2b5cf41.PNG
2025-09-15 10:42:53 [http-nio-8090-exec-3] INFO  c.p.security.OAuth2SuccessHandler - 절대 URL 사용: http://localhost:8090/img/86c20883-551e-48e7-bb03-b86da2b5cf41.PNG
2025-09-15 10:42:53 [http-nio-8090-exec-3] INFO  c.p.security.OAuth2SuccessHandler - JWT 토큰 발급 시작
2025-09-15 10:42:53 [http-nio-8090-exec-3] INFO  c.p.security.OAuth2SuccessHandler - JWT 토큰 발급 완료
2025-09-15 10:42:53 [http-nio-8090-exec-3] INFO  c.p.security.OAuth2SuccessHandler - 리다이렉트 URL: http://localhost:3000/oauth2/redirect?accessToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlcyI6WyJVU0VSIl0sIm5hbWUiOiLquYDrr7zspJEiLCJuaWNrbmFtZSI6ImtpbWlqKioqKiIsInR5cCI6ImFjY2VzcyIsInByb3YiOiJOQVZFUiIsImVtYWlsIjoia2ltaWp1Zzk3QG5hdmVyLmNvbSIsInBpY3R1cmUiOiJodHRwOi8vbG9jYWxob3N0OjgwOTAvaW1nLzg2YzIwODgzLTU1MWUtNDhlNy1iYjAzLWI4NmRhMmI1Y2Y0MS5QTkciLCJzdWIiOiIyMSIsImlzcyI6InBldG1hdGUiLCJpYXQiOjE3NTc5MDA1NzMsImV4cCI6MTc1NzkwMDYzM30.puN_3CPCUd9pLJYy78OdnF7q2nlZRBxvtB-_bJH67WY&next=%2Fhome
2025-09-15 10:42:53 [http-nio-8090-exec-3] INFO  c.p.security.OAuth2SuccessHandler - === OAuth2 인증 성공 처리 완료 ===
2025-09-15 10:42:53 [http-nio-8090-exec-4] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /auth/me - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=419)
2025-09-15 10:42:53 [http-nio-8090-exec-4] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=21, type=access, exp=Mon Sep 15 10:43:53 KST 2025, expired=false
2025-09-15 10:42:53 [http-nio-8090-exec-5] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /img/86c20883-551e-48e7-bb03-b86da2b5cf41.PNG - Authorization: <absent>
2025-09-15 10:42:54 [http-nio-8090-exec-5] DEBUG org.hibernate.SQL - 
    select
        pim1_0.uuid,
        pim1_0.created_at,
        pim1_0.email,
        pim1_0.expires_at,
        pim1_0.real_path 
    from
        profile_image_map pim1_0 
    where
        pim1_0.uuid=?
2025-09-15 10:42:54 [http-nio-8090-exec-5] WARN  c.p.d.i.c.ImageProxyController - ❌ 이미지 경로를 찾을 수 없음: 86c20883-551e-48e7-bb03-b86da2b5cf41.PNG
2025-09-15 10:43:22 [http-nio-8090-exec-6] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /img/86c20883-551e-48e7-bb03-b86da2b5cf41.PNG - Authorization: <absent>
2025-09-15 10:43:22 [http-nio-8090-exec-6] DEBUG org.hibernate.SQL - 
    select
        pim1_0.uuid,
        pim1_0.created_at,
        pim1_0.email,
        pim1_0.expires_at,
        pim1_0.real_path 
    from
        profile_image_map pim1_0 
    where
        pim1_0.uuid=?
2025-09-15 10:43:22 [http-nio-8090-exec-6] WARN  c.p.d.i.c.ImageProxyController - ❌ 이미지 경로를 찾을 수 없음: 86c20883-551e-48e7-bb03-b86da2b5cf41.PNG
2025-09-15 10:43:32 [http-nio-8090-exec-8] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /img/86c20883-551e-48e7-bb03-b86da2b5cf41.png - Authorization: <absent>
2025-09-15 10:43:32 [http-nio-8090-exec-8] DEBUG org.hibernate.SQL - 
    select
        pim1_0.uuid,
        pim1_0.created_at,
        pim1_0.email,
        pim1_0.expires_at,
        pim1_0.real_path 
    from
        profile_image_map pim1_0 
    where
        pim1_0.uuid=?
2025-09-15 10:43:32 [http-nio-8090-exec-8] WARN  c.p.d.i.c.ImageProxyController - ❌ 이미지 경로를 찾을 수 없음: 86c20883-551e-48e7-bb03-b86da2b5cf41.png
2025-09-15 10:43:42 [http-nio-8090-exec-9] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /auth/me - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=419)
2025-09-15 10:43:42 [http-nio-8090-exec-9] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=21, type=access, exp=Mon Sep 15 10:43:53 KST 2025, expired=false
2025-09-15 10:43:42 [http-nio-8090-exec-10] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /img/86c20883-551e-48e7-bb03-b86da2b5cf41.PNG - Authorization: <absent>
2025-09-15 10:43:42 [http-nio-8090-exec-1] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /login - Authorization: <absent>
2025-09-15 10:44:01 [http-nio-8090-exec-2] INFO  c.p.security.JwtAuthenticationFilter - [JWT] POST /user/petmate/apply - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=419)
2025-09-15 10:44:01 [http-nio-8090-exec-2] WARN  c.p.security.JwtAuthenticationFilter - [JWT] verification failed: JWT expired 8716 milliseconds ago at 2025-09-15T01:43:53.000Z. Current time: 2025-09-15T01:44:01.716Z. Allowed clock skew: 0 milliseconds.
io.jsonwebtoken.ExpiredJwtException: JWT expired 8716 milliseconds ago at 2025-09-15T01:43:53.000Z. Current time: 2025-09-15T01:44:01.716Z. Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:691)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:364)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:94)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:36)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:29)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseSignedClaims(DefaultJwtParser.java:830)
	at com.petmate.security.jwt.JwtUtil.parse(JwtUtil.java:57)
	at com.petmate.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:57)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:235)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:229)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-15 10:44:01 [http-nio-8090-exec-2] INFO  c.p.domain.user.service.UserService - === 펫메이트 신청 처리 시작 ===
2025-09-15 10:44:01 [http-nio-8090-exec-2] INFO  c.p.domain.user.service.UserService - email: kimijug97@naver.com, 새 프로필 파일 있음: true
2025-09-15 10:44:01 [http-nio-8090-exec-2] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.birth_date,
        ue1_0.care_species,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.email_verified,
        ue1_0.gender,
        ue1_0.main_service,
        ue1_0.name,
        ue1_0.nick_name,
        ue1_0.phone,
        ue1_0.profile_image,
        ue1_0.provider,
        ue1_0.role,
        ue1_0.status,
        ue1_0.updated_at 
    from
        user ue1_0 
    where
        ue1_0.email=?
2025-09-15 10:44:01 [http-nio-8090-exec-2] INFO  c.p.domain.user.service.UserService - 기존 사용자 조회 완료 - userId: 21, 현재 profileImage: 86c20883-551e-48e7-bb03-b86da2b5cf41.PNG
2025-09-15 10:44:01 [http-nio-8090-exec-2] INFO  c.p.domain.user.service.UserService - 새로운 프로필 이미지 파일이 업로드됨 - 기존 이미지 교체
2025-09-15 10:44:01 [http-nio-8090-exec-2] INFO  c.p.d.user.service.UserFileService - 프로필 이미지 업로드 시작 - userId: 21, 기존 이미지: 86c20883-551e-48e7-bb03-b86da2b5cf41.PNG
2025-09-15 10:44:01 [http-nio-8090-exec-2] INFO  c.p.d.user.service.UserFileService - 새 프로필 이미지 저장 시작: C:\petmate\21\profile\2bcdb5d1-67a5-441b-9a96-3cf9fc9bf667.png
2025-09-15 10:44:01 [http-nio-8090-exec-2] INFO  c.p.d.user.service.UserFileService - 새 프로필 이미지 저장 완료: C:\petmate\21\profile\2bcdb5d1-67a5-441b-9a96-3cf9fc9bf667.png
2025-09-15 10:44:01 [http-nio-8090-exec-2] DEBUG org.hibernate.SQL - 
    select
        pim1_0.uuid,
        pim1_0.created_at,
        pim1_0.email,
        pim1_0.expires_at,
        pim1_0.real_path 
    from
        profile_image_map pim1_0 
    where
        pim1_0.email=?
2025-09-15 10:44:01 [http-nio-8090-exec-2] INFO  c.p.d.user.service.UserFileService - 기존 ImageMap 삭제: email=kimijug97@naver.com, 기존UUID=cb9e1ede-3b2a-4bca-9e9f-451ee1b4f65c.png
2025-09-15 10:44:01 [http-nio-8090-exec-2] DEBUG org.hibernate.SQL - 
    select
        pim1_0.uuid,
        pim1_0.created_at,
        pim1_0.email,
        pim1_0.expires_at,
        pim1_0.real_path 
    from
        profile_image_map pim1_0 
    where
        pim1_0.uuid=?
2025-09-15 10:44:01 [http-nio-8090-exec-2] INFO  c.p.d.user.service.UserFileService - 새 프로필 ImageMap 저장 완료: email=kimijug97@naver.com, 새UUID=2bcdb5d1-67a5-441b-9a96-3cf9fc9bf667.png
2025-09-15 10:44:01 [http-nio-8090-exec-2] INFO  c.p.domain.user.service.UserService - 새 프로필 이미지 저장 완료 - 새 UUID: 2bcdb5d1-67a5-441b-9a96-3cf9fc9bf667.png
2025-09-15 10:44:01 [http-nio-8090-exec-2] INFO  c.p.domain.user.service.UserService - 펫메이트 신청 처리 완료 - 최종 profileImage: 2bcdb5d1-67a5-441b-9a96-3cf9fc9bf667.png
2025-09-15 10:44:01 [http-nio-8090-exec-2] INFO  c.p.domain.user.service.UserService - === 펫메이트 신청 처리 완료 ===
2025-09-15 10:44:01 [http-nio-8090-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        profile_image_map
        (email, expires_at, real_path, uuid) 
    values
        (?, ?, ?, ?)
2025-09-15 10:44:02 [http-nio-8090-exec-2] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 1062, SQLState: 23000
2025-09-15 10:44:02 [http-nio-8090-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Duplicate entry 'kimijug97@naver.com' for key 'profile_image_map.email'
2025-09-15 10:44:02 [http-nio-8090-exec-2] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.DataIntegrityViolationException: could not execute statement [Duplicate entry 'kimijug97@naver.com' for key 'profile_image_map.email'] [insert into profile_image_map (email,expires_at,real_path,uuid) values (?,?,?,?)]; SQL [insert into profile_image_map (email,expires_at,real_path,uuid) values (?,?,?,?)]; constraint [profile_image_map.email]] with root cause
java.sql.SQLIntegrityConstraintViolationException: Duplicate entry 'kimijug97@naver.com' for key 'profile_image_map.email'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:109)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:988)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1166)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1101)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1448)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1084)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.performNonBatchedMutation(AbstractMutationExecutor.java:134)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:55)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:104)
	at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:110)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:644)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:511)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:414)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:41)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1429)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:491)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2354)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1978)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:169)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:267)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:795)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:758)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:698)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:416)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.petmate.domain.user.service.UserService$$SpringCGLIB$$0.apply(<generated>)
	at com.petmate.domain.user.controller.UserController.applyPetMate(UserController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:59)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:216)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:202)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.ui.DefaultResourcesFilter.doFilter(DefaultResourcesFilter.java:72)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.petmate.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:90)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:235)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:229)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-15 10:46:10 [restartedMain] INFO  com.petmate.PetmateApplication - Starting PetmateApplication using Java 21.0.7 with PID 18200 (C:\lfm01\spring_boot\pjt-sts4\petmate-backend-mainb\petmate-backend\build\classes\java\main started by HI-02 in C:\lfm01\spring_boot\pjt-sts4\petmate-backend-mainb\petmate-backend)
2025-09-15 10:46:10 [restartedMain] DEBUG com.petmate.PetmateApplication - Running with Spring Boot v3.5.5, Spring v6.2.10
2025-09-15 10:46:10 [restartedMain] INFO  com.petmate.PetmateApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-15 10:46:10 [restartedMain] INFO  o.s.b.d.restart.ChangeableUrls - The Class-Path manifest attribute in C:\Users\HI-02\.gradle\caches\modules-2\files-2.1\io.github.cdimascio\java-dotenv\5.2.2\f77d54ff193ed4b07415ab8d7b3d0550716aa8c\java-dotenv-5.2.2.jar referenced one or more files that do not exist: file:/C:/Users/HI-02/.gradle/caches/modules-2/files-2.1/io.github.cdimascio/java-dotenv/5.2.2/f77d54ff193ed4b07415ab8d7b3d0550716aa8c/kotlin-stdlib-1.4.0.jar,file:/C:/Users/HI-02/.gradle/caches/modules-2/files-2.1/io.github.cdimascio/java-dotenv/5.2.2/f77d54ff193ed4b07415ab8d7b3d0550716aa8c/kotlin-stdlib-common-1.4.0.jar,file:/C:/Users/HI-02/.gradle/caches/modules-2/files-2.1/io.github.cdimascio/java-dotenv/5.2.2/f77d54ff193ed4b07415ab8d7b3d0550716aa8c/annotations-13.0.jar
2025-09-15 10:46:10 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-09-15 10:46:10 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-09-15 10:46:11 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-15 10:46:11 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 143 ms. Found 8 JPA repository interfaces.
2025-09-15 10:46:13 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8090 (http)
2025-09-15 10:46:13 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-15 10:46:13 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.44]
2025-09-15 10:46:13 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-15 10:46:13 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2700 ms
2025-09-15 10:46:13 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-15 10:46:13 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.26.Final
2025-09-15 10:46:14 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-15 10:46:14 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-15 10:46:14 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-15 10:46:14 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@15bd88b8
2025-09-15 10:46:14 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-15 10:46:15 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-15 10:46:16 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-15 10:46:16 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-15 10:46:17 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-15 10:46:18 [restartedMain] INFO  com.petmate.config.WebConfig - CORS applied. origins=http://localhost:3000, http://localhost:3001
2025-09-15 10:46:18 [restartedMain] INFO  com.petmate.config.WebConfig - Static mapping applied. /files/** -> file:C:/petmate/
2025-09-15 10:46:18 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-09-15 10:46:19 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-15 10:46:19 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8090 (http) with context path '/'
2025-09-15 10:46:19 [restartedMain] INFO  com.petmate.PetmateApplication - Started PetmateApplication in 9.193 seconds (process running for 9.904)
2025-09-15 10:46:19 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        common_codes gce1_0
2025-09-15 10:46:19 [restartedMain] INFO  com.petmate.config.DataInitializer - Common codes already initialized
2025-09-15 10:46:27 [http-nio-8090-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-15 10:46:27 [http-nio-8090-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-15 10:46:27 [http-nio-8090-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-09-15 10:46:28 [http-nio-8090-exec-3] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /auth/me - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=419)
2025-09-15 10:46:28 [http-nio-8090-exec-3] WARN  c.p.security.JwtAuthenticationFilter - [JWT] verification failed: JWT expired 155147 milliseconds ago at 2025-09-15T01:43:53.000Z. Current time: 2025-09-15T01:46:28.147Z. Allowed clock skew: 0 milliseconds.
io.jsonwebtoken.ExpiredJwtException: JWT expired 155147 milliseconds ago at 2025-09-15T01:43:53.000Z. Current time: 2025-09-15T01:46:28.147Z. Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:691)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:364)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:94)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:36)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:29)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseSignedClaims(DefaultJwtParser.java:830)
	at com.petmate.security.jwt.JwtUtil.parse(JwtUtil.java:57)
	at com.petmate.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:57)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:235)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:229)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-15 10:46:28 [http-nio-8090-exec-4] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /auth/me - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=419)
2025-09-15 10:46:28 [http-nio-8090-exec-4] WARN  c.p.security.JwtAuthenticationFilter - [JWT] verification failed: JWT expired 155246 milliseconds ago at 2025-09-15T01:43:53.000Z. Current time: 2025-09-15T01:46:28.246Z. Allowed clock skew: 0 milliseconds.
io.jsonwebtoken.ExpiredJwtException: JWT expired 155246 milliseconds ago at 2025-09-15T01:43:53.000Z. Current time: 2025-09-15T01:46:28.246Z. Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:691)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:364)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:94)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:36)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:29)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseSignedClaims(DefaultJwtParser.java:830)
	at com.petmate.security.jwt.JwtUtil.parse(JwtUtil.java:57)
	at com.petmate.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:57)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:235)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:229)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-15 10:46:29 [http-nio-8090-exec-5] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /auth/me - Authorization: <absent>
2025-09-15 10:46:29 [http-nio-8090-exec-6] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /auth/me - Authorization: <absent>
2025-09-15 10:46:31 [http-nio-8090-exec-8] INFO  c.p.security.OAuth2SuccessHandler - === OAuth2 인증 성공 처리 시작 ===
2025-09-15 10:46:31 [http-nio-8090-exec-8] INFO  c.p.security.OAuth2SuccessHandler - OAuth2 사용자 정보: {provider=naver, response={id=2ZBmnoyH7EYixJoarTxtoLrneVrmyXX14s12xmO6yLc, nickname=kimij****, email=kimijug97@naver.com, name=김민중}, providerId=2ZBmnoyH7EYixJoarTxtoLrneVrmyXX14s12xmO6yLc, name=김민중, nickname=kimij****, resultcode=00, message=success, userId=naver_2ZBmnoyH7EYixJoarTxtoLrneVrmyXX14s12xmO6yLc, email=kimijug97@naver.com, picture=null}
2025-09-15 10:46:31 [http-nio-8090-exec-8] INFO  c.p.security.OAuth2SuccessHandler - 파싱된 사용자 정보 - provider: NAVER, email: kimijug97@naver.com, name: 김민중, nickname: kimij****, picture: null
2025-09-15 10:46:31 [http-nio-8090-exec-8] INFO  c.p.security.OAuth2SuccessHandler - 사용자 등록/업데이트 시작
2025-09-15 10:46:31 [http-nio-8090-exec-8] INFO  c.p.domain.user.service.UserService - === applyBasicUser 시작 ===
2025-09-15 10:46:31 [http-nio-8090-exec-8] INFO  c.p.domain.user.service.UserService - email: kimijug97@naver.com, provider: NAVER, name: 김민중, nickname: kimij****, profileImageUrl: null
2025-09-15 10:46:31 [http-nio-8090-exec-8] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.birth_date,
        ue1_0.care_species,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.email_verified,
        ue1_0.gender,
        ue1_0.main_service,
        ue1_0.name,
        ue1_0.nick_name,
        ue1_0.phone,
        ue1_0.profile_image,
        ue1_0.provider,
        ue1_0.role,
        ue1_0.status,
        ue1_0.updated_at 
    from
        user ue1_0 
    where
        ue1_0.email=?
2025-09-15 10:46:31 [http-nio-8090-exec-8] INFO  c.p.domain.user.service.UserService - 사용자 조회/생성 완료 - userId: 21
2025-09-15 10:46:31 [http-nio-8090-exec-8] INFO  c.p.domain.user.service.UserService - 사용자 정보 업데이트 완료
2025-09-15 10:46:31 [http-nio-8090-exec-8] INFO  c.p.domain.user.service.UserService - 프로필 이미지 처리 시작 - profileImageUrl: null
2025-09-15 10:46:31 [http-nio-8090-exec-8] INFO  c.p.domain.user.service.UserService - 이미지 URL이 없어서 기본 이미지 저장
2025-09-15 10:46:31 [http-nio-8090-exec-8] INFO  c.p.d.user.service.UserFileService - 기존 프로필 이미지 존재: userId=21, profile=86c20883-551e-48e7-bb03-b86da2b5cf41.PNG
2025-09-15 10:46:31 [http-nio-8090-exec-8] INFO  c.p.domain.user.service.UserService - 기본 이미지 저장 완료 - UUID: 86c20883-551e-48e7-bb03-b86da2b5cf41.PNG
2025-09-15 10:46:31 [http-nio-8090-exec-8] INFO  c.p.domain.user.service.UserService - 사용자 저장 완료 - 최종 profileImage: 86c20883-551e-48e7-bb03-b86da2b5cf41.PNG
2025-09-15 10:46:31 [http-nio-8090-exec-8] INFO  c.p.domain.user.service.UserService - === applyBasicUser 완료 ===
2025-09-15 10:46:31 [http-nio-8090-exec-8] INFO  c.p.security.OAuth2SuccessHandler - 사용자 등록/업데이트 완료 - userId: 21
2025-09-15 10:46:31 [http-nio-8090-exec-8] INFO  c.p.security.OAuth2SuccessHandler - 프로필 이미지 URL 조회 시작
2025-09-15 10:46:31 [http-nio-8090-exec-8] INFO  c.p.domain.user.service.UserService - 프로필 이미지 조회: kimijug97@naver.com
2025-09-15 10:46:31 [http-nio-8090-exec-8] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.birth_date,
        ue1_0.care_species,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.email_verified,
        ue1_0.gender,
        ue1_0.main_service,
        ue1_0.name,
        ue1_0.nick_name,
        ue1_0.phone,
        ue1_0.profile_image,
        ue1_0.provider,
        ue1_0.role,
        ue1_0.status,
        ue1_0.updated_at 
    from
        user ue1_0 
    where
        ue1_0.email=?
2025-09-15 10:46:31 [http-nio-8090-exec-8] INFO  c.p.domain.user.service.UserService - DB에서 조회된 UUID: 86c20883-551e-48e7-bb03-b86da2b5cf41.PNG
2025-09-15 10:46:31 [http-nio-8090-exec-8] INFO  c.p.domain.user.service.UserService - 최종 URL: http://localhost:8090/img/86c20883-551e-48e7-bb03-b86da2b5cf41.PNG
2025-09-15 10:46:31 [http-nio-8090-exec-8] INFO  c.p.security.OAuth2SuccessHandler - 조회된 프로필 UUID: http://localhost:8090/img/86c20883-551e-48e7-bb03-b86da2b5cf41.PNG
2025-09-15 10:46:31 [http-nio-8090-exec-8] INFO  c.p.security.OAuth2SuccessHandler - 절대 URL 사용: http://localhost:8090/img/86c20883-551e-48e7-bb03-b86da2b5cf41.PNG
2025-09-15 10:46:31 [http-nio-8090-exec-8] INFO  c.p.security.OAuth2SuccessHandler - JWT 토큰 발급 시작
2025-09-15 10:46:31 [http-nio-8090-exec-8] INFO  c.p.security.OAuth2SuccessHandler - JWT 토큰 발급 완료
2025-09-15 10:46:31 [http-nio-8090-exec-8] INFO  c.p.security.OAuth2SuccessHandler - 리다이렉트 URL: http://localhost:3000/oauth2/redirect?accessToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlcyI6WyJVU0VSIl0sIm5hbWUiOiLquYDrr7zspJEiLCJuaWNrbmFtZSI6ImtpbWlqKioqKiIsInR5cCI6ImFjY2VzcyIsInByb3YiOiJOQVZFUiIsImVtYWlsIjoia2ltaWp1Zzk3QG5hdmVyLmNvbSIsInBpY3R1cmUiOiJodHRwOi8vbG9jYWxob3N0OjgwOTAvaW1nLzg2YzIwODgzLTU1MWUtNDhlNy1iYjAzLWI4NmRhMmI1Y2Y0MS5QTkciLCJzdWIiOiIyMSIsImlzcyI6InBldG1hdGUiLCJpYXQiOjE3NTc5MDA3OTEsImV4cCI6MTc1NzkwMDg1MX0.unVqXflJfAhzyF4TsJWWKB654Ztho0nCJpTu8VWwQtI&next=%2Fhome
2025-09-15 10:46:31 [http-nio-8090-exec-8] INFO  c.p.security.OAuth2SuccessHandler - === OAuth2 인증 성공 처리 완료 ===
2025-09-15 10:46:31 [http-nio-8090-exec-9] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /auth/me - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=419)
2025-09-15 10:46:31 [http-nio-8090-exec-9] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=21, type=access, exp=Mon Sep 15 10:47:31 KST 2025, expired=false
2025-09-15 10:46:32 [http-nio-8090-exec-10] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /img/86c20883-551e-48e7-bb03-b86da2b5cf41.PNG - Authorization: <absent>
2025-09-15 10:46:32 [http-nio-8090-exec-10] DEBUG org.hibernate.SQL - 
    select
        pim1_0.uuid,
        pim1_0.created_at,
        pim1_0.email,
        pim1_0.expires_at,
        pim1_0.real_path 
    from
        profile_image_map pim1_0 
    where
        pim1_0.uuid=?
2025-09-15 10:46:32 [http-nio-8090-exec-10] WARN  c.p.d.i.c.ImageProxyController - ❌ 이미지 경로를 찾을 수 없음: 86c20883-551e-48e7-bb03-b86da2b5cf41.PNG
2025-09-15 10:46:34 [http-nio-8090-exec-1] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /auth/me - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=419)
2025-09-15 10:46:34 [http-nio-8090-exec-1] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=21, type=access, exp=Mon Sep 15 10:47:31 KST 2025, expired=false
2025-09-15 10:46:34 [http-nio-8090-exec-2] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /img/86c20883-551e-48e7-bb03-b86da2b5cf41.PNG - Authorization: <absent>
2025-09-15 10:46:34 [http-nio-8090-exec-3] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /login - Authorization: <absent>
2025-09-15 10:46:47 [http-nio-8090-exec-4] INFO  c.p.security.JwtAuthenticationFilter - [JWT] POST /user/petmate/apply - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=419)
2025-09-15 10:46:47 [http-nio-8090-exec-4] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=21, type=access, exp=Mon Sep 15 10:47:31 KST 2025, expired=false
2025-09-15 10:46:47 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - === 펫메이트 신청 처리 시작 ===
2025-09-15 10:46:47 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - email: kimijug97@naver.com, 새 프로필 파일 있음: true
2025-09-15 10:46:47 [http-nio-8090-exec-4] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.birth_date,
        ue1_0.care_species,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.email_verified,
        ue1_0.gender,
        ue1_0.main_service,
        ue1_0.name,
        ue1_0.nick_name,
        ue1_0.phone,
        ue1_0.profile_image,
        ue1_0.provider,
        ue1_0.role,
        ue1_0.status,
        ue1_0.updated_at 
    from
        user ue1_0 
    where
        ue1_0.email=?
2025-09-15 10:46:47 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - 기존 사용자 조회 완료 - userId: 21, 현재 profileImage: 86c20883-551e-48e7-bb03-b86da2b5cf41.PNG
2025-09-15 10:46:47 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - 새로운 프로필 이미지 파일이 업로드됨 - 기존 이미지 교체
2025-09-15 10:46:47 [http-nio-8090-exec-4] INFO  c.p.d.user.service.UserFileService - 프로필 이미지 저장 시작: C:\petmate\21\profile\52ad53dd-73e4-4277-b00b-d3559f7cde34.png
2025-09-15 10:46:47 [http-nio-8090-exec-4] INFO  c.p.d.user.service.UserFileService - 프로필 이미지 저장 완료: C:\petmate\21\profile\52ad53dd-73e4-4277-b00b-d3559f7cde34.png
2025-09-15 10:46:47 [http-nio-8090-exec-4] DEBUG org.hibernate.SQL - 
    select
        pim1_0.uuid,
        pim1_0.created_at,
        pim1_0.email,
        pim1_0.expires_at,
        pim1_0.real_path 
    from
        profile_image_map pim1_0 
    where
        pim1_0.email=?
2025-09-15 10:46:47 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - 새 프로필 이미지 저장 완료 - 새 UUID: 52ad53dd-73e4-4277-b00b-d3559f7cde34.png
2025-09-15 10:46:47 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - 펫메이트 신청 처리 완료 - 최종 profileImage: 52ad53dd-73e4-4277-b00b-d3559f7cde34.png
2025-09-15 10:46:47 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - === 펫메이트 신청 처리 완료 ===
2025-09-15 10:46:47 [http-nio-8090-exec-4] DEBUG org.hibernate.SQL - 
    update
        user 
    set
        birth_date=?,
        care_species=?,
        email=?,
        email_verified=?,
        gender=?,
        main_service=?,
        name=?,
        nick_name=?,
        phone=?,
        profile_image=?,
        provider=?,
        role=?,
        status=?,
        updated_at=? 
    where
        id=?
2025-09-15 10:46:52 [http-nio-8090-exec-5] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /img/86c20883-551e-48e7-bb03-b86da2b5cf41.PNG - Authorization: <absent>
2025-09-15 10:46:52 [http-nio-8090-exec-5] DEBUG org.hibernate.SQL - 
    select
        pim1_0.uuid,
        pim1_0.created_at,
        pim1_0.email,
        pim1_0.expires_at,
        pim1_0.real_path 
    from
        profile_image_map pim1_0 
    where
        pim1_0.uuid=?
2025-09-15 10:46:52 [http-nio-8090-exec-5] WARN  c.p.d.i.c.ImageProxyController - ❌ 이미지 경로를 찾을 수 없음: 86c20883-551e-48e7-bb03-b86da2b5cf41.PNG
2025-09-15 10:51:17 [restartedMain] INFO  com.petmate.PetmateApplication - Starting PetmateApplication using Java 21.0.7 with PID 3020 (C:\lfm01\spring_boot\pjt-sts4\petmate-backend-mainb\petmate-backend\build\classes\java\main started by HI-02 in C:\lfm01\spring_boot\pjt-sts4\petmate-backend-mainb\petmate-backend)
2025-09-15 10:51:17 [restartedMain] DEBUG com.petmate.PetmateApplication - Running with Spring Boot v3.5.5, Spring v6.2.10
2025-09-15 10:51:17 [restartedMain] INFO  com.petmate.PetmateApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-15 10:51:17 [restartedMain] INFO  o.s.b.d.restart.ChangeableUrls - The Class-Path manifest attribute in C:\Users\HI-02\.gradle\caches\modules-2\files-2.1\io.github.cdimascio\java-dotenv\5.2.2\f77d54ff193ed4b07415ab8d7b3d0550716aa8c\java-dotenv-5.2.2.jar referenced one or more files that do not exist: file:/C:/Users/HI-02/.gradle/caches/modules-2/files-2.1/io.github.cdimascio/java-dotenv/5.2.2/f77d54ff193ed4b07415ab8d7b3d0550716aa8c/kotlin-stdlib-1.4.0.jar,file:/C:/Users/HI-02/.gradle/caches/modules-2/files-2.1/io.github.cdimascio/java-dotenv/5.2.2/f77d54ff193ed4b07415ab8d7b3d0550716aa8c/kotlin-stdlib-common-1.4.0.jar,file:/C:/Users/HI-02/.gradle/caches/modules-2/files-2.1/io.github.cdimascio/java-dotenv/5.2.2/f77d54ff193ed4b07415ab8d7b3d0550716aa8c/annotations-13.0.jar
2025-09-15 10:51:17 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-09-15 10:51:17 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-09-15 10:51:18 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-15 10:51:18 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 137 ms. Found 8 JPA repository interfaces.
2025-09-15 10:51:20 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8090 (http)
2025-09-15 10:51:20 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-15 10:51:20 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.44]
2025-09-15 10:51:20 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-15 10:51:20 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2787 ms
2025-09-15 10:51:20 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-15 10:51:21 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.26.Final
2025-09-15 10:51:21 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-15 10:51:21 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-15 10:51:21 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-15 10:51:22 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@30c0a1b1
2025-09-15 10:51:22 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-15 10:51:22 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-15 10:51:23 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-15 10:51:23 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-15 10:51:24 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-15 10:51:26 [restartedMain] INFO  com.petmate.config.WebConfig - CORS applied. origins=http://localhost:3000, http://localhost:3001
2025-09-15 10:51:26 [restartedMain] INFO  com.petmate.config.WebConfig - Static mapping applied. /files/** -> file:C:/petmate/
2025-09-15 10:51:26 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-09-15 10:51:26 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-15 10:51:26 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8090 (http) with context path '/'
2025-09-15 10:51:26 [restartedMain] INFO  com.petmate.PetmateApplication - Started PetmateApplication in 9.989 seconds (process running for 10.747)
2025-09-15 10:51:27 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        common_codes gce1_0
2025-09-15 10:51:27 [restartedMain] INFO  com.petmate.config.DataInitializer - Common codes already initialized
2025-09-15 10:51:29 [http-nio-8090-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-15 10:51:29 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-15 10:51:29 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-09-15 10:51:29 [http-nio-8090-exec-1] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /auth/me - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=419)
2025-09-15 10:51:29 [http-nio-8090-exec-1] WARN  c.p.security.JwtAuthenticationFilter - [JWT] verification failed: JWT expired 238350 milliseconds ago at 2025-09-15T01:47:31.000Z. Current time: 2025-09-15T01:51:29.350Z. Allowed clock skew: 0 milliseconds.
io.jsonwebtoken.ExpiredJwtException: JWT expired 238350 milliseconds ago at 2025-09-15T01:47:31.000Z. Current time: 2025-09-15T01:51:29.350Z. Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:691)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:364)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:94)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:36)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:29)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseSignedClaims(DefaultJwtParser.java:830)
	at com.petmate.security.jwt.JwtUtil.parse(JwtUtil.java:57)
	at com.petmate.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:57)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:235)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:229)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-15 10:51:29 [http-nio-8090-exec-2] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /auth/me - Authorization: <absent>
2025-09-15 10:51:31 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - === OAuth2 인증 성공 처리 시작 ===
2025-09-15 10:51:31 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - OAuth2 사용자 정보: {provider=naver, response={id=2ZBmnoyH7EYixJoarTxtoLrneVrmyXX14s12xmO6yLc, nickname=kimij****, email=kimijug97@naver.com, name=김민중}, providerId=2ZBmnoyH7EYixJoarTxtoLrneVrmyXX14s12xmO6yLc, name=김민중, nickname=kimij****, resultcode=00, message=success, userId=naver_2ZBmnoyH7EYixJoarTxtoLrneVrmyXX14s12xmO6yLc, email=kimijug97@naver.com, picture=null}
2025-09-15 10:51:31 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - 파싱된 사용자 정보 - provider: NAVER, email: kimijug97@naver.com, name: 김민중, nickname: kimij****, picture: null
2025-09-15 10:51:31 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - 사용자 등록/업데이트 시작
2025-09-15 10:51:31 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - === applyBasicUser 시작 ===
2025-09-15 10:51:31 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - email: kimijug97@naver.com, provider: NAVER, name: 김민중, nickname: kimij****, profileImageUrl: null
2025-09-15 10:51:31 [http-nio-8090-exec-4] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.birth_date,
        ue1_0.care_species,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.email_verified,
        ue1_0.gender,
        ue1_0.main_service,
        ue1_0.name,
        ue1_0.nick_name,
        ue1_0.phone,
        ue1_0.profile_image,
        ue1_0.provider,
        ue1_0.role,
        ue1_0.status,
        ue1_0.updated_at 
    from
        user ue1_0 
    where
        ue1_0.email=?
2025-09-15 10:51:31 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - 사용자 조회/생성 완료 - userId: 21
2025-09-15 10:51:31 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - 사용자 정보 업데이트 완료
2025-09-15 10:51:31 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - 프로필 이미지 처리 시작 - profileImageUrl: null
2025-09-15 10:51:31 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - 이미지 URL이 없어서 기본 이미지 저장
2025-09-15 10:51:31 [http-nio-8090-exec-4] INFO  c.p.d.user.service.UserFileService - 기존 프로필 이미지 존재: userId=21, profile=52ad53dd-73e4-4277-b00b-d3559f7cde34.png
2025-09-15 10:51:31 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - 기본 이미지 저장 완료 - UUID: 52ad53dd-73e4-4277-b00b-d3559f7cde34.png
2025-09-15 10:51:31 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - 사용자 저장 완료 - 최종 profileImage: 52ad53dd-73e4-4277-b00b-d3559f7cde34.png
2025-09-15 10:51:31 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - === applyBasicUser 완료 ===
2025-09-15 10:51:31 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - 사용자 등록/업데이트 완료 - userId: 21
2025-09-15 10:51:31 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - 프로필 이미지 URL 조회 시작
2025-09-15 10:51:31 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - 프로필 이미지 조회: kimijug97@naver.com
2025-09-15 10:51:31 [http-nio-8090-exec-4] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.birth_date,
        ue1_0.care_species,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.email_verified,
        ue1_0.gender,
        ue1_0.main_service,
        ue1_0.name,
        ue1_0.nick_name,
        ue1_0.phone,
        ue1_0.profile_image,
        ue1_0.provider,
        ue1_0.role,
        ue1_0.status,
        ue1_0.updated_at 
    from
        user ue1_0 
    where
        ue1_0.email=?
2025-09-15 10:51:31 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - DB에서 조회된 UUID: 52ad53dd-73e4-4277-b00b-d3559f7cde34.png
2025-09-15 10:51:31 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - 최종 URL: http://localhost:8090/img/52ad53dd-73e4-4277-b00b-d3559f7cde34.png
2025-09-15 10:51:31 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - 조회된 프로필 UUID: http://localhost:8090/img/52ad53dd-73e4-4277-b00b-d3559f7cde34.png
2025-09-15 10:51:31 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - 절대 URL 사용: http://localhost:8090/img/52ad53dd-73e4-4277-b00b-d3559f7cde34.png
2025-09-15 10:51:31 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - JWT 토큰 발급 시작
2025-09-15 10:51:31 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - JWT 토큰 발급 완료
2025-09-15 10:51:31 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - 리다이렉트 URL: http://localhost:3000/oauth2/redirect?accessToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlcyI6WyJVU0VSIl0sIm5hbWUiOiLquYDrr7zspJEiLCJuaWNrbmFtZSI6ImtpbWlqKioqKiIsInR5cCI6ImFjY2VzcyIsInByb3YiOiJOQVZFUiIsImVtYWlsIjoia2ltaWp1Zzk3QG5hdmVyLmNvbSIsInBpY3R1cmUiOiJodHRwOi8vbG9jYWxob3N0OjgwOTAvaW1nLzUyYWQ1M2RkLTczZTQtNDI3Ny1iMDBiLWQzNTU5ZjdjZGUzNC5wbmciLCJzdWIiOiIyMSIsImlzcyI6InBldG1hdGUiLCJpYXQiOjE3NTc5MDEwOTEsImV4cCI6MTc1NzkwMTE1MX0.iOpFg5sn3LbmbRi8aSipo1MQBz94wl7ZcdH7GJKjfxc&next=%2Fhome
2025-09-15 10:51:31 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - === OAuth2 인증 성공 처리 완료 ===
2025-09-15 10:51:31 [http-nio-8090-exec-5] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /auth/me - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=419)
2025-09-15 10:51:31 [http-nio-8090-exec-5] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=21, type=access, exp=Mon Sep 15 10:52:31 KST 2025, expired=false
2025-09-15 10:51:32 [http-nio-8090-exec-6] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /img/52ad53dd-73e4-4277-b00b-d3559f7cde34.png - Authorization: <absent>
2025-09-15 10:51:32 [http-nio-8090-exec-6] INFO  c.p.d.i.c.ImageProxyController - 이미지 요청: uuid=52ad53dd-73e4-4277-b00b-d3559f7cde34.png
2025-09-15 10:51:32 [http-nio-8090-exec-6] DEBUG org.hibernate.SQL - 
    select
        pim1_0.uuid,
        pim1_0.created_at,
        pim1_0.email,
        pim1_0.expires_at,
        pim1_0.real_path 
    from
        profile_image_map pim1_0 
    where
        pim1_0.uuid=?
2025-09-15 10:51:32 [http-nio-8090-exec-6] INFO  c.p.d.i.c.ImageProxyController - 매핑된 경로: null
2025-09-15 10:51:32 [http-nio-8090-exec-6] WARN  c.p.d.i.c.ImageProxyController - 이미지 경로를 찾을 수 없음: 52ad53dd-73e4-4277-b00b-d3559f7cde34.png
2025-09-15 10:52:01 [http-nio-8090-exec-7] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /auth/me - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=419)
2025-09-15 10:52:01 [http-nio-8090-exec-7] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=21, type=access, exp=Mon Sep 15 10:52:31 KST 2025, expired=false
2025-09-15 10:52:01 [http-nio-8090-exec-8] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /img/52ad53dd-73e4-4277-b00b-d3559f7cde34.png - Authorization: <absent>
2025-09-15 10:52:01 [http-nio-8090-exec-9] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /login - Authorization: <absent>
2025-09-15 10:52:13 [http-nio-8090-exec-10] INFO  c.p.security.JwtAuthenticationFilter - [JWT] POST /user/petmate/apply - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=419)
2025-09-15 10:52:13 [http-nio-8090-exec-10] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=21, type=access, exp=Mon Sep 15 10:52:31 KST 2025, expired=false
2025-09-15 10:52:13 [http-nio-8090-exec-10] INFO  c.p.domain.user.service.UserService - === 펫메이트 신청 처리 시작 ===
2025-09-15 10:52:13 [http-nio-8090-exec-10] INFO  c.p.domain.user.service.UserService - email: kimijug97@naver.com, 새 프로필 파일 있음: true
2025-09-15 10:52:13 [http-nio-8090-exec-10] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.birth_date,
        ue1_0.care_species,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.email_verified,
        ue1_0.gender,
        ue1_0.main_service,
        ue1_0.name,
        ue1_0.nick_name,
        ue1_0.phone,
        ue1_0.profile_image,
        ue1_0.provider,
        ue1_0.role,
        ue1_0.status,
        ue1_0.updated_at 
    from
        user ue1_0 
    where
        ue1_0.email=?
2025-09-15 10:52:13 [http-nio-8090-exec-10] INFO  c.p.domain.user.service.UserService - 기존 사용자 조회 완료 - userId: 21, 현재 profileImage: 52ad53dd-73e4-4277-b00b-d3559f7cde34.png
2025-09-15 10:52:13 [http-nio-8090-exec-10] INFO  c.p.domain.user.service.UserService - 새로운 프로필 이미지 파일이 업로드됨 - 기존 이미지 교체
2025-09-15 10:52:13 [http-nio-8090-exec-10] INFO  c.p.d.user.service.UserFileService - 프로필 이미지 업로드 시작 - userId: 21, 기존 이미지: 52ad53dd-73e4-4277-b00b-d3559f7cde34.png
2025-09-15 10:52:14 [http-nio-8090-exec-10] INFO  c.p.d.user.service.UserFileService - 프로필 이미지 저장 시작: C:\petmate\21\profile\9e6933d5-20eb-41e2-a9b7-33ff308eceec.png
2025-09-15 10:52:14 [http-nio-8090-exec-10] INFO  c.p.d.user.service.UserFileService - 프로필 이미지 저장 완료: C:\petmate\21\profile\9e6933d5-20eb-41e2-a9b7-33ff308eceec.png
2025-09-15 10:52:14 [http-nio-8090-exec-10] DEBUG org.hibernate.SQL - 
    select
        pim1_0.uuid,
        pim1_0.created_at,
        pim1_0.email,
        pim1_0.expires_at,
        pim1_0.real_path 
    from
        profile_image_map pim1_0 
    where
        pim1_0.email=?
2025-09-15 10:52:14 [http-nio-8090-exec-10] DEBUG org.hibernate.SQL - 
    select
        pim1_0.uuid,
        pim1_0.created_at,
        pim1_0.email,
        pim1_0.expires_at,
        pim1_0.real_path 
    from
        profile_image_map pim1_0 
    where
        pim1_0.uuid=?
2025-09-15 10:52:14 [http-nio-8090-exec-10] INFO  c.p.domain.user.service.UserService - 새 프로필 이미지 저장 완료 - 새 UUID: 9e6933d5-20eb-41e2-a9b7-33ff308eceec.png
2025-09-15 10:52:14 [http-nio-8090-exec-10] INFO  c.p.domain.user.service.UserService - 펫메이트 신청 처리 완료 - 최종 profileImage: 9e6933d5-20eb-41e2-a9b7-33ff308eceec.png
2025-09-15 10:52:14 [http-nio-8090-exec-10] INFO  c.p.domain.user.service.UserService - === 펫메이트 신청 처리 완료 ===
2025-09-15 10:52:14 [http-nio-8090-exec-10] DEBUG org.hibernate.SQL - 
    insert 
    into
        profile_image_map
        (email, expires_at, real_path, uuid) 
    values
        (?, ?, ?, ?)
2025-09-15 10:52:14 [http-nio-8090-exec-10] DEBUG org.hibernate.SQL - 
    update
        user 
    set
        birth_date=?,
        care_species=?,
        email=?,
        email_verified=?,
        gender=?,
        main_service=?,
        name=?,
        nick_name=?,
        phone=?,
        profile_image=?,
        provider=?,
        role=?,
        status=?,
        updated_at=? 
    where
        id=?
2025-09-15 10:52:17 [http-nio-8090-exec-1] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /img/52ad53dd-73e4-4277-b00b-d3559f7cde34.png - Authorization: <absent>
2025-09-15 10:52:17 [http-nio-8090-exec-1] INFO  c.p.d.i.c.ImageProxyController - 이미지 요청: uuid=52ad53dd-73e4-4277-b00b-d3559f7cde34.png
2025-09-15 10:52:17 [http-nio-8090-exec-1] DEBUG org.hibernate.SQL - 
    select
        pim1_0.uuid,
        pim1_0.created_at,
        pim1_0.email,
        pim1_0.expires_at,
        pim1_0.real_path 
    from
        profile_image_map pim1_0 
    where
        pim1_0.uuid=?
2025-09-15 10:52:18 [http-nio-8090-exec-1] INFO  c.p.d.i.c.ImageProxyController - 매핑된 경로: null
2025-09-15 10:52:18 [http-nio-8090-exec-1] WARN  c.p.d.i.c.ImageProxyController - 이미지 경로를 찾을 수 없음: 52ad53dd-73e4-4277-b00b-d3559f7cde34.png
2025-09-15 10:52:41 [http-nio-8090-exec-3] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /img/52ad53dd-73e4-4277-b00b-d3559f7cde34.png - Authorization: <absent>
2025-09-15 10:52:41 [http-nio-8090-exec-3] INFO  c.p.d.i.c.ImageProxyController - 이미지 요청: uuid=52ad53dd-73e4-4277-b00b-d3559f7cde34.png
2025-09-15 10:52:41 [http-nio-8090-exec-3] DEBUG org.hibernate.SQL - 
    select
        pim1_0.uuid,
        pim1_0.created_at,
        pim1_0.email,
        pim1_0.expires_at,
        pim1_0.real_path 
    from
        profile_image_map pim1_0 
    where
        pim1_0.uuid=?
2025-09-15 10:52:41 [http-nio-8090-exec-3] INFO  c.p.d.i.c.ImageProxyController - 매핑된 경로: null
2025-09-15 10:52:41 [http-nio-8090-exec-3] WARN  c.p.d.i.c.ImageProxyController - 이미지 경로를 찾을 수 없음: 52ad53dd-73e4-4277-b00b-d3559f7cde34.png
2025-09-15 10:53:04 [http-nio-8090-exec-5] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /img/86c20883-551e-48e7-bb03-b86da2b5cf41 - Authorization: <absent>
2025-09-15 10:53:04 [http-nio-8090-exec-5] INFO  c.p.d.i.c.ImageProxyController - 이미지 요청: uuid=86c20883-551e-48e7-bb03-b86da2b5cf41
2025-09-15 10:53:04 [http-nio-8090-exec-5] DEBUG org.hibernate.SQL - 
    select
        pim1_0.uuid,
        pim1_0.created_at,
        pim1_0.email,
        pim1_0.expires_at,
        pim1_0.real_path 
    from
        profile_image_map pim1_0 
    where
        pim1_0.uuid=?
2025-09-15 10:53:04 [http-nio-8090-exec-5] INFO  c.p.d.i.c.ImageProxyController - 매핑된 경로: null
2025-09-15 10:53:04 [http-nio-8090-exec-5] WARN  c.p.d.i.c.ImageProxyController - 이미지 경로를 찾을 수 없음: 86c20883-551e-48e7-bb03-b86da2b5cf41
2025-09-15 10:53:06 [http-nio-8090-exec-6] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /img/52ad53dd-73e4-4277-b00b-d3559f7cde34.png - Authorization: <absent>
2025-09-15 10:53:06 [http-nio-8090-exec-6] INFO  c.p.d.i.c.ImageProxyController - 이미지 요청: uuid=52ad53dd-73e4-4277-b00b-d3559f7cde34.png
2025-09-15 10:53:06 [http-nio-8090-exec-6] DEBUG org.hibernate.SQL - 
    select
        pim1_0.uuid,
        pim1_0.created_at,
        pim1_0.email,
        pim1_0.expires_at,
        pim1_0.real_path 
    from
        profile_image_map pim1_0 
    where
        pim1_0.uuid=?
2025-09-15 10:53:06 [http-nio-8090-exec-6] INFO  c.p.d.i.c.ImageProxyController - 매핑된 경로: null
2025-09-15 10:53:06 [http-nio-8090-exec-6] WARN  c.p.d.i.c.ImageProxyController - 이미지 경로를 찾을 수 없음: 52ad53dd-73e4-4277-b00b-d3559f7cde34.png
2025-09-15 10:54:12 [http-nio-8090-exec-9] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /img/9c28840d-065e-44ae-ac39-f4b00f72f30e.png - Authorization: <absent>
2025-09-15 10:54:12 [http-nio-8090-exec-9] INFO  c.p.d.i.c.ImageProxyController - 이미지 요청: uuid=9c28840d-065e-44ae-ac39-f4b00f72f30e.png
2025-09-15 10:54:12 [http-nio-8090-exec-9] DEBUG org.hibernate.SQL - 
    select
        pim1_0.uuid,
        pim1_0.created_at,
        pim1_0.email,
        pim1_0.expires_at,
        pim1_0.real_path 
    from
        profile_image_map pim1_0 
    where
        pim1_0.uuid=?
2025-09-15 10:54:12 [http-nio-8090-exec-9] INFO  c.p.d.i.c.ImageProxyController - 매핑된 경로: null
2025-09-15 10:54:12 [http-nio-8090-exec-9] WARN  c.p.d.i.c.ImageProxyController - 이미지 경로를 찾을 수 없음: 9c28840d-065e-44ae-ac39-f4b00f72f30e.png
2025-09-15 10:57:56 [restartedMain] INFO  com.petmate.PetmateApplication - Starting PetmateApplication using Java 21.0.7 with PID 12236 (C:\lfm01\spring_boot\pjt-sts4\petmate-backend-mainb\petmate-backend\build\classes\java\main started by HI-02 in C:\lfm01\spring_boot\pjt-sts4\petmate-backend-mainb\petmate-backend)
2025-09-15 10:57:56 [restartedMain] DEBUG com.petmate.PetmateApplication - Running with Spring Boot v3.5.5, Spring v6.2.10
2025-09-15 10:57:56 [restartedMain] INFO  com.petmate.PetmateApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-15 10:57:56 [restartedMain] INFO  o.s.b.d.restart.ChangeableUrls - The Class-Path manifest attribute in C:\Users\HI-02\.gradle\caches\modules-2\files-2.1\io.github.cdimascio\java-dotenv\5.2.2\f77d54ff193ed4b07415ab8d7b3d0550716aa8c\java-dotenv-5.2.2.jar referenced one or more files that do not exist: file:/C:/Users/HI-02/.gradle/caches/modules-2/files-2.1/io.github.cdimascio/java-dotenv/5.2.2/f77d54ff193ed4b07415ab8d7b3d0550716aa8c/kotlin-stdlib-1.4.0.jar,file:/C:/Users/HI-02/.gradle/caches/modules-2/files-2.1/io.github.cdimascio/java-dotenv/5.2.2/f77d54ff193ed4b07415ab8d7b3d0550716aa8c/kotlin-stdlib-common-1.4.0.jar,file:/C:/Users/HI-02/.gradle/caches/modules-2/files-2.1/io.github.cdimascio/java-dotenv/5.2.2/f77d54ff193ed4b07415ab8d7b3d0550716aa8c/annotations-13.0.jar
2025-09-15 10:57:56 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-09-15 10:57:56 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-09-15 10:57:57 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-15 10:57:57 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 131 ms. Found 8 JPA repository interfaces.
2025-09-15 10:57:58 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8090 (http)
2025-09-15 10:57:58 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-15 10:57:58 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.44]
2025-09-15 10:57:58 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-15 10:57:58 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2721 ms
2025-09-15 10:57:59 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-15 10:57:59 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.26.Final
2025-09-15 10:57:59 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-15 10:57:59 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-15 10:57:59 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-15 10:58:00 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7dbdd6dd
2025-09-15 10:58:00 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-15 10:58:00 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-15 10:58:01 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-15 10:58:01 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-15 10:58:02 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-15 10:58:03 [restartedMain] INFO  com.petmate.config.WebConfig - CORS applied. origins=http://localhost:3000, http://localhost:3001
2025-09-15 10:58:04 [restartedMain] INFO  com.petmate.config.WebConfig - Static mapping applied. /files/** -> file:C:/petmate/
2025-09-15 10:58:04 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-09-15 10:58:04 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-15 10:58:04 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8090 (http) with context path '/'
2025-09-15 10:58:04 [restartedMain] INFO  com.petmate.PetmateApplication - Started PetmateApplication in 9.322 seconds (process running for 10.015)
2025-09-15 10:58:04 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        common_codes gce1_0
2025-09-15 10:58:04 [restartedMain] INFO  com.petmate.config.DataInitializer - Common codes already initialized
2025-09-15 10:58:06 [http-nio-8090-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-15 10:58:06 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-15 10:58:06 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-09-15 10:58:06 [http-nio-8090-exec-1] INFO  c.p.security.JwtAuthenticationFilter - [JWT] POST /auth/signout - Authorization: <absent>
2025-09-15 10:58:10 [http-nio-8090-exec-3] INFO  c.p.security.OAuth2SuccessHandler - === OAuth2 인증 성공 처리 시작 ===
2025-09-15 10:58:10 [http-nio-8090-exec-3] INFO  c.p.security.OAuth2SuccessHandler - OAuth2 사용자 정보: {provider=naver, response={id=2ZBmnoyH7EYixJoarTxtoLrneVrmyXX14s12xmO6yLc, nickname=kimij****, email=kimijug97@naver.com, name=김민중}, providerId=2ZBmnoyH7EYixJoarTxtoLrneVrmyXX14s12xmO6yLc, name=김민중, nickname=kimij****, resultcode=00, message=success, userId=naver_2ZBmnoyH7EYixJoarTxtoLrneVrmyXX14s12xmO6yLc, email=kimijug97@naver.com, picture=null}
2025-09-15 10:58:10 [http-nio-8090-exec-3] INFO  c.p.security.OAuth2SuccessHandler - 파싱된 사용자 정보 - provider: NAVER, email: kimijug97@naver.com, name: 김민중, nickname: kimij****, picture: null
2025-09-15 10:58:10 [http-nio-8090-exec-3] INFO  c.p.security.OAuth2SuccessHandler - 사용자 등록/업데이트 시작
2025-09-15 10:58:10 [http-nio-8090-exec-3] INFO  c.p.domain.user.service.UserService - === applyBasicUser 시작 ===
2025-09-15 10:58:10 [http-nio-8090-exec-3] INFO  c.p.domain.user.service.UserService - email: kimijug97@naver.com, provider: NAVER, name: 김민중, nickname: kimij****, profileImageUrl: null
2025-09-15 10:58:10 [http-nio-8090-exec-3] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.birth_date,
        ue1_0.care_species,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.email_verified,
        ue1_0.gender,
        ue1_0.main_service,
        ue1_0.name,
        ue1_0.nick_name,
        ue1_0.phone,
        ue1_0.profile_image,
        ue1_0.provider,
        ue1_0.role,
        ue1_0.status,
        ue1_0.updated_at 
    from
        user ue1_0 
    where
        ue1_0.email=?
2025-09-15 10:58:10 [http-nio-8090-exec-3] INFO  c.p.domain.user.service.UserService - 사용자 조회/생성 완료 - userId: 21
2025-09-15 10:58:10 [http-nio-8090-exec-3] INFO  c.p.domain.user.service.UserService - 사용자 정보 업데이트 완료
2025-09-15 10:58:10 [http-nio-8090-exec-3] INFO  c.p.domain.user.service.UserService - 프로필 이미지 처리 시작 - profileImageUrl: null
2025-09-15 10:58:10 [http-nio-8090-exec-3] INFO  c.p.domain.user.service.UserService - 이미지 URL이 없어서 기본 이미지 저장
2025-09-15 10:58:10 [http-nio-8090-exec-3] INFO  c.p.d.user.service.UserFileService - 기존 프로필 이미지 존재: userId=21, profile=9e6933d5-20eb-41e2-a9b7-33ff308eceec.png
2025-09-15 10:58:10 [http-nio-8090-exec-3] INFO  c.p.domain.user.service.UserService - 기본 이미지 저장 완료 - UUID: 9e6933d5-20eb-41e2-a9b7-33ff308eceec.png
2025-09-15 10:58:10 [http-nio-8090-exec-3] INFO  c.p.domain.user.service.UserService - 사용자 저장 완료 - 최종 profileImage: 9e6933d5-20eb-41e2-a9b7-33ff308eceec.png
2025-09-15 10:58:10 [http-nio-8090-exec-3] INFO  c.p.domain.user.service.UserService - === applyBasicUser 완료 ===
2025-09-15 10:58:10 [http-nio-8090-exec-3] INFO  c.p.security.OAuth2SuccessHandler - 사용자 등록/업데이트 완료 - userId: 21
2025-09-15 10:58:10 [http-nio-8090-exec-3] INFO  c.p.security.OAuth2SuccessHandler - 프로필 이미지 URL 조회 시작
2025-09-15 10:58:10 [http-nio-8090-exec-3] INFO  c.p.domain.user.service.UserService - 프로필 이미지 조회: kimijug97@naver.com
2025-09-15 10:58:10 [http-nio-8090-exec-3] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.birth_date,
        ue1_0.care_species,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.email_verified,
        ue1_0.gender,
        ue1_0.main_service,
        ue1_0.name,
        ue1_0.nick_name,
        ue1_0.phone,
        ue1_0.profile_image,
        ue1_0.provider,
        ue1_0.role,
        ue1_0.status,
        ue1_0.updated_at 
    from
        user ue1_0 
    where
        ue1_0.email=?
2025-09-15 10:58:10 [http-nio-8090-exec-3] INFO  c.p.domain.user.service.UserService - DB에서 조회된 UUID: 9e6933d5-20eb-41e2-a9b7-33ff308eceec.png
2025-09-15 10:58:10 [http-nio-8090-exec-3] INFO  c.p.domain.user.service.UserService - 최종 URL: http://localhost:8090/img/9e6933d5-20eb-41e2-a9b7-33ff308eceec.png
2025-09-15 10:58:10 [http-nio-8090-exec-3] INFO  c.p.security.OAuth2SuccessHandler - 조회된 프로필 UUID: http://localhost:8090/img/9e6933d5-20eb-41e2-a9b7-33ff308eceec.png
2025-09-15 10:58:10 [http-nio-8090-exec-3] INFO  c.p.security.OAuth2SuccessHandler - 절대 URL 사용: http://localhost:8090/img/9e6933d5-20eb-41e2-a9b7-33ff308eceec.png
2025-09-15 10:58:10 [http-nio-8090-exec-3] INFO  c.p.security.OAuth2SuccessHandler - JWT 토큰 발급 시작
2025-09-15 10:58:10 [http-nio-8090-exec-3] INFO  c.p.security.OAuth2SuccessHandler - JWT 토큰 발급 완료
2025-09-15 10:58:10 [http-nio-8090-exec-3] INFO  c.p.security.OAuth2SuccessHandler - 리다이렉트 URL: http://localhost:3000/oauth2/redirect?accessToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlcyI6WyJVU0VSIl0sIm5hbWUiOiLquYDrr7zspJEiLCJuaWNrbmFtZSI6ImtpbWlqKioqKiIsInR5cCI6ImFjY2VzcyIsInByb3YiOiJOQVZFUiIsImVtYWlsIjoia2ltaWp1Zzk3QG5hdmVyLmNvbSIsInBpY3R1cmUiOiJodHRwOi8vbG9jYWxob3N0OjgwOTAvaW1nLzllNjkzM2Q1LTIwZWItNDFlMi1hOWI3LTMzZmYzMDhlY2VlYy5wbmciLCJzdWIiOiIyMSIsImlzcyI6InBldG1hdGUiLCJpYXQiOjE3NTc5MDE0OTAsImV4cCI6MTc1NzkwMTU1MH0.p_VtQlq-wqO5KTE4RJ67IESY1_bR_zGgknY4Gbok26o&next=%2Fhome
2025-09-15 10:58:10 [http-nio-8090-exec-3] INFO  c.p.security.OAuth2SuccessHandler - === OAuth2 인증 성공 처리 완료 ===
2025-09-15 10:58:11 [http-nio-8090-exec-4] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /auth/me - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=419)
2025-09-15 10:58:11 [http-nio-8090-exec-4] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=21, type=access, exp=Mon Sep 15 10:59:10 KST 2025, expired=false
2025-09-15 10:58:11 [http-nio-8090-exec-5] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /img/9e6933d5-20eb-41e2-a9b7-33ff308eceec.png - Authorization: <absent>
2025-09-15 10:58:11 [http-nio-8090-exec-5] INFO  c.p.d.i.c.ImageProxyController - 이미지 요청: uuid=9e6933d5-20eb-41e2-a9b7-33ff308eceec.png
2025-09-15 10:58:11 [http-nio-8090-exec-5] INFO  c.p.d.i.service.ProfileImageService - UUID로 경로 조회 시작: 9e6933d5-20eb-41e2-a9b7-33ff308eceec.png
2025-09-15 10:58:11 [http-nio-8090-exec-5] DEBUG org.hibernate.SQL - 
    select
        pim1_0.uuid,
        pim1_0.created_at,
        pim1_0.email,
        pim1_0.expires_at,
        pim1_0.real_path 
    from
        profile_image_map pim1_0 
    where
        pim1_0.uuid=?
2025-09-15 10:58:11 [http-nio-8090-exec-5] INFO  c.p.d.i.service.ProfileImageService - 매핑 찾음: uuid=9e6933d5-20eb-41e2-a9b7-33ff308eceec.png -> path=C:\petmate\21\profile\9e6933d5-20eb-41e2-a9b7-33ff308eceec.png
2025-09-15 10:58:11 [http-nio-8090-exec-5] INFO  c.p.d.i.c.ImageProxyController - 매핑된 경로: C:\petmate\21\profile\9e6933d5-20eb-41e2-a9b7-33ff308eceec.png
2025-09-15 10:58:11 [http-nio-8090-exec-5] INFO  c.p.d.i.c.ImageProxyController - 파일 존재 여부: true, 경로: C:\petmate\21\profile\9e6933d5-20eb-41e2-a9b7-33ff308eceec.png
2025-09-15 10:58:11 [http-nio-8090-exec-5] INFO  c.p.d.i.c.ImageProxyController - MIME 타입: image/png
2025-09-15 10:58:27 [http-nio-8090-exec-6] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /auth/me - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=419)
2025-09-15 10:58:27 [http-nio-8090-exec-6] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=21, type=access, exp=Mon Sep 15 10:59:10 KST 2025, expired=false
2025-09-15 10:58:27 [http-nio-8090-exec-7] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /img/9e6933d5-20eb-41e2-a9b7-33ff308eceec.png - Authorization: <absent>
2025-09-15 10:58:27 [http-nio-8090-exec-8] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /login - Authorization: <absent>
2025-09-15 10:59:53 [http-nio-8090-exec-2] INFO  c.p.security.JwtAuthenticationFilter - [JWT] POST /user/petmate/apply - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=419)
2025-09-15 10:59:53 [http-nio-8090-exec-2] WARN  c.p.security.JwtAuthenticationFilter - [JWT] verification failed: JWT expired 43263 milliseconds ago at 2025-09-15T01:59:10.000Z. Current time: 2025-09-15T01:59:53.263Z. Allowed clock skew: 0 milliseconds.
io.jsonwebtoken.ExpiredJwtException: JWT expired 43263 milliseconds ago at 2025-09-15T01:59:10.000Z. Current time: 2025-09-15T01:59:53.263Z. Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:691)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:364)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:94)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:36)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:29)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseSignedClaims(DefaultJwtParser.java:830)
	at com.petmate.security.jwt.JwtUtil.parse(JwtUtil.java:57)
	at com.petmate.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:57)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:235)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:229)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-15 10:59:53 [http-nio-8090-exec-2] INFO  c.p.domain.user.service.UserService - === 펫메이트 신청 처리 시작 ===
2025-09-15 10:59:53 [http-nio-8090-exec-2] INFO  c.p.domain.user.service.UserService - email: kimijug97@naver.com, 새 프로필 파일 있음: true
2025-09-15 10:59:53 [http-nio-8090-exec-2] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.birth_date,
        ue1_0.care_species,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.email_verified,
        ue1_0.gender,
        ue1_0.main_service,
        ue1_0.name,
        ue1_0.nick_name,
        ue1_0.phone,
        ue1_0.profile_image,
        ue1_0.provider,
        ue1_0.role,
        ue1_0.status,
        ue1_0.updated_at 
    from
        user ue1_0 
    where
        ue1_0.email=?
2025-09-15 10:59:53 [http-nio-8090-exec-2] INFO  c.p.domain.user.service.UserService - 기존 사용자 조회 완료 - userId: 21, 현재 profileImage: 9e6933d5-20eb-41e2-a9b7-33ff308eceec.png
2025-09-15 10:59:53 [http-nio-8090-exec-2] INFO  c.p.domain.user.service.UserService - 새로운 프로필 이미지 파일이 업로드됨 - 기존 이미지 교체
2025-09-15 10:59:53 [http-nio-8090-exec-2] INFO  c.p.d.user.service.UserFileService - 프로필 이미지 업로드 시작 - userId: 21, 기존 이미지: 9e6933d5-20eb-41e2-a9b7-33ff308eceec.png
2025-09-15 10:59:53 [http-nio-8090-exec-2] INFO  c.p.d.user.service.UserFileService - 프로필 이미지 저장 시작: C:\petmate\21\profile\56c718db-5393-4702-b035-607b04d2c27d.png
2025-09-15 10:59:53 [http-nio-8090-exec-2] INFO  c.p.d.user.service.UserFileService - 프로필 이미지 저장 완료: C:\petmate\21\profile\56c718db-5393-4702-b035-607b04d2c27d.png
2025-09-15 10:59:53 [http-nio-8090-exec-2] DEBUG org.hibernate.SQL - 
    select
        pim1_0.uuid,
        pim1_0.created_at,
        pim1_0.email,
        pim1_0.expires_at,
        pim1_0.real_path 
    from
        profile_image_map pim1_0 
    where
        pim1_0.email=?
2025-09-15 10:59:53 [http-nio-8090-exec-2] INFO  c.p.domain.user.service.UserService - 새 프로필 이미지 저장 완료 - 새 UUID: 56c718db-5393-4702-b035-607b04d2c27d.png
2025-09-15 10:59:53 [http-nio-8090-exec-2] INFO  c.p.domain.user.service.UserService - 펫메이트 신청 처리 완료 - 최종 profileImage: 56c718db-5393-4702-b035-607b04d2c27d.png
2025-09-15 10:59:53 [http-nio-8090-exec-2] INFO  c.p.domain.user.service.UserService - === 펫메이트 신청 처리 완료 ===
2025-09-15 10:59:53 [http-nio-8090-exec-2] DEBUG org.hibernate.SQL - 
    update
        user 
    set
        birth_date=?,
        care_species=?,
        email=?,
        email_verified=?,
        gender=?,
        main_service=?,
        name=?,
        nick_name=?,
        phone=?,
        profile_image=?,
        provider=?,
        role=?,
        status=?,
        updated_at=? 
    where
        id=?
2025-09-15 10:59:57 [http-nio-8090-exec-3] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /img/9e6933d5-20eb-41e2-a9b7-33ff308eceec.png - Authorization: <absent>
2025-09-15 10:59:57 [http-nio-8090-exec-3] INFO  c.p.d.i.c.ImageProxyController - 이미지 요청: uuid=9e6933d5-20eb-41e2-a9b7-33ff308eceec.png
2025-09-15 10:59:57 [http-nio-8090-exec-3] INFO  c.p.d.i.service.ProfileImageService - UUID로 경로 조회 시작: 9e6933d5-20eb-41e2-a9b7-33ff308eceec.png
2025-09-15 10:59:57 [http-nio-8090-exec-3] DEBUG org.hibernate.SQL - 
    select
        pim1_0.uuid,
        pim1_0.created_at,
        pim1_0.email,
        pim1_0.expires_at,
        pim1_0.real_path 
    from
        profile_image_map pim1_0 
    where
        pim1_0.uuid=?
2025-09-15 10:59:57 [http-nio-8090-exec-3] INFO  c.p.d.i.service.ProfileImageService - 매핑 찾음: uuid=9e6933d5-20eb-41e2-a9b7-33ff308eceec.png -> path=C:\petmate\21\profile\9e6933d5-20eb-41e2-a9b7-33ff308eceec.png
2025-09-15 10:59:57 [http-nio-8090-exec-3] INFO  c.p.d.i.c.ImageProxyController - 매핑된 경로: C:\petmate\21\profile\9e6933d5-20eb-41e2-a9b7-33ff308eceec.png
2025-09-15 10:59:57 [http-nio-8090-exec-3] INFO  c.p.d.i.c.ImageProxyController - 파일 존재 여부: true, 경로: C:\petmate\21\profile\9e6933d5-20eb-41e2-a9b7-33ff308eceec.png
2025-09-15 10:59:57 [http-nio-8090-exec-3] INFO  c.p.d.i.c.ImageProxyController - MIME 타입: image/png
2025-09-15 11:00:39 [http-nio-8090-exec-4] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /auth/me - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=419)
2025-09-15 11:00:39 [http-nio-8090-exec-4] WARN  c.p.security.JwtAuthenticationFilter - [JWT] verification failed: JWT expired 89051 milliseconds ago at 2025-09-15T01:59:10.000Z. Current time: 2025-09-15T02:00:39.051Z. Allowed clock skew: 0 milliseconds.
io.jsonwebtoken.ExpiredJwtException: JWT expired 89051 milliseconds ago at 2025-09-15T01:59:10.000Z. Current time: 2025-09-15T02:00:39.051Z. Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:691)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:364)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:94)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:36)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:29)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseSignedClaims(DefaultJwtParser.java:830)
	at com.petmate.security.jwt.JwtUtil.parse(JwtUtil.java:57)
	at com.petmate.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:57)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:235)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:229)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-15 11:00:39 [http-nio-8090-exec-5] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /auth/me - Authorization: <absent>
2025-09-15 11:00:40 [http-nio-8090-exec-6] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /auth/me - Authorization: <absent>
2025-09-15 11:00:41 [http-nio-8090-exec-8] INFO  c.p.security.OAuth2SuccessHandler - === OAuth2 인증 성공 처리 시작 ===
2025-09-15 11:00:41 [http-nio-8090-exec-8] INFO  c.p.security.OAuth2SuccessHandler - OAuth2 사용자 정보: {provider=naver, response={id=2ZBmnoyH7EYixJoarTxtoLrneVrmyXX14s12xmO6yLc, nickname=kimij****, email=kimijug97@naver.com, name=김민중}, providerId=2ZBmnoyH7EYixJoarTxtoLrneVrmyXX14s12xmO6yLc, name=김민중, nickname=kimij****, resultcode=00, message=success, userId=naver_2ZBmnoyH7EYixJoarTxtoLrneVrmyXX14s12xmO6yLc, email=kimijug97@naver.com, picture=null}
2025-09-15 11:00:41 [http-nio-8090-exec-8] INFO  c.p.security.OAuth2SuccessHandler - 파싱된 사용자 정보 - provider: NAVER, email: kimijug97@naver.com, name: 김민중, nickname: kimij****, picture: null
2025-09-15 11:00:41 [http-nio-8090-exec-8] INFO  c.p.security.OAuth2SuccessHandler - 사용자 등록/업데이트 시작
2025-09-15 11:00:41 [http-nio-8090-exec-8] INFO  c.p.domain.user.service.UserService - === applyBasicUser 시작 ===
2025-09-15 11:00:41 [http-nio-8090-exec-8] INFO  c.p.domain.user.service.UserService - email: kimijug97@naver.com, provider: NAVER, name: 김민중, nickname: kimij****, profileImageUrl: null
2025-09-15 11:00:41 [http-nio-8090-exec-8] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.birth_date,
        ue1_0.care_species,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.email_verified,
        ue1_0.gender,
        ue1_0.main_service,
        ue1_0.name,
        ue1_0.nick_name,
        ue1_0.phone,
        ue1_0.profile_image,
        ue1_0.provider,
        ue1_0.role,
        ue1_0.status,
        ue1_0.updated_at 
    from
        user ue1_0 
    where
        ue1_0.email=?
2025-09-15 11:00:41 [http-nio-8090-exec-8] INFO  c.p.domain.user.service.UserService - 사용자 조회/생성 완료 - userId: 21
2025-09-15 11:00:41 [http-nio-8090-exec-8] INFO  c.p.domain.user.service.UserService - 사용자 정보 업데이트 완료
2025-09-15 11:00:41 [http-nio-8090-exec-8] INFO  c.p.domain.user.service.UserService - 프로필 이미지 처리 시작 - profileImageUrl: null
2025-09-15 11:00:41 [http-nio-8090-exec-8] INFO  c.p.domain.user.service.UserService - 이미지 URL이 없어서 기본 이미지 저장
2025-09-15 11:00:41 [http-nio-8090-exec-8] INFO  c.p.d.user.service.UserFileService - 기존 프로필 이미지 존재: userId=21, profile=56c718db-5393-4702-b035-607b04d2c27d.png
2025-09-15 11:00:41 [http-nio-8090-exec-8] INFO  c.p.domain.user.service.UserService - 기본 이미지 저장 완료 - UUID: 56c718db-5393-4702-b035-607b04d2c27d.png
2025-09-15 11:00:41 [http-nio-8090-exec-8] INFO  c.p.domain.user.service.UserService - 사용자 저장 완료 - 최종 profileImage: 56c718db-5393-4702-b035-607b04d2c27d.png
2025-09-15 11:00:41 [http-nio-8090-exec-8] INFO  c.p.domain.user.service.UserService - === applyBasicUser 완료 ===
2025-09-15 11:00:41 [http-nio-8090-exec-8] INFO  c.p.security.OAuth2SuccessHandler - 사용자 등록/업데이트 완료 - userId: 21
2025-09-15 11:00:41 [http-nio-8090-exec-8] INFO  c.p.security.OAuth2SuccessHandler - 프로필 이미지 URL 조회 시작
2025-09-15 11:00:41 [http-nio-8090-exec-8] INFO  c.p.domain.user.service.UserService - 프로필 이미지 조회: kimijug97@naver.com
2025-09-15 11:00:41 [http-nio-8090-exec-8] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.birth_date,
        ue1_0.care_species,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.email_verified,
        ue1_0.gender,
        ue1_0.main_service,
        ue1_0.name,
        ue1_0.nick_name,
        ue1_0.phone,
        ue1_0.profile_image,
        ue1_0.provider,
        ue1_0.role,
        ue1_0.status,
        ue1_0.updated_at 
    from
        user ue1_0 
    where
        ue1_0.email=?
2025-09-15 11:00:41 [http-nio-8090-exec-8] INFO  c.p.domain.user.service.UserService - DB에서 조회된 UUID: 56c718db-5393-4702-b035-607b04d2c27d.png
2025-09-15 11:00:41 [http-nio-8090-exec-8] INFO  c.p.domain.user.service.UserService - 최종 URL: http://localhost:8090/img/56c718db-5393-4702-b035-607b04d2c27d.png
2025-09-15 11:00:41 [http-nio-8090-exec-8] INFO  c.p.security.OAuth2SuccessHandler - 조회된 프로필 UUID: http://localhost:8090/img/56c718db-5393-4702-b035-607b04d2c27d.png
2025-09-15 11:00:41 [http-nio-8090-exec-8] INFO  c.p.security.OAuth2SuccessHandler - 절대 URL 사용: http://localhost:8090/img/56c718db-5393-4702-b035-607b04d2c27d.png
2025-09-15 11:00:41 [http-nio-8090-exec-8] INFO  c.p.security.OAuth2SuccessHandler - JWT 토큰 발급 시작
2025-09-15 11:00:41 [http-nio-8090-exec-8] INFO  c.p.security.OAuth2SuccessHandler - JWT 토큰 발급 완료
2025-09-15 11:00:41 [http-nio-8090-exec-8] INFO  c.p.security.OAuth2SuccessHandler - 리다이렉트 URL: http://localhost:3000/oauth2/redirect?accessToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlcyI6WyJVU0VSIl0sIm5hbWUiOiLquYDrr7zspJEiLCJuaWNrbmFtZSI6ImtpbWlqKioqKiIsInR5cCI6ImFjY2VzcyIsInByb3YiOiJOQVZFUiIsImVtYWlsIjoia2ltaWp1Zzk3QG5hdmVyLmNvbSIsInBpY3R1cmUiOiJodHRwOi8vbG9jYWxob3N0OjgwOTAvaW1nLzU2YzcxOGRiLTUzOTMtNDcwMi1iMDM1LTYwN2IwNGQyYzI3ZC5wbmciLCJzdWIiOiIyMSIsImlzcyI6InBldG1hdGUiLCJpYXQiOjE3NTc5MDE2NDEsImV4cCI6MTc1NzkwMTcwMX0.NHvMHGLM0rDXIlIFhWaMzwqo_OxdX_oPVA-O9fT8NV0&next=%2Fhome
2025-09-15 11:00:41 [http-nio-8090-exec-8] INFO  c.p.security.OAuth2SuccessHandler - === OAuth2 인증 성공 처리 완료 ===
2025-09-15 11:00:41 [http-nio-8090-exec-9] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /auth/me - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=419)
2025-09-15 11:00:41 [http-nio-8090-exec-9] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=21, type=access, exp=Mon Sep 15 11:01:41 KST 2025, expired=false
2025-09-15 11:00:42 [http-nio-8090-exec-10] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /img/56c718db-5393-4702-b035-607b04d2c27d.png - Authorization: <absent>
2025-09-15 11:00:42 [http-nio-8090-exec-10] INFO  c.p.d.i.c.ImageProxyController - 이미지 요청: uuid=56c718db-5393-4702-b035-607b04d2c27d.png
2025-09-15 11:00:42 [http-nio-8090-exec-10] INFO  c.p.d.i.service.ProfileImageService - UUID로 경로 조회 시작: 56c718db-5393-4702-b035-607b04d2c27d.png
2025-09-15 11:00:42 [http-nio-8090-exec-10] DEBUG org.hibernate.SQL - 
    select
        pim1_0.uuid,
        pim1_0.created_at,
        pim1_0.email,
        pim1_0.expires_at,
        pim1_0.real_path 
    from
        profile_image_map pim1_0 
    where
        pim1_0.uuid=?
2025-09-15 11:00:42 [http-nio-8090-exec-10] WARN  c.p.d.i.service.ProfileImageService - UUID에 해당하는 매핑을 찾을 수 없음: 56c718db-5393-4702-b035-607b04d2c27d.png
2025-09-15 11:00:42 [http-nio-8090-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        profile_image_map pim1_0
2025-09-15 11:00:42 [http-nio-8090-exec-10] INFO  c.p.d.i.service.ProfileImageService - 전체 ProfileImageMap 레코드 수: 1
2025-09-15 11:00:42 [http-nio-8090-exec-10] INFO  c.p.d.i.c.ImageProxyController - 매핑된 경로: null
2025-09-15 11:00:42 [http-nio-8090-exec-10] WARN  c.p.d.i.c.ImageProxyController - 이미지 경로를 찾을 수 없음: 56c718db-5393-4702-b035-607b04d2c27d.png
2025-09-15 11:04:47 [restartedMain] INFO  com.petmate.PetmateApplication - Starting PetmateApplication using Java 21.0.7 with PID 19360 (C:\lfm01\spring_boot\pjt-sts4\petmate-backend-mainb\petmate-backend\build\classes\java\main started by HI-02 in C:\lfm01\spring_boot\pjt-sts4\petmate-backend-mainb\petmate-backend)
2025-09-15 11:04:47 [restartedMain] DEBUG com.petmate.PetmateApplication - Running with Spring Boot v3.5.5, Spring v6.2.10
2025-09-15 11:04:47 [restartedMain] INFO  com.petmate.PetmateApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-15 11:04:47 [restartedMain] INFO  o.s.b.d.restart.ChangeableUrls - The Class-Path manifest attribute in C:\Users\HI-02\.gradle\caches\modules-2\files-2.1\io.github.cdimascio\java-dotenv\5.2.2\f77d54ff193ed4b07415ab8d7b3d0550716aa8c\java-dotenv-5.2.2.jar referenced one or more files that do not exist: file:/C:/Users/HI-02/.gradle/caches/modules-2/files-2.1/io.github.cdimascio/java-dotenv/5.2.2/f77d54ff193ed4b07415ab8d7b3d0550716aa8c/kotlin-stdlib-1.4.0.jar,file:/C:/Users/HI-02/.gradle/caches/modules-2/files-2.1/io.github.cdimascio/java-dotenv/5.2.2/f77d54ff193ed4b07415ab8d7b3d0550716aa8c/kotlin-stdlib-common-1.4.0.jar,file:/C:/Users/HI-02/.gradle/caches/modules-2/files-2.1/io.github.cdimascio/java-dotenv/5.2.2/f77d54ff193ed4b07415ab8d7b3d0550716aa8c/annotations-13.0.jar
2025-09-15 11:04:47 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-09-15 11:04:47 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-09-15 11:04:48 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-15 11:04:48 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 133 ms. Found 8 JPA repository interfaces.
2025-09-15 11:04:50 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8090 (http)
2025-09-15 11:04:50 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-15 11:04:50 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.44]
2025-09-15 11:04:50 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-15 11:04:50 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2785 ms
2025-09-15 11:04:50 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-15 11:04:50 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.26.Final
2025-09-15 11:04:50 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-15 11:04:51 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-15 11:04:51 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-15 11:04:51 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@47accc1a
2025-09-15 11:04:51 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-15 11:04:51 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-15 11:04:53 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-15 11:04:53 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-15 11:04:53 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-15 11:04:55 [restartedMain] INFO  com.petmate.config.WebConfig - CORS applied. origins=http://localhost:3000, http://localhost:3001
2025-09-15 11:04:55 [restartedMain] INFO  com.petmate.config.WebConfig - Static mapping applied. /files/** -> file:C:/petmate/
2025-09-15 11:04:55 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-09-15 11:04:56 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-15 11:04:56 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8090 (http) with context path '/'
2025-09-15 11:04:56 [restartedMain] INFO  com.petmate.PetmateApplication - Started PetmateApplication in 9.687 seconds (process running for 10.493)
2025-09-15 11:04:56 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        common_codes gce1_0
2025-09-15 11:04:56 [restartedMain] INFO  com.petmate.config.DataInitializer - Common codes already initialized
2025-09-15 11:05:39 [http-nio-8090-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-15 11:05:39 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-15 11:05:39 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-09-15 11:05:39 [http-nio-8090-exec-1] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /auth/me - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=419)
2025-09-15 11:05:39 [http-nio-8090-exec-1] WARN  c.p.security.JwtAuthenticationFilter - [JWT] verification failed: JWT expired 238863 milliseconds ago at 2025-09-15T02:01:41.000Z. Current time: 2025-09-15T02:05:39.863Z. Allowed clock skew: 0 milliseconds.
io.jsonwebtoken.ExpiredJwtException: JWT expired 238863 milliseconds ago at 2025-09-15T02:01:41.000Z. Current time: 2025-09-15T02:05:39.863Z. Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:691)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:364)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:94)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:36)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:29)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseSignedClaims(DefaultJwtParser.java:830)
	at com.petmate.security.jwt.JwtUtil.parse(JwtUtil.java:57)
	at com.petmate.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:57)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:235)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:229)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-15 11:05:40 [http-nio-8090-exec-2] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /auth/me - Authorization: <absent>
2025-09-15 11:05:41 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - === OAuth2 인증 성공 처리 시작 ===
2025-09-15 11:05:41 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - OAuth2 사용자 정보: {provider=naver, response={id=2ZBmnoyH7EYixJoarTxtoLrneVrmyXX14s12xmO6yLc, nickname=kimij****, email=kimijug97@naver.com, name=김민중}, providerId=2ZBmnoyH7EYixJoarTxtoLrneVrmyXX14s12xmO6yLc, name=김민중, nickname=kimij****, resultcode=00, message=success, userId=naver_2ZBmnoyH7EYixJoarTxtoLrneVrmyXX14s12xmO6yLc, email=kimijug97@naver.com, picture=null}
2025-09-15 11:05:41 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - 파싱된 사용자 정보 - provider: NAVER, email: kimijug97@naver.com, name: 김민중, nickname: kimij****, picture: null
2025-09-15 11:05:41 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - 사용자 등록/업데이트 시작
2025-09-15 11:05:41 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - === applyBasicUser 시작 ===
2025-09-15 11:05:41 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - email: kimijug97@naver.com, provider: NAVER, name: 김민중, nickname: kimij****, profileImageUrl: null
2025-09-15 11:05:41 [http-nio-8090-exec-4] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.birth_date,
        ue1_0.care_species,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.email_verified,
        ue1_0.gender,
        ue1_0.main_service,
        ue1_0.name,
        ue1_0.nick_name,
        ue1_0.phone,
        ue1_0.profile_image,
        ue1_0.provider,
        ue1_0.role,
        ue1_0.status,
        ue1_0.updated_at 
    from
        user ue1_0 
    where
        ue1_0.email=?
2025-09-15 11:05:41 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - 새 사용자 생성: kimijug97@naver.com
2025-09-15 11:05:42 [http-nio-8090-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        user
        (birth_date, care_species, created_at, email, email_verified, gender, main_service, name, nick_name, phone, profile_image, provider, role, status, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-09-15 11:05:42 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - 사용자 조회/생성 완료 - userId: 22
2025-09-15 11:05:42 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - 사용자 정보 업데이트 완료
2025-09-15 11:05:42 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - 프로필 이미지 처리 시작 - profileImageUrl: null
2025-09-15 11:05:42 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - 이미지 URL이 없어서 기본 이미지 저장
2025-09-15 11:05:42 [http-nio-8090-exec-4] INFO  c.p.d.user.service.UserFileService - 기본 프로필 이미지 저장 시작: userId=22, 현재값=null
2025-09-15 11:05:42 [http-nio-8090-exec-4] INFO  c.p.d.user.service.UserFileService - 기본 이미지 리소스 읽기 완료: 46374 bytes
2025-09-15 11:05:42 [http-nio-8090-exec-4] INFO  c.p.d.user.service.UserFileService - 기본 프로필 저장 경로: C:\petmate\22\profile\24d81086-8fd0-408d-a099-19fcd6175ecd.png
2025-09-15 11:05:42 [http-nio-8090-exec-4] INFO  c.p.d.user.service.UserFileService - 기본 프로필 이미지 저장 완료: C:\petmate\22\profile\24d81086-8fd0-408d-a099-19fcd6175ecd.png
2025-09-15 11:05:42 [http-nio-8090-exec-4] DEBUG org.hibernate.SQL - 
    select
        pim1_0.uuid,
        pim1_0.created_at,
        pim1_0.email,
        pim1_0.expires_at,
        pim1_0.real_path 
    from
        profile_image_map pim1_0 
    where
        pim1_0.email=?
2025-09-15 11:05:42 [http-nio-8090-exec-4] INFO  c.p.d.user.service.UserFileService - 새 ImageMap 생성: email=kimijug97@naver.com, UUID=24d81086-8fd0-408d-a099-19fcd6175ecd.png
2025-09-15 11:05:42 [http-nio-8090-exec-4] DEBUG org.hibernate.SQL - 
    select
        pim1_0.uuid,
        pim1_0.created_at,
        pim1_0.email,
        pim1_0.expires_at,
        pim1_0.real_path 
    from
        profile_image_map pim1_0 
    where
        pim1_0.uuid=?
2025-09-15 11:05:42 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - 기본 이미지 저장 완료 - UUID: 24d81086-8fd0-408d-a099-19fcd6175ecd.png
2025-09-15 11:05:42 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - 사용자 저장 완료 - 최종 profileImage: 24d81086-8fd0-408d-a099-19fcd6175ecd.png
2025-09-15 11:05:42 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - === applyBasicUser 완료 ===
2025-09-15 11:05:42 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - 사용자 등록/업데이트 완료 - userId: 22
2025-09-15 11:05:42 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - 프로필 이미지 URL 조회 시작
2025-09-15 11:05:42 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - 프로필 이미지 조회: kimijug97@naver.com
2025-09-15 11:05:42 [http-nio-8090-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        profile_image_map
        (email, expires_at, real_path, uuid) 
    values
        (?, ?, ?, ?)
2025-09-15 11:05:42 [http-nio-8090-exec-4] DEBUG org.hibernate.SQL - 
    update
        user 
    set
        birth_date=?,
        care_species=?,
        email=?,
        email_verified=?,
        gender=?,
        main_service=?,
        name=?,
        nick_name=?,
        phone=?,
        profile_image=?,
        provider=?,
        role=?,
        status=?,
        updated_at=? 
    where
        id=?
2025-09-15 11:05:42 [http-nio-8090-exec-4] DEBUG org.hibernate.SQL - 
    select
        pim1_0.uuid,
        pim1_0.created_at,
        pim1_0.email,
        pim1_0.expires_at,
        pim1_0.real_path 
    from
        profile_image_map pim1_0 
    where
        pim1_0.email=?
2025-09-15 11:05:42 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - profile_image_map에서 UUID 조회: 24d81086-8fd0-408d-a099-19fcd6175ecd.png
2025-09-15 11:05:42 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - 최종 URL: http://localhost:8090/img/24d81086-8fd0-408d-a099-19fcd6175ecd.png
2025-09-15 11:05:42 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - 조회된 프로필 UUID: http://localhost:8090/img/24d81086-8fd0-408d-a099-19fcd6175ecd.png
2025-09-15 11:05:42 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - 절대 URL 사용: http://localhost:8090/img/24d81086-8fd0-408d-a099-19fcd6175ecd.png
2025-09-15 11:05:42 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - JWT 토큰 발급 시작
2025-09-15 11:05:42 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - JWT 토큰 발급 완료
2025-09-15 11:05:42 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - 리다이렉트 URL: http://localhost:3000/oauth2/redirect?accessToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlcyI6WyJVU0VSIl0sIm5hbWUiOiLquYDrr7zspJEiLCJuaWNrbmFtZSI6ImtpbWlqKioqKiIsInR5cCI6ImFjY2VzcyIsInByb3YiOiJOQVZFUiIsImVtYWlsIjoia2ltaWp1Zzk3QG5hdmVyLmNvbSIsInBpY3R1cmUiOiJodHRwOi8vbG9jYWxob3N0OjgwOTAvaW1nLzI0ZDgxMDg2LThmZDAtNDA4ZC1hMDk5LTE5ZmNkNjE3NWVjZC5wbmciLCJzdWIiOiIyMiIsImlzcyI6InBldG1hdGUiLCJpYXQiOjE3NTc5MDE5NDIsImV4cCI6MTc1NzkwMjAwMn0.mfCwXsFrID1pD7mwp80q32tnjhmWHPY_CorlnhIr5XU&next=%2Fhome
2025-09-15 11:05:42 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - === OAuth2 인증 성공 처리 완료 ===
2025-09-15 11:05:42 [http-nio-8090-exec-5] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /auth/me - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=419)
2025-09-15 11:05:42 [http-nio-8090-exec-5] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=22, type=access, exp=Mon Sep 15 11:06:42 KST 2025, expired=false
2025-09-15 11:05:42 [http-nio-8090-exec-6] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /img/24d81086-8fd0-408d-a099-19fcd6175ecd.png - Authorization: <absent>
2025-09-15 11:05:42 [http-nio-8090-exec-6] INFO  c.p.d.i.c.ImageProxyController - 이미지 요청: uuid=24d81086-8fd0-408d-a099-19fcd6175ecd.png
2025-09-15 11:05:42 [http-nio-8090-exec-6] INFO  c.p.d.i.service.ProfileImageService - UUID로 경로 조회 시작: 24d81086-8fd0-408d-a099-19fcd6175ecd.png
2025-09-15 11:05:42 [http-nio-8090-exec-6] DEBUG org.hibernate.SQL - 
    select
        pim1_0.uuid,
        pim1_0.created_at,
        pim1_0.email,
        pim1_0.expires_at,
        pim1_0.real_path 
    from
        profile_image_map pim1_0 
    where
        pim1_0.uuid=?
2025-09-15 11:05:42 [http-nio-8090-exec-6] INFO  c.p.d.i.service.ProfileImageService - 매핑 찾음: uuid=24d81086-8fd0-408d-a099-19fcd6175ecd.png -> path=C:\petmate\22\profile\24d81086-8fd0-408d-a099-19fcd6175ecd.png
2025-09-15 11:05:42 [http-nio-8090-exec-6] INFO  c.p.d.i.c.ImageProxyController - 매핑된 경로: C:\petmate\22\profile\24d81086-8fd0-408d-a099-19fcd6175ecd.png
2025-09-15 11:05:42 [http-nio-8090-exec-6] INFO  c.p.d.i.c.ImageProxyController - 파일 존재 여부: true, 경로: C:\petmate\22\profile\24d81086-8fd0-408d-a099-19fcd6175ecd.png
2025-09-15 11:05:42 [http-nio-8090-exec-6] INFO  c.p.d.i.c.ImageProxyController - MIME 타입: image/png
2025-09-15 11:05:45 [http-nio-8090-exec-7] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /auth/me - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=419)
2025-09-15 11:05:45 [http-nio-8090-exec-7] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=22, type=access, exp=Mon Sep 15 11:06:42 KST 2025, expired=false
2025-09-15 11:05:45 [http-nio-8090-exec-8] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /img/24d81086-8fd0-408d-a099-19fcd6175ecd.png - Authorization: <absent>
2025-09-15 11:05:45 [http-nio-8090-exec-9] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /login - Authorization: <absent>
2025-09-15 11:05:55 [http-nio-8090-exec-10] INFO  c.p.security.JwtAuthenticationFilter - [JWT] POST /user/petmate/apply - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=419)
2025-09-15 11:05:55 [http-nio-8090-exec-10] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=22, type=access, exp=Mon Sep 15 11:06:42 KST 2025, expired=false
2025-09-15 11:05:55 [http-nio-8090-exec-10] INFO  c.p.domain.user.service.UserService - === 펫메이트 신청 처리 시작 ===
2025-09-15 11:05:56 [http-nio-8090-exec-10] INFO  c.p.domain.user.service.UserService - email: kimijug97@naver.com, 새 프로필 파일 있음: true
2025-09-15 11:05:56 [http-nio-8090-exec-10] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.birth_date,
        ue1_0.care_species,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.email_verified,
        ue1_0.gender,
        ue1_0.main_service,
        ue1_0.name,
        ue1_0.nick_name,
        ue1_0.phone,
        ue1_0.profile_image,
        ue1_0.provider,
        ue1_0.role,
        ue1_0.status,
        ue1_0.updated_at 
    from
        user ue1_0 
    where
        ue1_0.email=?
2025-09-15 11:05:56 [http-nio-8090-exec-10] INFO  c.p.domain.user.service.UserService - 기존 사용자 조회 완료 - userId: 22, 현재 profileImage: 24d81086-8fd0-408d-a099-19fcd6175ecd.png
2025-09-15 11:05:56 [http-nio-8090-exec-10] INFO  c.p.domain.user.service.UserService - 새로운 프로필 이미지 파일이 업로드됨 - 기존 이미지 교체
2025-09-15 11:05:56 [http-nio-8090-exec-10] INFO  c.p.d.user.service.UserFileService - 프로필 이미지 업로드 시작 - userId: 22, 기존 이미지: 24d81086-8fd0-408d-a099-19fcd6175ecd.png
2025-09-15 11:05:56 [http-nio-8090-exec-10] INFO  c.p.d.user.service.UserFileService - 프로필 이미지 저장 시작: C:\petmate\22\profile\eae98119-25ad-4749-b4f1-3ae5b741ab2a.png
2025-09-15 11:05:56 [http-nio-8090-exec-10] INFO  c.p.d.user.service.UserFileService - 프로필 이미지 저장 완료: C:\petmate\22\profile\eae98119-25ad-4749-b4f1-3ae5b741ab2a.png
2025-09-15 11:05:56 [http-nio-8090-exec-10] DEBUG org.hibernate.SQL - 
    select
        pim1_0.uuid,
        pim1_0.created_at,
        pim1_0.email,
        pim1_0.expires_at,
        pim1_0.real_path 
    from
        profile_image_map pim1_0 
    where
        pim1_0.email=?
2025-09-15 11:05:56 [http-nio-8090-exec-10] INFO  c.p.d.user.service.UserFileService - 기존 ImageMap 업데이트: email=kimijug97@naver.com, 기존UUID=24d81086-8fd0-408d-a099-19fcd6175ecd.png -> 새UUID=eae98119-25ad-4749-b4f1-3ae5b741ab2a.png
2025-09-15 11:05:56 [http-nio-8090-exec-10] INFO  c.p.domain.user.service.UserService - 새 프로필 이미지 저장 완료 - 새 UUID: eae98119-25ad-4749-b4f1-3ae5b741ab2a.png
2025-09-15 11:05:56 [http-nio-8090-exec-10] INFO  c.p.domain.user.service.UserService - 펫메이트 신청 처리 완료 - 최종 profileImage: eae98119-25ad-4749-b4f1-3ae5b741ab2a.png
2025-09-15 11:05:56 [http-nio-8090-exec-10] INFO  c.p.domain.user.service.UserService - === 펫메이트 신청 처리 완료 ===
2025-09-15 11:05:56 [http-nio-8090-exec-10] WARN  c.p.security.JwtAuthenticationFilter - [JWT] verification failed: Request processing failed: org.springframework.orm.jpa.JpaSystemException: Identifier of an instance of 'com.petmate.domain.img.entity.ProfileImageMap' was altered from 24d81086-8fd0-408d-a099-19fcd6175ecd.png to eae98119-25ad-4749-b4f1-3ae5b741ab2a.png
jakarta.servlet.ServletException: Request processing failed: org.springframework.orm.jpa.JpaSystemException: Identifier of an instance of 'com.petmate.domain.img.entity.ProfileImageMap' was altered from 24d81086-8fd0-408d-a099-19fcd6175ecd.png to eae98119-25ad-4749-b4f1-3ae5b741ab2a.png
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1022)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:59)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:216)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:202)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.ui.DefaultResourcesFilter.doFilter(DefaultResourcesFilter.java:72)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.petmate.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:71)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:235)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:229)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.springframework.orm.jpa.JpaSystemException: Identifier of an instance of 'com.petmate.domain.img.entity.ProfileImageMap' was altered from 24d81086-8fd0-408d-a099-19fcd6175ecd.png to eae98119-25ad-4749-b4f1-3ae5b741ab2a.png
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:348)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:566)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:795)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:758)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:698)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:416)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.petmate.domain.user.service.UserService$$SpringCGLIB$$0.apply(<generated>)
	at com.petmate.domain.user.controller.UserController.applyPetMate(UserController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	... 110 common frames omitted
Caused by: org.hibernate.HibernateException: Identifier of an instance of 'com.petmate.domain.img.entity.ProfileImageMap' was altered from 24d81086-8fd0-408d-a099-19fcd6175ecd.png to eae98119-25ad-4749-b4f1-3ae5b741ab2a.png
	at org.hibernate.event.internal.DefaultFlushEntityEventListener.checkId(DefaultFlushEntityEventListener.java:88)
	at org.hibernate.event.internal.DefaultFlushEntityEventListener.getValues(DefaultFlushEntityEventListener.java:175)
	at org.hibernate.event.internal.DefaultFlushEntityEventListener.onFlushEntity(DefaultFlushEntityEventListener.java:134)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.event.internal.AbstractFlushingEventListener.flushEntities(AbstractFlushingEventListener.java:269)
	at org.hibernate.event.internal.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:90)
	at org.hibernate.event.internal.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:84)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1429)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:491)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2354)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1978)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:169)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:267)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562)
	... 130 common frames omitted
2025-09-15 11:05:56 [http-nio-8090-exec-10] INFO  c.p.domain.user.service.UserService - === 펫메이트 신청 처리 시작 ===
2025-09-15 11:05:56 [http-nio-8090-exec-10] INFO  c.p.domain.user.service.UserService - email: kimijug97@naver.com, 새 프로필 파일 있음: true
2025-09-15 11:05:56 [http-nio-8090-exec-10] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.birth_date,
        ue1_0.care_species,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.email_verified,
        ue1_0.gender,
        ue1_0.main_service,
        ue1_0.name,
        ue1_0.nick_name,
        ue1_0.phone,
        ue1_0.profile_image,
        ue1_0.provider,
        ue1_0.role,
        ue1_0.status,
        ue1_0.updated_at 
    from
        user ue1_0 
    where
        ue1_0.email=?
2025-09-15 11:05:56 [http-nio-8090-exec-10] INFO  c.p.domain.user.service.UserService - 기존 사용자 조회 완료 - userId: 22, 현재 profileImage: 24d81086-8fd0-408d-a099-19fcd6175ecd.png
2025-09-15 11:05:56 [http-nio-8090-exec-10] INFO  c.p.domain.user.service.UserService - 새로운 프로필 이미지 파일이 업로드됨 - 기존 이미지 교체
2025-09-15 11:05:56 [http-nio-8090-exec-10] INFO  c.p.d.user.service.UserFileService - 프로필 이미지 업로드 시작 - userId: 22, 기존 이미지: 24d81086-8fd0-408d-a099-19fcd6175ecd.png
2025-09-15 11:05:56 [http-nio-8090-exec-10] INFO  c.p.d.user.service.UserFileService - 프로필 이미지 저장 시작: C:\petmate\22\profile\2419356f-9417-4da4-94dd-a124718f04b2.png
2025-09-15 11:05:56 [http-nio-8090-exec-10] ERROR c.p.d.user.service.UserFileService - 프로필 저장 실패: C:\petmate\22\profile\2419356f-9417-4da4-94dd-a124718f04b2.png
java.io.IOException: java.io.FileNotFoundException: C:\Users\HI-02\AppData\Local\Temp\tomcat.8090.11247907694779438302\work\Tomcat\localhost\ROOT\upload_23924792_de0e_4949_b37c_2f79c108980c_00000007.tmp (지정된 파일을 찾을 수 없습니다)
	at org.apache.catalina.core.ApplicationPart.write(ApplicationPart.java:119)
	at org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile.transferTo(StandardMultipartHttpServletRequest.java:269)
	at com.petmate.domain.user.service.UserFileService.storeProfile(UserFileService.java:54)
	at com.petmate.domain.user.service.UserService.apply(UserService.java:57)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.petmate.domain.user.service.UserService$$SpringCGLIB$$0.apply(<generated>)
	at com.petmate.domain.user.controller.UserController.applyPetMate(UserController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at com.petmate.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:90)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:235)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:229)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.io.FileNotFoundException: C:\Users\HI-02\AppData\Local\Temp\tomcat.8090.11247907694779438302\work\Tomcat\localhost\ROOT\upload_23924792_de0e_4949_b37c_2f79c108980c_00000007.tmp (지정된 파일을 찾을 수 없습니다)
	at java.base/java.io.FileInputStream.open0(Native Method)
	at java.base/java.io.FileInputStream.open(FileInputStream.java:213)
	at java.base/java.io.FileInputStream.<init>(FileInputStream.java:152)
	at org.apache.tomcat.util.http.fileupload.disk.DiskFileItem.write(DiskFileItem.java:550)
	at org.apache.catalina.core.ApplicationPart.write(ApplicationPart.java:117)
	... 107 common frames omitted
2025-09-15 11:05:56 [http-nio-8090-exec-10] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.RuntimeException: 프로필 저장 실패] with root cause
java.io.FileNotFoundException: C:\Users\HI-02\AppData\Local\Temp\tomcat.8090.11247907694779438302\work\Tomcat\localhost\ROOT\upload_23924792_de0e_4949_b37c_2f79c108980c_00000007.tmp (지정된 파일을 찾을 수 없습니다)
	at java.base/java.io.FileInputStream.open0(Native Method)
	at java.base/java.io.FileInputStream.open(FileInputStream.java:213)
	at java.base/java.io.FileInputStream.<init>(FileInputStream.java:152)
	at org.apache.tomcat.util.http.fileupload.disk.DiskFileItem.write(DiskFileItem.java:550)
	at org.apache.catalina.core.ApplicationPart.write(ApplicationPart.java:117)
	at org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile.transferTo(StandardMultipartHttpServletRequest.java:269)
	at com.petmate.domain.user.service.UserFileService.storeProfile(UserFileService.java:54)
	at com.petmate.domain.user.service.UserService.apply(UserService.java:57)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.petmate.domain.user.service.UserService$$SpringCGLIB$$0.apply(<generated>)
	at com.petmate.domain.user.controller.UserController.applyPetMate(UserController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at com.petmate.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:90)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:235)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:229)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-15 11:08:02 [restartedMain] INFO  com.petmate.PetmateApplication - Starting PetmateApplication using Java 21.0.7 with PID 2432 (C:\lfm01\spring_boot\pjt-sts4\petmate-backend-mainb\petmate-backend\build\classes\java\main started by HI-02 in C:\lfm01\spring_boot\pjt-sts4\petmate-backend-mainb\petmate-backend)
2025-09-15 11:08:02 [restartedMain] DEBUG com.petmate.PetmateApplication - Running with Spring Boot v3.5.5, Spring v6.2.10
2025-09-15 11:08:02 [restartedMain] INFO  com.petmate.PetmateApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-15 11:08:02 [restartedMain] INFO  o.s.b.d.restart.ChangeableUrls - The Class-Path manifest attribute in C:\Users\HI-02\.gradle\caches\modules-2\files-2.1\io.github.cdimascio\java-dotenv\5.2.2\f77d54ff193ed4b07415ab8d7b3d0550716aa8c\java-dotenv-5.2.2.jar referenced one or more files that do not exist: file:/C:/Users/HI-02/.gradle/caches/modules-2/files-2.1/io.github.cdimascio/java-dotenv/5.2.2/f77d54ff193ed4b07415ab8d7b3d0550716aa8c/kotlin-stdlib-1.4.0.jar,file:/C:/Users/HI-02/.gradle/caches/modules-2/files-2.1/io.github.cdimascio/java-dotenv/5.2.2/f77d54ff193ed4b07415ab8d7b3d0550716aa8c/kotlin-stdlib-common-1.4.0.jar,file:/C:/Users/HI-02/.gradle/caches/modules-2/files-2.1/io.github.cdimascio/java-dotenv/5.2.2/f77d54ff193ed4b07415ab8d7b3d0550716aa8c/annotations-13.0.jar
2025-09-15 11:08:02 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-09-15 11:08:02 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-09-15 11:08:03 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-15 11:08:03 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 141 ms. Found 8 JPA repository interfaces.
2025-09-15 11:08:05 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8090 (http)
2025-09-15 11:08:05 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-15 11:08:05 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.44]
2025-09-15 11:08:05 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-15 11:08:05 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2848 ms
2025-09-15 11:08:05 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-15 11:08:05 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.26.Final
2025-09-15 11:08:05 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-15 11:08:06 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-15 11:08:06 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-15 11:08:06 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@eba3cc3
2025-09-15 11:08:06 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-15 11:08:06 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-15 11:08:08 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-15 11:08:08 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-15 11:08:08 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-15 11:08:10 [restartedMain] INFO  com.petmate.config.WebConfig - CORS applied. origins=http://localhost:3000, http://localhost:3001
2025-09-15 11:08:10 [restartedMain] INFO  com.petmate.config.WebConfig - Static mapping applied. /files/** -> file:C:/petmate/
2025-09-15 11:08:11 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-09-15 11:08:11 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-15 11:08:11 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8090 (http) with context path '/'
2025-09-15 11:08:11 [restartedMain] INFO  com.petmate.PetmateApplication - Started PetmateApplication in 9.863 seconds (process running for 10.638)
2025-09-15 11:08:11 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        common_codes gce1_0
2025-09-15 11:08:11 [restartedMain] INFO  com.petmate.config.DataInitializer - Common codes already initialized
2025-09-15 11:08:11 [http-nio-8090-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-15 11:08:11 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-15 11:08:11 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-09-15 11:08:11 [http-nio-8090-exec-1] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /auth/me - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=419)
2025-09-15 11:08:11 [http-nio-8090-exec-1] WARN  c.p.security.JwtAuthenticationFilter - [JWT] verification failed: JWT expired 89870 milliseconds ago at 2025-09-15T02:06:42.000Z. Current time: 2025-09-15T02:08:11.870Z. Allowed clock skew: 0 milliseconds.
io.jsonwebtoken.ExpiredJwtException: JWT expired 89870 milliseconds ago at 2025-09-15T02:06:42.000Z. Current time: 2025-09-15T02:08:11.870Z. Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:691)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:364)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:94)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:36)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:29)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseSignedClaims(DefaultJwtParser.java:830)
	at com.petmate.security.jwt.JwtUtil.parse(JwtUtil.java:57)
	at com.petmate.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:57)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:235)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:229)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-15 11:08:12 [http-nio-8090-exec-2] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /auth/me - Authorization: <absent>
2025-09-15 11:08:13 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - === OAuth2 인증 성공 처리 시작 ===
2025-09-15 11:08:13 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - OAuth2 사용자 정보: {provider=naver, response={id=2ZBmnoyH7EYixJoarTxtoLrneVrmyXX14s12xmO6yLc, nickname=kimij****, email=kimijug97@naver.com, name=김민중}, providerId=2ZBmnoyH7EYixJoarTxtoLrneVrmyXX14s12xmO6yLc, name=김민중, nickname=kimij****, resultcode=00, message=success, userId=naver_2ZBmnoyH7EYixJoarTxtoLrneVrmyXX14s12xmO6yLc, email=kimijug97@naver.com, picture=null}
2025-09-15 11:08:13 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - 파싱된 사용자 정보 - provider: NAVER, email: kimijug97@naver.com, name: 김민중, nickname: kimij****, picture: null
2025-09-15 11:08:13 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - 사용자 등록/업데이트 시작
2025-09-15 11:08:13 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - === applyBasicUser 시작 ===
2025-09-15 11:08:13 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - email: kimijug97@naver.com, provider: NAVER, name: 김민중, nickname: kimij****, profileImageUrl: null
2025-09-15 11:08:13 [http-nio-8090-exec-4] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.birth_date,
        ue1_0.care_species,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.email_verified,
        ue1_0.gender,
        ue1_0.main_service,
        ue1_0.name,
        ue1_0.nick_name,
        ue1_0.phone,
        ue1_0.profile_image,
        ue1_0.provider,
        ue1_0.role,
        ue1_0.status,
        ue1_0.updated_at 
    from
        user ue1_0 
    where
        ue1_0.email=?
2025-09-15 11:08:13 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - 사용자 조회/생성 완료 - userId: 22
2025-09-15 11:08:13 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - 사용자 정보 업데이트 완료
2025-09-15 11:08:13 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - 프로필 이미지 처리 시작 - profileImageUrl: null
2025-09-15 11:08:13 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - 이미지 URL이 없어서 기본 이미지 저장
2025-09-15 11:08:13 [http-nio-8090-exec-4] INFO  c.p.d.user.service.UserFileService - 실제 프로필 이미지 존재: userId=22, profile=24d81086-8fd0-408d-a099-19fcd6175ecd.png
2025-09-15 11:08:13 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - 기본 이미지 저장 완료 - UUID: 24d81086-8fd0-408d-a099-19fcd6175ecd.png
2025-09-15 11:08:13 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - 사용자 저장 완료 - 최종 profileImage: 24d81086-8fd0-408d-a099-19fcd6175ecd.png
2025-09-15 11:08:13 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - === applyBasicUser 완료 ===
2025-09-15 11:08:13 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - 사용자 등록/업데이트 완료 - userId: 22
2025-09-15 11:08:13 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - 프로필 이미지 URL 조회 시작
2025-09-15 11:08:13 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - 프로필 이미지 조회: kimijug97@naver.com
2025-09-15 11:08:13 [http-nio-8090-exec-4] DEBUG org.hibernate.SQL - 
    select
        pim1_0.uuid,
        pim1_0.created_at,
        pim1_0.email,
        pim1_0.expires_at,
        pim1_0.real_path 
    from
        profile_image_map pim1_0 
    where
        pim1_0.email=?
2025-09-15 11:08:13 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - profile_image_map에서 UUID 조회: 24d81086-8fd0-408d-a099-19fcd6175ecd.png
2025-09-15 11:08:13 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - 최종 URL: http://localhost:8090/img/24d81086-8fd0-408d-a099-19fcd6175ecd.png
2025-09-15 11:08:13 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - 조회된 프로필 UUID: http://localhost:8090/img/24d81086-8fd0-408d-a099-19fcd6175ecd.png
2025-09-15 11:08:13 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - 절대 URL 사용: http://localhost:8090/img/24d81086-8fd0-408d-a099-19fcd6175ecd.png
2025-09-15 11:08:13 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - JWT 토큰 발급 시작
2025-09-15 11:08:13 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - JWT 토큰 발급 완료
2025-09-15 11:08:13 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - 리다이렉트 URL: http://localhost:3000/oauth2/redirect?accessToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlcyI6WyJVU0VSIl0sIm5hbWUiOiLquYDrr7zspJEiLCJuaWNrbmFtZSI6ImtpbWlqKioqKiIsInR5cCI6ImFjY2VzcyIsInByb3YiOiJOQVZFUiIsImVtYWlsIjoia2ltaWp1Zzk3QG5hdmVyLmNvbSIsInBpY3R1cmUiOiJodHRwOi8vbG9jYWxob3N0OjgwOTAvaW1nLzI0ZDgxMDg2LThmZDAtNDA4ZC1hMDk5LTE5ZmNkNjE3NWVjZC5wbmciLCJzdWIiOiIyMiIsImlzcyI6InBldG1hdGUiLCJpYXQiOjE3NTc5MDIwOTMsImV4cCI6MTc1NzkwMjE1M30.J29UwPqKgp9Db17V9JSwEbtDmj4TWIlr2j-nkJwDNCE&next=%2Fhome
2025-09-15 11:08:13 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - === OAuth2 인증 성공 처리 완료 ===
2025-09-15 11:08:14 [http-nio-8090-exec-5] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /auth/me - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=419)
2025-09-15 11:08:14 [http-nio-8090-exec-5] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=22, type=access, exp=Mon Sep 15 11:09:13 KST 2025, expired=false
2025-09-15 11:08:14 [http-nio-8090-exec-6] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /img/24d81086-8fd0-408d-a099-19fcd6175ecd.png - Authorization: <absent>
2025-09-15 11:08:14 [http-nio-8090-exec-6] INFO  c.p.d.i.c.ImageProxyController - 이미지 요청: uuid=24d81086-8fd0-408d-a099-19fcd6175ecd.png
2025-09-15 11:08:14 [http-nio-8090-exec-6] INFO  c.p.d.i.service.ProfileImageService - UUID로 경로 조회 시작: 24d81086-8fd0-408d-a099-19fcd6175ecd.png
2025-09-15 11:08:14 [http-nio-8090-exec-6] DEBUG org.hibernate.SQL - 
    select
        pim1_0.uuid,
        pim1_0.created_at,
        pim1_0.email,
        pim1_0.expires_at,
        pim1_0.real_path 
    from
        profile_image_map pim1_0 
    where
        pim1_0.uuid=?
2025-09-15 11:08:14 [http-nio-8090-exec-6] INFO  c.p.d.i.service.ProfileImageService - 매핑 찾음: uuid=24d81086-8fd0-408d-a099-19fcd6175ecd.png -> path=C:\petmate\22\profile\24d81086-8fd0-408d-a099-19fcd6175ecd.png
2025-09-15 11:08:14 [http-nio-8090-exec-6] INFO  c.p.d.i.c.ImageProxyController - 매핑된 경로: C:\petmate\22\profile\24d81086-8fd0-408d-a099-19fcd6175ecd.png
2025-09-15 11:08:14 [http-nio-8090-exec-6] INFO  c.p.d.i.c.ImageProxyController - 파일 존재 여부: true, 경로: C:\petmate\22\profile\24d81086-8fd0-408d-a099-19fcd6175ecd.png
2025-09-15 11:08:14 [http-nio-8090-exec-6] INFO  c.p.d.i.c.ImageProxyController - MIME 타입: image/png
2025-09-15 11:08:17 [http-nio-8090-exec-7] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /auth/me - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=419)
2025-09-15 11:08:17 [http-nio-8090-exec-7] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=22, type=access, exp=Mon Sep 15 11:09:13 KST 2025, expired=false
2025-09-15 11:08:17 [http-nio-8090-exec-8] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /img/24d81086-8fd0-408d-a099-19fcd6175ecd.png - Authorization: <absent>
2025-09-15 11:08:17 [http-nio-8090-exec-9] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /login - Authorization: <absent>
2025-09-15 11:08:27 [http-nio-8090-exec-10] INFO  c.p.security.JwtAuthenticationFilter - [JWT] POST /user/petmate/apply - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=419)
2025-09-15 11:08:27 [http-nio-8090-exec-10] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=22, type=access, exp=Mon Sep 15 11:09:13 KST 2025, expired=false
2025-09-15 11:08:27 [http-nio-8090-exec-10] INFO  c.p.domain.user.service.UserService - === 펫메이트 신청 처리 시작 ===
2025-09-15 11:08:27 [http-nio-8090-exec-10] INFO  c.p.domain.user.service.UserService - email: kimijug97@naver.com, 새 프로필 파일 있음: true
2025-09-15 11:08:27 [http-nio-8090-exec-10] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.birth_date,
        ue1_0.care_species,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.email_verified,
        ue1_0.gender,
        ue1_0.main_service,
        ue1_0.name,
        ue1_0.nick_name,
        ue1_0.phone,
        ue1_0.profile_image,
        ue1_0.provider,
        ue1_0.role,
        ue1_0.status,
        ue1_0.updated_at 
    from
        user ue1_0 
    where
        ue1_0.email=?
2025-09-15 11:08:27 [http-nio-8090-exec-10] INFO  c.p.domain.user.service.UserService - 기존 사용자 조회 완료 - userId: 22, 현재 profileImage: 24d81086-8fd0-408d-a099-19fcd6175ecd.png
2025-09-15 11:08:27 [http-nio-8090-exec-10] INFO  c.p.domain.user.service.UserService - 새로운 프로필 이미지 파일이 업로드됨 - 기존 이미지 교체
2025-09-15 11:08:27 [http-nio-8090-exec-10] INFO  c.p.d.user.service.UserFileService - 프로필 이미지 업로드 시작 - userId: 22, 기존 이미지: 24d81086-8fd0-408d-a099-19fcd6175ecd.png
2025-09-15 11:08:27 [http-nio-8090-exec-10] INFO  c.p.d.user.service.UserFileService - 프로필 이미지 저장 시작: C:\petmate\22\profile\8495589a-b25b-4346-a268-e758bd0b6381.png
2025-09-15 11:08:27 [http-nio-8090-exec-10] INFO  c.p.d.user.service.UserFileService - 프로필 이미지 저장 완료: C:\petmate\22\profile\8495589a-b25b-4346-a268-e758bd0b6381.png
2025-09-15 11:08:27 [http-nio-8090-exec-10] DEBUG org.hibernate.SQL - 
    select
        pim1_0.uuid,
        pim1_0.created_at,
        pim1_0.email,
        pim1_0.expires_at,
        pim1_0.real_path 
    from
        profile_image_map pim1_0 
    where
        pim1_0.email=?
2025-09-15 11:08:27 [http-nio-8090-exec-10] INFO  c.p.d.user.service.UserFileService - 기존 ImageMap 삭제 후 재생성: email=kimijug97@naver.com, 기존UUID=24d81086-8fd0-408d-a099-19fcd6175ecd.png -> 새UUID=8495589a-b25b-4346-a268-e758bd0b6381.png
2025-09-15 11:08:27 [http-nio-8090-exec-10] DEBUG org.hibernate.SQL - 
    update
        user 
    set
        birth_date=?,
        care_species=?,
        email=?,
        email_verified=?,
        gender=?,
        main_service=?,
        name=?,
        nick_name=?,
        phone=?,
        profile_image=?,
        provider=?,
        role=?,
        status=?,
        updated_at=? 
    where
        id=?
2025-09-15 11:08:27 [http-nio-8090-exec-10] DEBUG org.hibernate.SQL - 
    delete 
    from
        profile_image_map 
    where
        uuid=?
2025-09-15 11:08:27 [http-nio-8090-exec-10] DEBUG org.hibernate.SQL - 
    select
        pim1_0.uuid,
        pim1_0.created_at,
        pim1_0.email,
        pim1_0.expires_at,
        pim1_0.real_path 
    from
        profile_image_map pim1_0 
    where
        pim1_0.uuid=?
2025-09-15 11:08:27 [http-nio-8090-exec-10] INFO  c.p.d.user.service.UserFileService - ImageMap 저장 완료: email=kimijug97@naver.com, UUID=8495589a-b25b-4346-a268-e758bd0b6381.png, path=C:\petmate\22\profile\8495589a-b25b-4346-a268-e758bd0b6381.png
2025-09-15 11:08:27 [http-nio-8090-exec-10] INFO  c.p.domain.user.service.UserService - 새 프로필 이미지 저장 완료 - 새 UUID: 8495589a-b25b-4346-a268-e758bd0b6381.png
2025-09-15 11:08:27 [http-nio-8090-exec-10] INFO  c.p.domain.user.service.UserService - 펫메이트 신청 처리 완료 - 최종 profileImage: 8495589a-b25b-4346-a268-e758bd0b6381.png
2025-09-15 11:08:27 [http-nio-8090-exec-10] INFO  c.p.domain.user.service.UserService - === 펫메이트 신청 처리 완료 ===
2025-09-15 11:08:27 [http-nio-8090-exec-10] DEBUG org.hibernate.SQL - 
    insert 
    into
        profile_image_map
        (email, expires_at, real_path, uuid) 
    values
        (?, ?, ?, ?)
2025-09-15 11:08:27 [http-nio-8090-exec-10] DEBUG org.hibernate.SQL - 
    update
        user 
    set
        birth_date=?,
        care_species=?,
        email=?,
        email_verified=?,
        gender=?,
        main_service=?,
        name=?,
        nick_name=?,
        phone=?,
        profile_image=?,
        provider=?,
        role=?,
        status=?,
        updated_at=? 
    where
        id=?
2025-09-15 11:08:30 [http-nio-8090-exec-1] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /img/24d81086-8fd0-408d-a099-19fcd6175ecd.png - Authorization: <absent>
2025-09-15 11:08:30 [http-nio-8090-exec-1] INFO  c.p.d.i.c.ImageProxyController - 이미지 요청: uuid=24d81086-8fd0-408d-a099-19fcd6175ecd.png
2025-09-15 11:08:30 [http-nio-8090-exec-1] INFO  c.p.d.i.service.ProfileImageService - UUID로 경로 조회 시작: 24d81086-8fd0-408d-a099-19fcd6175ecd.png
2025-09-15 11:08:30 [http-nio-8090-exec-1] DEBUG org.hibernate.SQL - 
    select
        pim1_0.uuid,
        pim1_0.created_at,
        pim1_0.email,
        pim1_0.expires_at,
        pim1_0.real_path 
    from
        profile_image_map pim1_0 
    where
        pim1_0.uuid=?
2025-09-15 11:08:30 [http-nio-8090-exec-1] WARN  c.p.d.i.service.ProfileImageService - UUID에 해당하는 매핑을 찾을 수 없음: 24d81086-8fd0-408d-a099-19fcd6175ecd.png
2025-09-15 11:08:30 [http-nio-8090-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        profile_image_map pim1_0
2025-09-15 11:08:30 [http-nio-8090-exec-1] INFO  c.p.d.i.service.ProfileImageService - 전체 ProfileImageMap 레코드 수: 1
2025-09-15 11:08:30 [http-nio-8090-exec-1] INFO  c.p.d.i.c.ImageProxyController - 매핑된 경로: null
2025-09-15 11:08:30 [http-nio-8090-exec-1] WARN  c.p.d.i.c.ImageProxyController - 이미지 경로를 찾을 수 없음: 24d81086-8fd0-408d-a099-19fcd6175ecd.png
2025-09-15 11:12:21 [restartedMain] INFO  com.petmate.PetmateApplication - Starting PetmateApplication using Java 21.0.7 with PID 6980 (C:\lfm01\spring_boot\pjt-sts4\petmate-backend-mainb\petmate-backend\build\classes\java\main started by HI-02 in C:\lfm01\spring_boot\pjt-sts4\petmate-backend-mainb\petmate-backend)
2025-09-15 11:12:21 [restartedMain] DEBUG com.petmate.PetmateApplication - Running with Spring Boot v3.5.5, Spring v6.2.10
2025-09-15 11:12:21 [restartedMain] INFO  com.petmate.PetmateApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-15 11:12:21 [restartedMain] INFO  o.s.b.d.restart.ChangeableUrls - The Class-Path manifest attribute in C:\Users\HI-02\.gradle\caches\modules-2\files-2.1\io.github.cdimascio\java-dotenv\5.2.2\f77d54ff193ed4b07415ab8d7b3d0550716aa8c\java-dotenv-5.2.2.jar referenced one or more files that do not exist: file:/C:/Users/HI-02/.gradle/caches/modules-2/files-2.1/io.github.cdimascio/java-dotenv/5.2.2/f77d54ff193ed4b07415ab8d7b3d0550716aa8c/kotlin-stdlib-1.4.0.jar,file:/C:/Users/HI-02/.gradle/caches/modules-2/files-2.1/io.github.cdimascio/java-dotenv/5.2.2/f77d54ff193ed4b07415ab8d7b3d0550716aa8c/kotlin-stdlib-common-1.4.0.jar,file:/C:/Users/HI-02/.gradle/caches/modules-2/files-2.1/io.github.cdimascio/java-dotenv/5.2.2/f77d54ff193ed4b07415ab8d7b3d0550716aa8c/annotations-13.0.jar
2025-09-15 11:12:21 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-09-15 11:12:21 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-09-15 11:12:22 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-15 11:12:22 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 143 ms. Found 8 JPA repository interfaces.
2025-09-15 11:12:23 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8090 (http)
2025-09-15 11:12:23 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-15 11:12:23 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.44]
2025-09-15 11:12:23 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-15 11:12:23 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2679 ms
2025-09-15 11:12:24 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-15 11:12:24 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.26.Final
2025-09-15 11:12:24 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-15 11:12:24 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-15 11:12:24 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-15 11:12:25 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@eba3cc3
2025-09-15 11:12:25 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-15 11:12:25 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-15 11:12:26 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-15 11:12:26 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-15 11:12:27 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-15 11:12:28 [restartedMain] INFO  com.petmate.config.WebConfig - CORS applied. origins=http://localhost:3000, http://localhost:3001
2025-09-15 11:12:29 [restartedMain] INFO  com.petmate.config.WebConfig - Static mapping applied. /files/** -> file:C:/petmate/
2025-09-15 11:12:29 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-09-15 11:12:29 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-15 11:12:29 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8090 (http) with context path '/'
2025-09-15 11:12:29 [restartedMain] INFO  com.petmate.PetmateApplication - Started PetmateApplication in 9.216 seconds (process running for 9.932)
2025-09-15 11:12:29 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        common_codes gce1_0
2025-09-15 11:12:29 [restartedMain] INFO  com.petmate.config.DataInitializer - Common codes already initialized
2025-09-15 11:12:44 [http-nio-8090-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-15 11:12:44 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-15 11:12:44 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-09-15 11:12:44 [http-nio-8090-exec-1] INFO  c.p.security.JwtAuthenticationFilter - [JWT] POST /auth/signout - Authorization: <absent>
2025-09-15 11:12:47 [http-nio-8090-exec-3] INFO  c.p.security.OAuth2SuccessHandler - === OAuth2 인증 성공 처리 시작 ===
2025-09-15 11:12:47 [http-nio-8090-exec-3] INFO  c.p.security.OAuth2SuccessHandler - OAuth2 사용자 정보: {provider=naver, response={id=2ZBmnoyH7EYixJoarTxtoLrneVrmyXX14s12xmO6yLc, nickname=kimij****, email=kimijug97@naver.com, name=김민중}, providerId=2ZBmnoyH7EYixJoarTxtoLrneVrmyXX14s12xmO6yLc, name=김민중, nickname=kimij****, resultcode=00, message=success, userId=naver_2ZBmnoyH7EYixJoarTxtoLrneVrmyXX14s12xmO6yLc, email=kimijug97@naver.com, picture=null}
2025-09-15 11:12:47 [http-nio-8090-exec-3] INFO  c.p.security.OAuth2SuccessHandler - 파싱된 사용자 정보 - provider: NAVER, email: kimijug97@naver.com, name: 김민중, nickname: kimij****, picture: null
2025-09-15 11:12:47 [http-nio-8090-exec-3] INFO  c.p.security.OAuth2SuccessHandler - 사용자 등록/업데이트 시작
2025-09-15 11:12:47 [http-nio-8090-exec-3] INFO  c.p.domain.user.service.UserService - === applyBasicUser 시작 ===
2025-09-15 11:12:47 [http-nio-8090-exec-3] INFO  c.p.domain.user.service.UserService - email: kimijug97@naver.com, provider: NAVER, name: 김민중, nickname: kimij****, profileImageUrl: null
2025-09-15 11:12:47 [http-nio-8090-exec-3] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.birth_date,
        ue1_0.care_species,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.email_verified,
        ue1_0.gender,
        ue1_0.main_service,
        ue1_0.name,
        ue1_0.nick_name,
        ue1_0.phone,
        ue1_0.profile_image,
        ue1_0.provider,
        ue1_0.role,
        ue1_0.status,
        ue1_0.updated_at 
    from
        user ue1_0 
    where
        ue1_0.email=?
2025-09-15 11:12:47 [http-nio-8090-exec-3] INFO  c.p.domain.user.service.UserService - 새 사용자 생성: kimijug97@naver.com
2025-09-15 11:12:47 [http-nio-8090-exec-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        user
        (birth_date, care_species, created_at, email, email_verified, gender, main_service, name, nick_name, phone, profile_image, provider, role, status, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-09-15 11:12:47 [http-nio-8090-exec-3] INFO  c.p.domain.user.service.UserService - 사용자 조회/생성 완료 - userId: 23
2025-09-15 11:12:47 [http-nio-8090-exec-3] INFO  c.p.domain.user.service.UserService - 사용자 정보 업데이트 완료
2025-09-15 11:12:47 [http-nio-8090-exec-3] INFO  c.p.domain.user.service.UserService - 프로필 이미지 처리 시작 - profileImageUrl: null
2025-09-15 11:12:47 [http-nio-8090-exec-3] INFO  c.p.domain.user.service.UserService - 이미지 URL이 없어서 기본 이미지 저장
2025-09-15 11:12:47 [http-nio-8090-exec-3] INFO  c.p.d.user.service.UserFileService - 기본 프로필 이미지 저장 시작: userId=23, 현재값=null
2025-09-15 11:12:47 [http-nio-8090-exec-3] INFO  c.p.d.user.service.UserFileService - 기본 이미지 리소스 읽기 완료: 46374 bytes
2025-09-15 11:12:47 [http-nio-8090-exec-3] INFO  c.p.d.user.service.UserFileService - 기본 프로필 저장 경로: C:\petmate\23\profile\b595fae8-0314-49a9-8066-e2d4a695d35b.png
2025-09-15 11:12:47 [http-nio-8090-exec-3] INFO  c.p.d.user.service.UserFileService - 기본 프로필 이미지 저장 완료: C:\petmate\23\profile\b595fae8-0314-49a9-8066-e2d4a695d35b.png
2025-09-15 11:12:47 [http-nio-8090-exec-3] DEBUG org.hibernate.SQL - 
    select
        pim1_0.uuid,
        pim1_0.created_at,
        pim1_0.email,
        pim1_0.expires_at,
        pim1_0.real_path 
    from
        profile_image_map pim1_0 
    where
        pim1_0.email=?
2025-09-15 11:12:47 [http-nio-8090-exec-3] INFO  c.p.d.user.service.UserFileService - 새 ImageMap 생성: email=kimijug97@naver.com, UUID=b595fae8-0314-49a9-8066-e2d4a695d35b.png
2025-09-15 11:12:47 [http-nio-8090-exec-3] DEBUG org.hibernate.SQL - 
    select
        pim1_0.uuid,
        pim1_0.created_at,
        pim1_0.email,
        pim1_0.expires_at,
        pim1_0.real_path 
    from
        profile_image_map pim1_0 
    where
        pim1_0.uuid=?
2025-09-15 11:12:47 [http-nio-8090-exec-3] INFO  c.p.d.user.service.UserFileService - ImageMap 처리 완료: email=kimijug97@naver.com, UUID=b595fae8-0314-49a9-8066-e2d4a695d35b.png, path=C:\petmate\23\profile\b595fae8-0314-49a9-8066-e2d4a695d35b.png
2025-09-15 11:12:47 [http-nio-8090-exec-3] INFO  c.p.domain.user.service.UserService - 기본 이미지 저장 완료 - UUID: b595fae8-0314-49a9-8066-e2d4a695d35b.png
2025-09-15 11:12:47 [http-nio-8090-exec-3] INFO  c.p.domain.user.service.UserService - 사용자 저장 완료 - 최종 profileImage: b595fae8-0314-49a9-8066-e2d4a695d35b.png
2025-09-15 11:12:47 [http-nio-8090-exec-3] INFO  c.p.domain.user.service.UserService - === applyBasicUser 완료 ===
2025-09-15 11:12:47 [http-nio-8090-exec-3] INFO  c.p.security.OAuth2SuccessHandler - 사용자 등록/업데이트 완료 - userId: 23
2025-09-15 11:12:47 [http-nio-8090-exec-3] INFO  c.p.security.OAuth2SuccessHandler - 프로필 이미지 URL 조회 시작
2025-09-15 11:12:47 [http-nio-8090-exec-3] INFO  c.p.domain.user.service.UserService - 프로필 이미지 조회: kimijug97@naver.com
2025-09-15 11:12:47 [http-nio-8090-exec-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        profile_image_map
        (email, expires_at, real_path, uuid) 
    values
        (?, ?, ?, ?)
2025-09-15 11:12:47 [http-nio-8090-exec-3] DEBUG org.hibernate.SQL - 
    update
        user 
    set
        birth_date=?,
        care_species=?,
        email=?,
        email_verified=?,
        gender=?,
        main_service=?,
        name=?,
        nick_name=?,
        phone=?,
        profile_image=?,
        provider=?,
        role=?,
        status=?,
        updated_at=? 
    where
        id=?
2025-09-15 11:12:47 [http-nio-8090-exec-3] DEBUG org.hibernate.SQL - 
    select
        pim1_0.uuid,
        pim1_0.created_at,
        pim1_0.email,
        pim1_0.expires_at,
        pim1_0.real_path 
    from
        profile_image_map pim1_0 
    where
        pim1_0.email=?
2025-09-15 11:12:47 [http-nio-8090-exec-3] INFO  c.p.domain.user.service.UserService - profile_image_map에서 UUID 조회: b595fae8-0314-49a9-8066-e2d4a695d35b.png
2025-09-15 11:12:47 [http-nio-8090-exec-3] INFO  c.p.domain.user.service.UserService - 최종 URL: http://localhost:8090/img/b595fae8-0314-49a9-8066-e2d4a695d35b.png
2025-09-15 11:12:47 [http-nio-8090-exec-3] INFO  c.p.security.OAuth2SuccessHandler - 조회된 프로필 UUID: http://localhost:8090/img/b595fae8-0314-49a9-8066-e2d4a695d35b.png
2025-09-15 11:12:47 [http-nio-8090-exec-3] INFO  c.p.security.OAuth2SuccessHandler - 절대 URL 사용: http://localhost:8090/img/b595fae8-0314-49a9-8066-e2d4a695d35b.png
2025-09-15 11:12:47 [http-nio-8090-exec-3] INFO  c.p.security.OAuth2SuccessHandler - JWT 토큰 발급 시작
2025-09-15 11:12:47 [http-nio-8090-exec-3] INFO  c.p.security.OAuth2SuccessHandler - JWT 토큰 발급 완료
2025-09-15 11:12:47 [http-nio-8090-exec-3] INFO  c.p.security.OAuth2SuccessHandler - 리다이렉트 URL: http://localhost:3000/oauth2/redirect?accessToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlcyI6WyJVU0VSIl0sIm5hbWUiOiLquYDrr7zspJEiLCJuaWNrbmFtZSI6ImtpbWlqKioqKiIsInR5cCI6ImFjY2VzcyIsInByb3YiOiJOQVZFUiIsImVtYWlsIjoia2ltaWp1Zzk3QG5hdmVyLmNvbSIsInBpY3R1cmUiOiJodHRwOi8vbG9jYWxob3N0OjgwOTAvaW1nL2I1OTVmYWU4LTAzMTQtNDlhOS04MDY2LWUyZDRhNjk1ZDM1Yi5wbmciLCJzdWIiOiIyMyIsImlzcyI6InBldG1hdGUiLCJpYXQiOjE3NTc5MDIzNjcsImV4cCI6MTc1NzkwMjQyN30.S8mbfwgt0thxMFvH9aAV4Oa3A5ycUp8jnlOU2rFutOA&next=%2Fhome
2025-09-15 11:12:47 [http-nio-8090-exec-3] INFO  c.p.security.OAuth2SuccessHandler - === OAuth2 인증 성공 처리 완료 ===
2025-09-15 11:12:48 [http-nio-8090-exec-4] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /auth/me - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=419)
2025-09-15 11:12:48 [http-nio-8090-exec-4] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=23, type=access, exp=Mon Sep 15 11:13:47 KST 2025, expired=false
2025-09-15 11:12:48 [http-nio-8090-exec-5] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /img/b595fae8-0314-49a9-8066-e2d4a695d35b.png - Authorization: <absent>
2025-09-15 11:12:48 [http-nio-8090-exec-5] INFO  c.p.d.i.c.ImageProxyController - 이미지 요청: uuid=b595fae8-0314-49a9-8066-e2d4a695d35b.png
2025-09-15 11:12:48 [http-nio-8090-exec-5] INFO  c.p.d.i.service.ProfileImageService - UUID로 경로 조회 시작: b595fae8-0314-49a9-8066-e2d4a695d35b.png
2025-09-15 11:12:48 [http-nio-8090-exec-5] DEBUG org.hibernate.SQL - 
    select
        pim1_0.uuid,
        pim1_0.created_at,
        pim1_0.email,
        pim1_0.expires_at,
        pim1_0.real_path 
    from
        profile_image_map pim1_0 
    where
        pim1_0.uuid=?
2025-09-15 11:12:48 [http-nio-8090-exec-5] INFO  c.p.d.i.service.ProfileImageService - 매핑 찾음: uuid=b595fae8-0314-49a9-8066-e2d4a695d35b.png -> path=C:\petmate\23\profile\b595fae8-0314-49a9-8066-e2d4a695d35b.png
2025-09-15 11:12:48 [http-nio-8090-exec-5] INFO  c.p.d.i.c.ImageProxyController - 매핑된 경로: C:\petmate\23\profile\b595fae8-0314-49a9-8066-e2d4a695d35b.png
2025-09-15 11:12:48 [http-nio-8090-exec-5] INFO  c.p.d.i.c.ImageProxyController - 파일 존재 여부: true, 경로: C:\petmate\23\profile\b595fae8-0314-49a9-8066-e2d4a695d35b.png
2025-09-15 11:12:48 [http-nio-8090-exec-5] INFO  c.p.d.i.c.ImageProxyController - MIME 타입: image/png
2025-09-15 11:12:50 [http-nio-8090-exec-6] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /auth/me - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=419)
2025-09-15 11:12:50 [http-nio-8090-exec-6] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=23, type=access, exp=Mon Sep 15 11:13:47 KST 2025, expired=false
2025-09-15 11:12:50 [http-nio-8090-exec-7] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /img/b595fae8-0314-49a9-8066-e2d4a695d35b.png - Authorization: <absent>
2025-09-15 11:12:50 [http-nio-8090-exec-8] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /login - Authorization: <absent>
2025-09-15 11:13:09 [http-nio-8090-exec-9] INFO  c.p.security.JwtAuthenticationFilter - [JWT] POST /user/petmate/apply - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=419)
2025-09-15 11:13:09 [http-nio-8090-exec-9] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=23, type=access, exp=Mon Sep 15 11:13:47 KST 2025, expired=false
2025-09-15 11:13:09 [http-nio-8090-exec-9] INFO  c.p.domain.user.service.UserService - === 펫메이트 신청 처리 시작 ===
2025-09-15 11:13:09 [http-nio-8090-exec-9] INFO  c.p.domain.user.service.UserService - email: kimijug97@naver.com, 새 프로필 파일 있음: true
2025-09-15 11:13:09 [http-nio-8090-exec-9] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.birth_date,
        ue1_0.care_species,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.email_verified,
        ue1_0.gender,
        ue1_0.main_service,
        ue1_0.name,
        ue1_0.nick_name,
        ue1_0.phone,
        ue1_0.profile_image,
        ue1_0.provider,
        ue1_0.role,
        ue1_0.status,
        ue1_0.updated_at 
    from
        user ue1_0 
    where
        ue1_0.email=?
2025-09-15 11:13:09 [http-nio-8090-exec-9] INFO  c.p.domain.user.service.UserService - 기존 사용자 조회 완료 - userId: 23, 현재 profileImage: b595fae8-0314-49a9-8066-e2d4a695d35b.png
2025-09-15 11:13:09 [http-nio-8090-exec-9] INFO  c.p.domain.user.service.UserService - 새로운 프로필 이미지 파일이 업로드됨 - 기존 이미지 교체
2025-09-15 11:13:09 [http-nio-8090-exec-9] INFO  c.p.d.user.service.UserFileService - 프로필 이미지 업로드 시작 - userId: 23, 기존 이미지: b595fae8-0314-49a9-8066-e2d4a695d35b.png
2025-09-15 11:13:09 [http-nio-8090-exec-9] INFO  c.p.d.user.service.UserFileService - 기존 UUID 재사용: b595fae8-0314-49a9-8066-e2d4a695d35b.png
2025-09-15 11:13:09 [http-nio-8090-exec-9] INFO  c.p.d.user.service.UserFileService - 프로필 이미지 저장 시작: C:\petmate\23\profile\b595fae8-0314-49a9-8066-e2d4a695d35b.png
2025-09-15 11:13:09 [http-nio-8090-exec-9] INFO  c.p.d.user.service.UserFileService - 프로필 이미지 저장 완료: C:\petmate\23\profile\b595fae8-0314-49a9-8066-e2d4a695d35b.png
2025-09-15 11:13:09 [http-nio-8090-exec-9] DEBUG org.hibernate.SQL - 
    select
        pim1_0.uuid,
        pim1_0.created_at,
        pim1_0.email,
        pim1_0.expires_at,
        pim1_0.real_path 
    from
        profile_image_map pim1_0 
    where
        pim1_0.email=?
2025-09-15 11:13:09 [http-nio-8090-exec-9] INFO  c.p.d.user.service.UserFileService - 기존 UUID 유지하며 경로만 업데이트: email=kimijug97@naver.com, UUID=b595fae8-0314-49a9-8066-e2d4a695d35b.png, 새경로=C:\petmate\23\profile\b595fae8-0314-49a9-8066-e2d4a695d35b.png
2025-09-15 11:13:09 [http-nio-8090-exec-9] INFO  c.p.d.user.service.UserFileService - ImageMap 처리 완료: email=kimijug97@naver.com, UUID=b595fae8-0314-49a9-8066-e2d4a695d35b.png, path=C:\petmate\23\profile\b595fae8-0314-49a9-8066-e2d4a695d35b.png
2025-09-15 11:13:09 [http-nio-8090-exec-9] INFO  c.p.domain.user.service.UserService - 새 프로필 이미지 저장 완료 - 새 UUID: b595fae8-0314-49a9-8066-e2d4a695d35b.png
2025-09-15 11:13:09 [http-nio-8090-exec-9] INFO  c.p.domain.user.service.UserService - 펫메이트 신청 처리 완료 - 최종 profileImage: b595fae8-0314-49a9-8066-e2d4a695d35b.png
2025-09-15 11:13:09 [http-nio-8090-exec-9] INFO  c.p.domain.user.service.UserService - === 펫메이트 신청 처리 완료 ===
2025-09-15 11:13:09 [http-nio-8090-exec-9] DEBUG org.hibernate.SQL - 
    update
        user 
    set
        birth_date=?,
        care_species=?,
        email=?,
        email_verified=?,
        gender=?,
        main_service=?,
        name=?,
        nick_name=?,
        phone=?,
        profile_image=?,
        provider=?,
        role=?,
        status=?,
        updated_at=? 
    where
        id=?
2025-09-15 11:13:22 [http-nio-8090-exec-10] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /img/b595fae8-0314-49a9-8066-e2d4a695d35b.png - Authorization: <absent>
2025-09-15 11:13:22 [http-nio-8090-exec-10] INFO  c.p.d.i.c.ImageProxyController - 이미지 요청: uuid=b595fae8-0314-49a9-8066-e2d4a695d35b.png
2025-09-15 11:13:22 [http-nio-8090-exec-10] INFO  c.p.d.i.service.ProfileImageService - UUID로 경로 조회 시작: b595fae8-0314-49a9-8066-e2d4a695d35b.png
2025-09-15 11:13:22 [http-nio-8090-exec-10] DEBUG org.hibernate.SQL - 
    select
        pim1_0.uuid,
        pim1_0.created_at,
        pim1_0.email,
        pim1_0.expires_at,
        pim1_0.real_path 
    from
        profile_image_map pim1_0 
    where
        pim1_0.uuid=?
2025-09-15 11:13:22 [http-nio-8090-exec-10] INFO  c.p.d.i.service.ProfileImageService - 매핑 찾음: uuid=b595fae8-0314-49a9-8066-e2d4a695d35b.png -> path=C:\petmate\23\profile\b595fae8-0314-49a9-8066-e2d4a695d35b.png
2025-09-15 11:13:22 [http-nio-8090-exec-10] INFO  c.p.d.i.c.ImageProxyController - 매핑된 경로: C:\petmate\23\profile\b595fae8-0314-49a9-8066-e2d4a695d35b.png
2025-09-15 11:13:22 [http-nio-8090-exec-10] INFO  c.p.d.i.c.ImageProxyController - 파일 존재 여부: true, 경로: C:\petmate\23\profile\b595fae8-0314-49a9-8066-e2d4a695d35b.png
2025-09-15 11:13:22 [http-nio-8090-exec-10] INFO  c.p.d.i.c.ImageProxyController - MIME 타입: image/png
2025-09-15 11:14:03 [restartedMain] INFO  com.petmate.PetmateApplication - Starting PetmateApplication using Java 21.0.7 with PID 19980 (C:\lfm01\spring_boot\pjt-sts4\petmate-backend-mainb\petmate-backend\build\classes\java\main started by HI-02 in C:\lfm01\spring_boot\pjt-sts4\petmate-backend-mainb\petmate-backend)
2025-09-15 11:14:03 [restartedMain] DEBUG com.petmate.PetmateApplication - Running with Spring Boot v3.5.5, Spring v6.2.10
2025-09-15 11:14:03 [restartedMain] INFO  com.petmate.PetmateApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-15 11:14:03 [restartedMain] INFO  o.s.b.d.restart.ChangeableUrls - The Class-Path manifest attribute in C:\Users\HI-02\.gradle\caches\modules-2\files-2.1\io.github.cdimascio\java-dotenv\5.2.2\f77d54ff193ed4b07415ab8d7b3d0550716aa8c\java-dotenv-5.2.2.jar referenced one or more files that do not exist: file:/C:/Users/HI-02/.gradle/caches/modules-2/files-2.1/io.github.cdimascio/java-dotenv/5.2.2/f77d54ff193ed4b07415ab8d7b3d0550716aa8c/kotlin-stdlib-1.4.0.jar,file:/C:/Users/HI-02/.gradle/caches/modules-2/files-2.1/io.github.cdimascio/java-dotenv/5.2.2/f77d54ff193ed4b07415ab8d7b3d0550716aa8c/kotlin-stdlib-common-1.4.0.jar,file:/C:/Users/HI-02/.gradle/caches/modules-2/files-2.1/io.github.cdimascio/java-dotenv/5.2.2/f77d54ff193ed4b07415ab8d7b3d0550716aa8c/annotations-13.0.jar
2025-09-15 11:14:03 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-09-15 11:14:03 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-09-15 11:14:04 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-15 11:14:04 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 144 ms. Found 8 JPA repository interfaces.
2025-09-15 11:14:05 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8090 (http)
2025-09-15 11:14:05 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-15 11:14:05 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.44]
2025-09-15 11:14:06 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-15 11:14:06 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2878 ms
2025-09-15 11:14:06 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-15 11:14:06 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.26.Final
2025-09-15 11:14:06 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-15 11:14:07 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-15 11:14:07 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-15 11:14:07 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@47accc1a
2025-09-15 11:14:07 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-15 11:14:07 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-15 11:14:09 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-15 11:14:09 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-15 11:14:10 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-15 11:14:11 [restartedMain] INFO  com.petmate.config.WebConfig - CORS applied. origins=http://localhost:3000, http://localhost:3001
2025-09-15 11:14:12 [restartedMain] INFO  com.petmate.config.WebConfig - Static mapping applied. /files/** -> file:C:/petmate/
2025-09-15 11:14:12 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-09-15 11:14:12 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-15 11:14:12 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8090 (http) with context path '/'
2025-09-15 11:14:12 [restartedMain] INFO  com.petmate.PetmateApplication - Started PetmateApplication in 10.472 seconds (process running for 11.202)
2025-09-15 11:14:13 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        common_codes gce1_0
2025-09-15 11:14:13 [restartedMain] INFO  com.petmate.config.DataInitializer - Common codes already initialized
2025-09-15 11:14:31 [http-nio-8090-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-15 11:14:31 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-15 11:14:31 [http-nio-8090-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-09-15 11:14:31 [http-nio-8090-exec-1] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /auth/me - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=419)
2025-09-15 11:14:31 [http-nio-8090-exec-1] WARN  c.p.security.JwtAuthenticationFilter - [JWT] verification failed: JWT expired 44652 milliseconds ago at 2025-09-15T02:13:47.000Z. Current time: 2025-09-15T02:14:31.652Z. Allowed clock skew: 0 milliseconds.
io.jsonwebtoken.ExpiredJwtException: JWT expired 44652 milliseconds ago at 2025-09-15T02:13:47.000Z. Current time: 2025-09-15T02:14:31.652Z. Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:691)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:364)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:94)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:36)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:29)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseSignedClaims(DefaultJwtParser.java:830)
	at com.petmate.security.jwt.JwtUtil.parse(JwtUtil.java:57)
	at com.petmate.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:57)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:235)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:229)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-15 11:14:31 [http-nio-8090-exec-2] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /auth/me - Authorization: <absent>
2025-09-15 11:14:34 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - === OAuth2 인증 성공 처리 시작 ===
2025-09-15 11:14:34 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - OAuth2 사용자 정보: {provider=naver, response={id=2ZBmnoyH7EYixJoarTxtoLrneVrmyXX14s12xmO6yLc, nickname=kimij****, email=kimijug97@naver.com, name=김민중}, providerId=2ZBmnoyH7EYixJoarTxtoLrneVrmyXX14s12xmO6yLc, name=김민중, nickname=kimij****, resultcode=00, message=success, userId=naver_2ZBmnoyH7EYixJoarTxtoLrneVrmyXX14s12xmO6yLc, email=kimijug97@naver.com, picture=null}
2025-09-15 11:14:34 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - 파싱된 사용자 정보 - provider: NAVER, email: kimijug97@naver.com, name: 김민중, nickname: kimij****, picture: null
2025-09-15 11:14:34 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - 사용자 등록/업데이트 시작
2025-09-15 11:14:34 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - === applyBasicUser 시작 ===
2025-09-15 11:14:34 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - email: kimijug97@naver.com, provider: NAVER, name: 김민중, nickname: kimij****, profileImageUrl: null
2025-09-15 11:14:34 [http-nio-8090-exec-4] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.birth_date,
        ue1_0.care_species,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.email_verified,
        ue1_0.gender,
        ue1_0.main_service,
        ue1_0.name,
        ue1_0.nick_name,
        ue1_0.phone,
        ue1_0.profile_image,
        ue1_0.provider,
        ue1_0.role,
        ue1_0.status,
        ue1_0.updated_at 
    from
        user ue1_0 
    where
        ue1_0.email=?
2025-09-15 11:14:34 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - 사용자 조회/생성 완료 - userId: 23
2025-09-15 11:14:34 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - 사용자 정보 업데이트 완료
2025-09-15 11:14:34 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - 프로필 이미지 처리 시작 - profileImageUrl: null
2025-09-15 11:14:34 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - 이미지 URL이 없어서 기본 이미지 저장
2025-09-15 11:14:34 [http-nio-8090-exec-4] INFO  c.p.d.user.service.UserFileService - 실제 프로필 이미지 존재: userId=23, profile=b595fae8-0314-49a9-8066-e2d4a695d35b.png
2025-09-15 11:14:34 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - 기본 이미지 저장 완료 - UUID: b595fae8-0314-49a9-8066-e2d4a695d35b.png
2025-09-15 11:14:34 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - 사용자 저장 완료 - 최종 profileImage: b595fae8-0314-49a9-8066-e2d4a695d35b.png
2025-09-15 11:14:34 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - === applyBasicUser 완료 ===
2025-09-15 11:14:34 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - 사용자 등록/업데이트 완료 - userId: 23
2025-09-15 11:14:34 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - 프로필 이미지 URL 조회 시작
2025-09-15 11:14:34 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - 프로필 이미지 조회: kimijug97@naver.com
2025-09-15 11:14:34 [http-nio-8090-exec-4] DEBUG org.hibernate.SQL - 
    select
        pim1_0.uuid,
        pim1_0.created_at,
        pim1_0.email,
        pim1_0.expires_at,
        pim1_0.real_path 
    from
        profile_image_map pim1_0 
    where
        pim1_0.email=?
2025-09-15 11:14:34 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - profile_image_map에서 UUID 조회: b595fae8-0314-49a9-8066-e2d4a695d35b.png
2025-09-15 11:14:34 [http-nio-8090-exec-4] INFO  c.p.domain.user.service.UserService - 최종 URL: http://localhost:8090/img/b595fae8-0314-49a9-8066-e2d4a695d35b.png
2025-09-15 11:14:34 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - 조회된 프로필 UUID: http://localhost:8090/img/b595fae8-0314-49a9-8066-e2d4a695d35b.png
2025-09-15 11:14:34 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - 절대 URL 사용: http://localhost:8090/img/b595fae8-0314-49a9-8066-e2d4a695d35b.png
2025-09-15 11:14:34 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - JWT 토큰 발급 시작
2025-09-15 11:14:34 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - JWT 토큰 발급 완료
2025-09-15 11:14:34 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - 리다이렉트 URL: http://localhost:3000/oauth2/redirect?accessToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlcyI6WyJVU0VSIl0sIm5hbWUiOiLquYDrr7zspJEiLCJuaWNrbmFtZSI6ImtpbWlqKioqKiIsInR5cCI6ImFjY2VzcyIsInByb3YiOiJOQVZFUiIsImVtYWlsIjoia2ltaWp1Zzk3QG5hdmVyLmNvbSIsInBpY3R1cmUiOiJodHRwOi8vbG9jYWxob3N0OjgwOTAvaW1nL2I1OTVmYWU4LTAzMTQtNDlhOS04MDY2LWUyZDRhNjk1ZDM1Yi5wbmciLCJzdWIiOiIyMyIsImlzcyI6InBldG1hdGUiLCJpYXQiOjE3NTc5MDI0NzQsImV4cCI6MTc1NzkwMjUzNH0.l1L11J2Vtu2FmstvvHpNlSjCHLynPvrEfpsA896eKD4&next=%2Fhome
2025-09-15 11:14:34 [http-nio-8090-exec-4] INFO  c.p.security.OAuth2SuccessHandler - === OAuth2 인증 성공 처리 완료 ===
2025-09-15 11:14:34 [http-nio-8090-exec-5] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /auth/me - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=419)
2025-09-15 11:14:34 [http-nio-8090-exec-5] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=23, type=access, exp=Mon Sep 15 11:15:34 KST 2025, expired=false
2025-09-15 14:08:12 [restartedMain] INFO  com.petmate.PetmateApplication - Starting PetmateApplication using Java 21.0.8 with PID 17188 (C:\kkh\2ndPjt-petmate\petmate-backend\build\classes\java\main started by Administrator in C:\kkh\2ndPjt-petmate\petmate-backend)
2025-09-15 14:08:12 [restartedMain] DEBUG com.petmate.PetmateApplication - Running with Spring Boot v3.5.5, Spring v6.2.10
2025-09-15 14:08:12 [restartedMain] INFO  com.petmate.PetmateApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-15 14:08:12 [restartedMain] INFO  o.s.b.d.restart.ChangeableUrls - The Class-Path manifest attribute in C:\Users\Administrator\.gradle\caches\modules-2\files-2.1\io.github.cdimascio\java-dotenv\5.2.2\f77d54ff193ed4b07415ab8d7b3d0550716aa8c\java-dotenv-5.2.2.jar referenced one or more files that do not exist: file:/C:/Users/Administrator/.gradle/caches/modules-2/files-2.1/io.github.cdimascio/java-dotenv/5.2.2/f77d54ff193ed4b07415ab8d7b3d0550716aa8c/kotlin-stdlib-1.4.0.jar,file:/C:/Users/Administrator/.gradle/caches/modules-2/files-2.1/io.github.cdimascio/java-dotenv/5.2.2/f77d54ff193ed4b07415ab8d7b3d0550716aa8c/kotlin-stdlib-common-1.4.0.jar,file:/C:/Users/Administrator/.gradle/caches/modules-2/files-2.1/io.github.cdimascio/java-dotenv/5.2.2/f77d54ff193ed4b07415ab8d7b3d0550716aa8c/annotations-13.0.jar
2025-09-15 14:08:12 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-09-15 14:08:12 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-09-15 14:08:14 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-15 14:08:15 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 641 ms. Found 11 JPA repository interfaces.
2025-09-15 14:08:19 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8090 (http)
2025-09-15 14:08:19 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-15 14:08:19 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.44]
2025-09-15 14:08:19 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-15 14:08:19 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 7406 ms
2025-09-15 14:08:21 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-15 14:08:21 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.26.Final
2025-09-15 14:08:21 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-15 14:08:21 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-15 14:08:21 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-15 14:08:22 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5e3923b9
2025-09-15 14:08:22 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-15 14:08:22 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-15 14:08:25 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-15 14:08:25 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-15 14:08:26 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-15 14:08:31 [restartedMain] INFO  com.petmate.config.WebConfig - CORS applied. origins=http://localhost:3000, http://localhost:3001
2025-09-15 14:08:31 [restartedMain] INFO  com.petmate.config.WebConfig - Static mapping applied. /files/** -> file:C:/petmate/
2025-09-15 14:08:32 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-09-15 14:08:32 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-15 14:08:33 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8090 (http) with context path '/'
2025-09-15 14:08:33 [restartedMain] INFO  com.petmate.PetmateApplication - Started PetmateApplication in 22.188 seconds (process running for 23.382)
2025-09-15 14:08:33 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        danal_codes gce1_0
2025-09-15 14:08:33 [restartedMain] INFO  com.petmate.config.DataInitializer - Common codes already initialized
2025-09-15 14:16:32 [http-nio-8090-exec-3] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-15 14:16:32 [http-nio-8090-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-15 14:16:32 [http-nio-8090-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 13 ms
2025-09-15 14:16:32 [http-nio-8090-exec-4] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /auth/me - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=464)
2025-09-15 14:16:33 [http-nio-8090-exec-4] WARN  c.p.security.JwtAuthenticationFilter - [JWT] verification failed: JWT expired 219503503 milliseconds ago at 2025-09-12T16:18:10.000Z. Current time: 2025-09-15T05:16:33.503Z. Allowed clock skew: 0 milliseconds.
io.jsonwebtoken.ExpiredJwtException: JWT expired 219503503 milliseconds ago at 2025-09-12T16:18:10.000Z. Current time: 2025-09-15T05:16:33.503Z. Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:691)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:364)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:94)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:36)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:29)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseSignedClaims(DefaultJwtParser.java:830)
	at com.petmate.security.jwt.JwtUtil.parse(JwtUtil.java:57)
	at com.petmate.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:57)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:235)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:229)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-15 14:16:36 [http-nio-8090-exec-5] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /auth/me - Authorization: <absent>
2025-09-15 14:17:06 [http-nio-8090-exec-1] INFO  c.p.security.OAuth2SuccessHandler - === OAuth2 인증 성공 처리 시작 ===
2025-09-15 14:17:06 [http-nio-8090-exec-1] INFO  c.p.security.OAuth2SuccessHandler - OAuth2 사용자 정보: {provider=kakao, providerId=4442451084, name=광현, nickname=광현, id=4442451084, connected_at=2025-09-12T01:10:20Z, kakao_account={profile_nickname_needs_agreement=false, profile_image_needs_agreement=false, profile={nickname=광현, thumbnail_image_url=http://img1.kakaocdn.net/thumb/R110x110.q70/?fname=http://t1.kakaocdn.net/account_images/default_profile.jpeg, profile_image_url=http://img1.kakaocdn.net/thumb/R640x640.q70/?fname=http://t1.kakaocdn.net/account_images/default_profile.jpeg, is_default_image=true, is_default_nickname=false}, has_email=true, email_needs_agreement=false, is_email_valid=true, is_email_verified=true, email=kkh5794@naver.com}, userId=kakao_4442451084, properties={nickname=광현, profile_image=http://img1.kakaocdn.net/thumb/R640x640.q70/?fname=http://t1.kakaocdn.net/account_images/default_profile.jpeg, thumbnail_image=http://img1.kakaocdn.net/thumb/R110x110.q70/?fname=http://t1.kakaocdn.net/account_images/default_profile.jpeg}, email=kkh5794@naver.com, picture=http://img1.kakaocdn.net/thumb/R640x640.q70/?fname=http://t1.kakaocdn.net/account_images/default_profile.jpeg}
2025-09-15 14:17:06 [http-nio-8090-exec-1] INFO  c.p.security.OAuth2SuccessHandler - 파싱된 사용자 정보 - provider: KAKAO, email: kkh5794@naver.com, name: 광현, nickname: 광현, picture: http://img1.kakaocdn.net/thumb/R640x640.q70/?fname=http://t1.kakaocdn.net/account_images/default_profile.jpeg
2025-09-15 14:17:06 [http-nio-8090-exec-1] INFO  c.p.security.OAuth2SuccessHandler - 사용자 등록/업데이트 시작
2025-09-15 14:17:06 [http-nio-8090-exec-1] INFO  c.p.domain.user.service.UserService - === applyBasicUser 시작 ===
2025-09-15 14:17:06 [http-nio-8090-exec-1] INFO  c.p.domain.user.service.UserService - email: kkh5794@naver.com, provider: KAKAO, name: 광현, nickname: 광현, profileImageUrl: http://img1.kakaocdn.net/thumb/R640x640.q70/?fname=http://t1.kakaocdn.net/account_images/default_profile.jpeg
2025-09-15 14:17:06 [http-nio-8090-exec-1] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.birth_date,
        ue1_0.care_species,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.email_verified,
        ue1_0.gender,
        ue1_0.main_service,
        ue1_0.name,
        ue1_0.nick_name,
        ue1_0.phone,
        ue1_0.profile_image,
        ue1_0.provider,
        ue1_0.role,
        ue1_0.status,
        ue1_0.updated_at 
    from
        user ue1_0 
    where
        ue1_0.email=?
2025-09-15 14:17:06 [http-nio-8090-exec-1] INFO  c.p.domain.user.service.UserService - 사용자 조회/생성 완료 - userId: 9
2025-09-15 14:17:06 [http-nio-8090-exec-1] INFO  c.p.domain.user.service.UserService - 사용자 정보 업데이트 완료
2025-09-15 14:17:06 [http-nio-8090-exec-1] INFO  c.p.domain.user.service.UserService - 프로필 이미지 처리 시작 - profileImageUrl: http://img1.kakaocdn.net/thumb/R640x640.q70/?fname=http://t1.kakaocdn.net/account_images/default_profile.jpeg
2025-09-15 14:17:06 [http-nio-8090-exec-1] INFO  c.p.domain.user.service.UserService - OAuth에서 받은 이미지 URL로 저장 시도: http://img1.kakaocdn.net/thumb/R640x640.q70/?fname=http://t1.kakaocdn.net/account_images/default_profile.jpeg
2025-09-15 14:17:06 [http-nio-8090-exec-1] INFO  c.p.d.user.service.UserFileService - URL에서 프로필 이미지 저장 시작: userId=9, url=http://img1.kakaocdn.net/thumb/R640x640.q70/?fname=http://t1.kakaocdn.net/account_images/default_profile.jpeg
2025-09-15 14:17:06 [http-nio-8090-exec-1] INFO  c.p.d.user.service.UserFileService - 파일 저장 경로: C:\petmate\9\profile\6744e87d-72fb-4d7c-a697-bfc94130e896.jpeg
2025-09-15 14:17:06 [http-nio-8090-exec-1] INFO  c.p.d.user.service.UserFileService - 프로필 이미지(URL) 저장 완료: C:\petmate\9\profile\6744e87d-72fb-4d7c-a697-bfc94130e896.jpeg
2025-09-15 14:17:06 [http-nio-8090-exec-1] DEBUG org.hibernate.SQL - 
    select
        pim1_0.uuid,
        pim1_0.created_at,
        pim1_0.email,
        pim1_0.expires_at,
        pim1_0.real_path 
    from
        profile_image_map pim1_0 
    where
        pim1_0.email=?
2025-09-15 14:17:06 [http-nio-8090-exec-1] INFO  c.p.d.user.service.UserFileService - 새 ImageMap 생성: email=kkh5794@naver.com, UUID=6744e87d-72fb-4d7c-a697-bfc94130e896.jpeg
2025-09-15 14:17:06 [http-nio-8090-exec-1] DEBUG org.hibernate.SQL - 
    select
        pim1_0.uuid,
        pim1_0.created_at,
        pim1_0.email,
        pim1_0.expires_at,
        pim1_0.real_path 
    from
        profile_image_map pim1_0 
    where
        pim1_0.uuid=?
2025-09-15 14:17:06 [http-nio-8090-exec-1] INFO  c.p.d.user.service.UserFileService - ImageMap 처리 완료: email=kkh5794@naver.com, UUID=6744e87d-72fb-4d7c-a697-bfc94130e896.jpeg, path=C:\petmate\9\profile\6744e87d-72fb-4d7c-a697-bfc94130e896.jpeg
2025-09-15 14:17:06 [http-nio-8090-exec-1] INFO  c.p.domain.user.service.UserService - 이미지 저장 완료 - UUID: 6744e87d-72fb-4d7c-a697-bfc94130e896.jpeg
2025-09-15 14:17:06 [http-nio-8090-exec-1] INFO  c.p.domain.user.service.UserService - 사용자 저장 완료 - 최종 profileImage: 6744e87d-72fb-4d7c-a697-bfc94130e896.jpeg
2025-09-15 14:17:06 [http-nio-8090-exec-1] INFO  c.p.domain.user.service.UserService - === applyBasicUser 완료 ===
2025-09-15 14:17:06 [http-nio-8090-exec-1] INFO  c.p.security.OAuth2SuccessHandler - 사용자 등록/업데이트 완료 - userId: 9
2025-09-15 14:17:06 [http-nio-8090-exec-1] INFO  c.p.security.OAuth2SuccessHandler - 프로필 이미지 URL 조회 시작
2025-09-15 14:17:06 [http-nio-8090-exec-1] INFO  c.p.domain.user.service.UserService - 프로필 이미지 조회: kkh5794@naver.com
2025-09-15 14:17:06 [http-nio-8090-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        profile_image_map
        (email, expires_at, real_path, uuid) 
    values
        (?, ?, ?, ?)
2025-09-15 14:17:06 [http-nio-8090-exec-1] DEBUG org.hibernate.SQL - 
    update
        user 
    set
        birth_date=?,
        care_species=?,
        email=?,
        email_verified=?,
        gender=?,
        main_service=?,
        name=?,
        nick_name=?,
        phone=?,
        profile_image=?,
        provider=?,
        role=?,
        status=?,
        updated_at=? 
    where
        id=?
2025-09-15 14:17:06 [http-nio-8090-exec-1] DEBUG org.hibernate.SQL - 
    select
        pim1_0.uuid,
        pim1_0.created_at,
        pim1_0.email,
        pim1_0.expires_at,
        pim1_0.real_path 
    from
        profile_image_map pim1_0 
    where
        pim1_0.email=?
2025-09-15 14:17:06 [http-nio-8090-exec-1] INFO  c.p.domain.user.service.UserService - profile_image_map에서 UUID 조회: 6744e87d-72fb-4d7c-a697-bfc94130e896.jpeg
2025-09-15 14:17:06 [http-nio-8090-exec-1] INFO  c.p.domain.user.service.UserService - 최종 URL: http://localhost:8090/img/6744e87d-72fb-4d7c-a697-bfc94130e896.jpeg
2025-09-15 14:17:06 [http-nio-8090-exec-1] INFO  c.p.security.OAuth2SuccessHandler - 조회된 프로필 UUID: http://localhost:8090/img/6744e87d-72fb-4d7c-a697-bfc94130e896.jpeg
2025-09-15 14:17:06 [http-nio-8090-exec-1] INFO  c.p.security.OAuth2SuccessHandler - 절대 URL 사용: http://localhost:8090/img/6744e87d-72fb-4d7c-a697-bfc94130e896.jpeg
2025-09-15 14:17:06 [http-nio-8090-exec-1] INFO  c.p.security.OAuth2SuccessHandler - JWT 토큰 발급 시작
2025-09-15 14:17:06 [http-nio-8090-exec-1] INFO  c.p.security.OAuth2SuccessHandler - JWT 토큰 발급 완료
2025-09-15 14:17:06 [http-nio-8090-exec-1] INFO  c.p.security.OAuth2SuccessHandler - 리다이렉트 URL: http://localhost:3000/oauth2/redirect?accessToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlcyI6WyJVU0VSIl0sIm5hbWUiOiLqtJHtmIQiLCJuaWNrbmFtZSI6Iuq0ke2YhCIsInR5cCI6ImFjY2VzcyIsInByb3YiOiJLQUtBTyIsImVtYWlsIjoia2toNTc5NEBuYXZlci5jb20iLCJwaWN0dXJlIjoiaHR0cDovL2xvY2FsaG9zdDo4MDkwL2ltZy82NzQ0ZTg3ZC03MmZiLTRkN2MtYTY5Ny1iZmM5NDEzMGU4OTYuanBlZyIsInN1YiI6IjkiLCJpc3MiOiJwZXRtYXRlIiwiaWF0IjoxNzU3OTEzNDI2LCJleHAiOjE3NTc5MTQwMjZ9.kF4VKirFG0DjpvzILrR8-0q4jSfMZ1SequcV_QTTyMg&next=%2Fhome
2025-09-15 14:17:06 [http-nio-8090-exec-1] INFO  c.p.security.OAuth2SuccessHandler - === OAuth2 인증 성공 처리 완료 ===
2025-09-15 14:17:07 [http-nio-8090-exec-2] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /auth/me - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=408)
2025-09-15 14:17:07 [http-nio-8090-exec-2] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=9, type=access, exp=Mon Sep 15 14:27:06 KST 2025, expired=false
2025-09-15 14:17:07 [http-nio-8090-exec-3] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /img/6744e87d-72fb-4d7c-a697-bfc94130e896.jpeg - Authorization: <absent>
2025-09-15 14:17:07 [http-nio-8090-exec-3] INFO  c.p.d.i.c.ImageProxyController - 이미지 요청: uuid=6744e87d-72fb-4d7c-a697-bfc94130e896.jpeg
2025-09-15 14:17:07 [http-nio-8090-exec-3] INFO  c.p.d.i.service.ProfileImageService - UUID로 경로 조회 시작: 6744e87d-72fb-4d7c-a697-bfc94130e896.jpeg
2025-09-15 14:17:08 [http-nio-8090-exec-3] DEBUG org.hibernate.SQL - 
    select
        pim1_0.uuid,
        pim1_0.created_at,
        pim1_0.email,
        pim1_0.expires_at,
        pim1_0.real_path 
    from
        profile_image_map pim1_0 
    where
        pim1_0.uuid=?
2025-09-15 14:17:08 [http-nio-8090-exec-3] INFO  c.p.d.i.service.ProfileImageService - 매핑 찾음: uuid=6744e87d-72fb-4d7c-a697-bfc94130e896.jpeg -> path=C:\petmate\9\profile\6744e87d-72fb-4d7c-a697-bfc94130e896.jpeg
2025-09-15 14:17:08 [http-nio-8090-exec-3] INFO  c.p.d.i.c.ImageProxyController - 매핑된 경로: C:\petmate\9\profile\6744e87d-72fb-4d7c-a697-bfc94130e896.jpeg
2025-09-15 14:17:08 [http-nio-8090-exec-3] INFO  c.p.d.i.c.ImageProxyController - 파일 존재 여부: true, 경로: C:\petmate\9\profile\6744e87d-72fb-4d7c-a697-bfc94130e896.jpeg
2025-09-15 14:17:08 [http-nio-8090-exec-3] INFO  c.p.d.i.c.ImageProxyController - MIME 타입: image/jpeg
2025-09-15 14:17:22 [http-nio-8090-exec-6] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /api/address/undefined - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=408)
2025-09-15 14:17:22 [http-nio-8090-exec-6] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=9, type=access, exp=Mon Sep 15 14:27:06 KST 2025, expired=false
2025-09-15 14:17:22 [http-nio-8090-exec-6] INFO  c.p.d.a.controller.AddressController - 사용자 주소 목록 조회 요청 - userId: kakao_4442451084, email: N/A
2025-09-15 14:17:22 [http-nio-8090-exec-6] DEBUG org.hibernate.SQL - 
    select
        ae1_0.id,
        ae1_0.alias,
        ae1_0.created_at,
        ae1_0.detail_addr,
        ae1_0.is_default,
        ae1_0.label,
        ae1_0.latitude,
        ae1_0.longitude,
        ae1_0.owner_id,
        ae1_0.postcode,
        ae1_0.road_addr,
        ae1_0.updated_at 
    from
        address ae1_0 
    where
        ae1_0.owner_id=? 
    order by
        ae1_0.created_at desc
2025-09-15 14:17:22 [http-nio-8090-exec-6] INFO  c.p.d.address.service.AddressService - 사용자 주소 목록 조회 완료 - ownerId: 966580950, 개수: 0
2025-09-15 14:17:22 [http-nio-8090-exec-6] INFO  c.p.d.a.controller.AddressController - 사용자 주소 목록 조회 완료 - userId: kakao_4442451084, 주소 개수: 0
2025-09-15 14:17:42 [http-nio-8090-exec-8] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /api/company/my - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=408)
2025-09-15 14:17:42 [http-nio-8090-exec-8] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=9, type=access, exp=Mon Sep 15 14:27:06 KST 2025, expired=false
2025-09-15 14:17:42 [http-nio-8090-exec-8] INFO  c.p.d.c.controller.CompanyController - 내 업체 목록 조회 요청 - userId: 11
2025-09-15 14:17:42 [http-nio-8090-exec-8] DEBUG org.hibernate.SQL - 
    select
        ce1_0.id,
        ce1_0.biz_reg_no,
        ce1_0.created_at,
        ce1_0.created_by,
        ce1_0.desc_text,
        ce1_0.detail_addr,
        ce1_0.lat,
        ce1_0.lng,
        ce1_0.name,
        ce1_0.operating_hours,
        ce1_0.personal_name,
        ce1_0.postcode,
        ce1_0.rep_name,
        ce1_0.rep_service,
        ce1_0.road_addr,
        ce1_0.services,
        ce1_0.ssn_first,
        ce1_0.ssn_second,
        ce1_0.status,
        ce1_0.tel,
        ce1_0.type,
        ce1_0.updated_at 
    from
        company ce1_0 
    where
        ce1_0.created_by=? 
    order by
        ce1_0.created_at desc
2025-09-15 14:17:58 [http-nio-8090-exec-1] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /api/company/my - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=408)
2025-09-15 14:17:58 [http-nio-8090-exec-1] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=9, type=access, exp=Mon Sep 15 14:27:06 KST 2025, expired=false
2025-09-15 14:17:58 [http-nio-8090-exec-1] INFO  c.p.d.c.controller.CompanyController - 내 업체 목록 조회 요청 - userId: 11
2025-09-15 14:17:58 [http-nio-8090-exec-1] DEBUG org.hibernate.SQL - 
    select
        ce1_0.id,
        ce1_0.biz_reg_no,
        ce1_0.created_at,
        ce1_0.created_by,
        ce1_0.desc_text,
        ce1_0.detail_addr,
        ce1_0.lat,
        ce1_0.lng,
        ce1_0.name,
        ce1_0.operating_hours,
        ce1_0.personal_name,
        ce1_0.postcode,
        ce1_0.rep_name,
        ce1_0.rep_service,
        ce1_0.road_addr,
        ce1_0.services,
        ce1_0.ssn_first,
        ce1_0.ssn_second,
        ce1_0.status,
        ce1_0.tel,
        ce1_0.type,
        ce1_0.updated_at 
    from
        company ce1_0 
    where
        ce1_0.created_by=? 
    order by
        ce1_0.created_at desc
2025-09-15 14:18:22 [http-nio-8090-exec-3] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /auth/me - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=408)
2025-09-15 14:18:22 [http-nio-8090-exec-3] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=9, type=access, exp=Mon Sep 15 14:27:06 KST 2025, expired=false
2025-09-15 14:18:22 [http-nio-8090-exec-4] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /img/6744e87d-72fb-4d7c-a697-bfc94130e896.jpeg - Authorization: <absent>
2025-09-15 14:18:22 [http-nio-8090-exec-5] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /login - Authorization: <absent>
2025-09-15 14:18:41 [http-nio-8090-exec-7] INFO  c.p.security.JwtAuthenticationFilter - [JWT] POST /user/petmate/apply - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=408)
2025-09-15 14:18:41 [http-nio-8090-exec-7] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=9, type=access, exp=Mon Sep 15 14:27:06 KST 2025, expired=false
2025-09-15 14:18:41 [http-nio-8090-exec-7] INFO  c.p.domain.user.service.UserService - === 펫메이트 신청 처리 시작 ===
2025-09-15 14:18:41 [http-nio-8090-exec-7] INFO  c.p.domain.user.service.UserService - email: kkh5794@naver.com, 새 프로필 파일 있음: false
2025-09-15 14:18:41 [http-nio-8090-exec-7] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.birth_date,
        ue1_0.care_species,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.email_verified,
        ue1_0.gender,
        ue1_0.main_service,
        ue1_0.name,
        ue1_0.nick_name,
        ue1_0.phone,
        ue1_0.profile_image,
        ue1_0.provider,
        ue1_0.role,
        ue1_0.status,
        ue1_0.updated_at 
    from
        user ue1_0 
    where
        ue1_0.email=?
2025-09-15 14:18:41 [http-nio-8090-exec-7] INFO  c.p.domain.user.service.UserService - 기존 사용자 조회 완료 - userId: 9, 현재 profileImage: 6744e87d-72fb-4d7c-a697-bfc94130e896.jpeg
2025-09-15 14:18:41 [http-nio-8090-exec-7] INFO  c.p.domain.user.service.UserService - 새 프로필 파일 없음 - 기존 프로필 이미지 유지: 6744e87d-72fb-4d7c-a697-bfc94130e896.jpeg
2025-09-15 14:18:41 [http-nio-8090-exec-7] INFO  c.p.domain.user.service.UserService - 펫메이트 신청 처리 완료 - 최종 profileImage: 6744e87d-72fb-4d7c-a697-bfc94130e896.jpeg
2025-09-15 14:18:41 [http-nio-8090-exec-7] INFO  c.p.domain.user.service.UserService - === 펫메이트 신청 처리 완료 ===
2025-09-15 14:18:41 [http-nio-8090-exec-7] DEBUG org.hibernate.SQL - 
    update
        user 
    set
        birth_date=?,
        care_species=?,
        email=?,
        email_verified=?,
        gender=?,
        main_service=?,
        name=?,
        nick_name=?,
        phone=?,
        profile_image=?,
        provider=?,
        role=?,
        status=?,
        updated_at=? 
    where
        id=?
2025-09-15 14:18:48 [http-nio-8090-exec-10] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /img/6744e87d-72fb-4d7c-a697-bfc94130e896.jpeg - Authorization: <absent>
2025-09-15 14:18:48 [http-nio-8090-exec-10] INFO  c.p.d.i.c.ImageProxyController - 이미지 요청: uuid=6744e87d-72fb-4d7c-a697-bfc94130e896.jpeg
2025-09-15 14:18:48 [http-nio-8090-exec-10] INFO  c.p.d.i.service.ProfileImageService - UUID로 경로 조회 시작: 6744e87d-72fb-4d7c-a697-bfc94130e896.jpeg
2025-09-15 14:18:48 [http-nio-8090-exec-10] DEBUG org.hibernate.SQL - 
    select
        pim1_0.uuid,
        pim1_0.created_at,
        pim1_0.email,
        pim1_0.expires_at,
        pim1_0.real_path 
    from
        profile_image_map pim1_0 
    where
        pim1_0.uuid=?
2025-09-15 14:18:48 [http-nio-8090-exec-10] INFO  c.p.d.i.service.ProfileImageService - 매핑 찾음: uuid=6744e87d-72fb-4d7c-a697-bfc94130e896.jpeg -> path=C:\petmate\9\profile\6744e87d-72fb-4d7c-a697-bfc94130e896.jpeg
2025-09-15 14:18:48 [http-nio-8090-exec-10] INFO  c.p.d.i.c.ImageProxyController - 매핑된 경로: C:\petmate\9\profile\6744e87d-72fb-4d7c-a697-bfc94130e896.jpeg
2025-09-15 14:18:48 [http-nio-8090-exec-10] INFO  c.p.d.i.c.ImageProxyController - 파일 존재 여부: true, 경로: C:\petmate\9\profile\6744e87d-72fb-4d7c-a697-bfc94130e896.jpeg
2025-09-15 14:18:48 [http-nio-8090-exec-10] INFO  c.p.d.i.c.ImageProxyController - MIME 타입: image/jpeg
2025-09-15 14:18:57 [http-nio-8090-exec-5] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /api/companies - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=408)
2025-09-15 14:18:57 [http-nio-8090-exec-7] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /api/service-categories - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=408)
2025-09-15 14:18:57 [http-nio-8090-exec-6] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /api/products - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=408)
2025-09-15 14:18:57 [http-nio-8090-exec-7] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=9, type=access, exp=Mon Sep 15 14:27:06 KST 2025, expired=false
2025-09-15 14:18:57 [http-nio-8090-exec-6] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=9, type=access, exp=Mon Sep 15 14:27:06 KST 2025, expired=false
2025-09-15 14:18:57 [http-nio-8090-exec-7] INFO  c.p.d.p.c.ServiceCategoryController - 서비스 카테고리 목록 조회 요청
2025-09-15 14:18:57 [http-nio-8090-exec-7] INFO  c.p.d.p.c.ServiceCategoryController - 서비스 카테고리 5 개 반환
2025-09-15 14:18:57 [http-nio-8090-exec-5] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=9, type=access, exp=Mon Sep 15 14:27:06 KST 2025, expired=false
2025-09-15 14:18:57 [http-nio-8090-exec-5] INFO  c.p.d.p.c.CompanyListController - 업체 목록 조회 요청
2025-09-15 14:18:57 [http-nio-8090-exec-5] INFO  c.p.d.p.c.CompanyListController - 업체 5 개 반환
2025-09-15 14:18:58 [http-nio-8090-exec-6] DEBUG org.hibernate.SQL - 
    select
        pe1_0.id,
        pe1_0.all_day,
        pe1_0.company_id,
        pe1_0.created_at,
        pe1_0.duration_min,
        pe1_0.intro_text,
        pe1_0.is_active,
        pe1_0.max_pet,
        pe1_0.min_pet,
        pe1_0.name,
        pe1_0.price,
        pe1_0.service_type,
        pe1_0.updated_at 
    from
        product pe1_0
2025-09-15 14:18:58 [http-nio-8090-exec-9] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /api/products - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=408)
2025-09-15 14:18:58 [http-nio-8090-exec-9] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=9, type=access, exp=Mon Sep 15 14:27:06 KST 2025, expired=false
2025-09-15 14:18:58 [http-nio-8090-exec-9] DEBUG org.hibernate.SQL - 
    select
        pe1_0.id,
        pe1_0.all_day,
        pe1_0.company_id,
        pe1_0.created_at,
        pe1_0.duration_min,
        pe1_0.intro_text,
        pe1_0.is_active,
        pe1_0.max_pet,
        pe1_0.min_pet,
        pe1_0.name,
        pe1_0.price,
        pe1_0.service_type,
        pe1_0.updated_at 
    from
        product pe1_0
2025-09-15 14:19:02 [http-nio-8090-exec-5] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /api/companies - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=408)
2025-09-15 14:19:02 [http-nio-8090-exec-5] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=9, type=access, exp=Mon Sep 15 14:27:06 KST 2025, expired=false
2025-09-15 14:19:02 [http-nio-8090-exec-6] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /api/service-categories - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=408)
2025-09-15 14:19:02 [http-nio-8090-exec-5] INFO  c.p.d.p.c.CompanyListController - 업체 목록 조회 요청
2025-09-15 14:19:02 [http-nio-8090-exec-5] INFO  c.p.d.p.c.CompanyListController - 업체 5 개 반환
2025-09-15 14:19:02 [http-nio-8090-exec-6] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=9, type=access, exp=Mon Sep 15 14:27:06 KST 2025, expired=false
2025-09-15 14:19:02 [http-nio-8090-exec-6] INFO  c.p.d.p.c.ServiceCategoryController - 서비스 카테고리 목록 조회 요청
2025-09-15 14:19:02 [http-nio-8090-exec-6] INFO  c.p.d.p.c.ServiceCategoryController - 서비스 카테고리 5 개 반환
2025-09-15 14:19:17 [http-nio-8090-exec-3] INFO  c.p.security.JwtAuthenticationFilter - [JWT] POST /api/products - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=408)
2025-09-15 14:19:17 [http-nio-8090-exec-3] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=9, type=access, exp=Mon Sep 15 14:27:06 KST 2025, expired=false
2025-09-15 14:19:17 [http-nio-8090-exec-3] INFO  c.p.d.product.service.ProductService - 상품생성시작
2025-09-15 14:19:17 [http-nio-8090-exec-3] INFO  c.p.d.product.service.ProductService - 받은 데이터 :ProductCreateRequest(companyId=1, serviceType=C, name=123, price=1000, allDay=0, durationMin=60, introText=123, minPet=1, maxPet=1, isActive=1)
2025-09-15 14:19:17 [http-nio-8090-exec-3] INFO  c.p.d.product.service.ProductService - Entity 생성 
2025-09-15 14:19:17 [http-nio-8090-exec-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        product
        (all_day, company_id, created_at, duration_min, intro_text, is_active, max_pet, min_pet, name, price, service_type, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-09-15 14:19:17 [http-nio-8090-exec-3] INFO  c.p.d.product.service.ProductService - Entity 저장 
2025-09-15 14:19:19 [http-nio-8090-exec-10] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /api/products - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=408)
2025-09-15 14:19:19 [http-nio-8090-exec-1] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /api/companies - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=408)
2025-09-15 14:19:19 [http-nio-8090-exec-10] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=9, type=access, exp=Mon Sep 15 14:27:06 KST 2025, expired=false
2025-09-15 14:19:19 [http-nio-8090-exec-4] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /api/service-categories - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=408)
2025-09-15 14:19:19 [http-nio-8090-exec-1] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=9, type=access, exp=Mon Sep 15 14:27:06 KST 2025, expired=false
2025-09-15 14:19:19 [http-nio-8090-exec-4] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=9, type=access, exp=Mon Sep 15 14:27:06 KST 2025, expired=false
2025-09-15 14:19:19 [http-nio-8090-exec-4] INFO  c.p.d.p.c.ServiceCategoryController - 서비스 카테고리 목록 조회 요청
2025-09-15 14:19:19 [http-nio-8090-exec-4] INFO  c.p.d.p.c.ServiceCategoryController - 서비스 카테고리 5 개 반환
2025-09-15 14:19:19 [http-nio-8090-exec-1] INFO  c.p.d.p.c.CompanyListController - 업체 목록 조회 요청
2025-09-15 14:19:19 [http-nio-8090-exec-1] INFO  c.p.d.p.c.CompanyListController - 업체 5 개 반환
2025-09-15 14:19:19 [http-nio-8090-exec-10] DEBUG org.hibernate.SQL - 
    select
        pe1_0.id,
        pe1_0.all_day,
        pe1_0.company_id,
        pe1_0.created_at,
        pe1_0.duration_min,
        pe1_0.intro_text,
        pe1_0.is_active,
        pe1_0.max_pet,
        pe1_0.min_pet,
        pe1_0.name,
        pe1_0.price,
        pe1_0.service_type,
        pe1_0.updated_at 
    from
        product pe1_0
2025-09-15 14:19:19 [http-nio-8090-exec-2] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /api/products - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=408)
2025-09-15 14:19:19 [http-nio-8090-exec-2] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=9, type=access, exp=Mon Sep 15 14:27:06 KST 2025, expired=false
2025-09-15 14:19:19 [http-nio-8090-exec-2] DEBUG org.hibernate.SQL - 
    select
        pe1_0.id,
        pe1_0.all_day,
        pe1_0.company_id,
        pe1_0.created_at,
        pe1_0.duration_min,
        pe1_0.intro_text,
        pe1_0.is_active,
        pe1_0.max_pet,
        pe1_0.min_pet,
        pe1_0.name,
        pe1_0.price,
        pe1_0.service_type,
        pe1_0.updated_at 
    from
        product pe1_0
2025-09-15 14:19:25 [http-nio-8090-exec-8] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /api/companies - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=408)
2025-09-15 14:19:25 [http-nio-8090-exec-5] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /api/service-categories - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=408)
2025-09-15 14:19:25 [http-nio-8090-exec-5] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=9, type=access, exp=Mon Sep 15 14:27:06 KST 2025, expired=false
2025-09-15 14:19:25 [http-nio-8090-exec-6] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /api/products/1 - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=408)
2025-09-15 14:19:25 [http-nio-8090-exec-8] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=9, type=access, exp=Mon Sep 15 14:27:06 KST 2025, expired=false
2025-09-15 14:19:25 [http-nio-8090-exec-5] INFO  c.p.d.p.c.ServiceCategoryController - 서비스 카테고리 목록 조회 요청
2025-09-15 14:19:25 [http-nio-8090-exec-5] INFO  c.p.d.p.c.ServiceCategoryController - 서비스 카테고리 5 개 반환
2025-09-15 14:19:25 [http-nio-8090-exec-8] INFO  c.p.d.p.c.CompanyListController - 업체 목록 조회 요청
2025-09-15 14:19:25 [http-nio-8090-exec-8] INFO  c.p.d.p.c.CompanyListController - 업체 5 개 반환
2025-09-15 14:19:25 [http-nio-8090-exec-6] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=9, type=access, exp=Mon Sep 15 14:27:06 KST 2025, expired=false
2025-09-15 14:19:26 [http-nio-8090-exec-6] DEBUG org.hibernate.SQL - 
    select
        pe1_0.id,
        pe1_0.all_day,
        pe1_0.company_id,
        pe1_0.created_at,
        pe1_0.duration_min,
        pe1_0.intro_text,
        pe1_0.is_active,
        pe1_0.max_pet,
        pe1_0.min_pet,
        pe1_0.name,
        pe1_0.price,
        pe1_0.service_type,
        pe1_0.updated_at 
    from
        product pe1_0 
    where
        pe1_0.id=?
2025-09-15 14:19:36 [http-nio-8090-exec-3] INFO  c.p.security.JwtAuthenticationFilter - [JWT] PUT /api/products/1 - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=408)
2025-09-15 14:19:36 [http-nio-8090-exec-3] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=9, type=access, exp=Mon Sep 15 14:27:06 KST 2025, expired=false
2025-09-15 14:19:36 [http-nio-8090-exec-3] INFO  c.p.d.product.service.ProductService - 상품 수정 시작 : 1
2025-09-15 14:19:36 [http-nio-8090-exec-3] INFO  c.p.d.product.service.ProductService - 수정데이터 ProductUpdateRequest(companyId=1, serviceType=C, name=123, price=1000, allDay=0, durationMin=60, introText=555, minPet=1, maxPet=1, isActive=1)
2025-09-15 14:19:36 [http-nio-8090-exec-3] DEBUG org.hibernate.SQL - 
    select
        pe1_0.id,
        pe1_0.all_day,
        pe1_0.company_id,
        pe1_0.created_at,
        pe1_0.duration_min,
        pe1_0.intro_text,
        pe1_0.is_active,
        pe1_0.max_pet,
        pe1_0.min_pet,
        pe1_0.name,
        pe1_0.price,
        pe1_0.service_type,
        pe1_0.updated_at 
    from
        product pe1_0 
    where
        pe1_0.id=?
2025-09-15 14:19:36 [http-nio-8090-exec-3] INFO  c.p.d.product.service.ProductService - 기존 상품 ? com.petmate.domain.product.entity.ProductEntity@31b04234 
2025-09-15 14:19:36 [http-nio-8090-exec-3] INFO  c.p.d.product.service.ProductService - 수정 완료!!! com.petmate.domain.product.entity.ProductEntity@31b04234
2025-09-15 14:19:37 [http-nio-8090-exec-4] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /api/products - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=408)
2025-09-15 14:19:37 [http-nio-8090-exec-10] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /api/service-categories - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=408)
2025-09-15 14:19:37 [http-nio-8090-exec-10] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=9, type=access, exp=Mon Sep 15 14:27:06 KST 2025, expired=false
2025-09-15 14:19:37 [http-nio-8090-exec-1] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /api/companies - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=408)
2025-09-15 14:19:37 [http-nio-8090-exec-10] INFO  c.p.d.p.c.ServiceCategoryController - 서비스 카테고리 목록 조회 요청
2025-09-15 14:19:37 [http-nio-8090-exec-10] INFO  c.p.d.p.c.ServiceCategoryController - 서비스 카테고리 5 개 반환
2025-09-15 14:19:37 [http-nio-8090-exec-1] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=9, type=access, exp=Mon Sep 15 14:27:06 KST 2025, expired=false
2025-09-15 14:19:37 [http-nio-8090-exec-1] INFO  c.p.d.p.c.CompanyListController - 업체 목록 조회 요청
2025-09-15 14:19:37 [http-nio-8090-exec-1] INFO  c.p.d.p.c.CompanyListController - 업체 5 개 반환
2025-09-15 14:19:37 [http-nio-8090-exec-4] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=9, type=access, exp=Mon Sep 15 14:27:06 KST 2025, expired=false
2025-09-15 14:19:37 [http-nio-8090-exec-4] DEBUG org.hibernate.SQL - 
    select
        pe1_0.id,
        pe1_0.all_day,
        pe1_0.company_id,
        pe1_0.created_at,
        pe1_0.duration_min,
        pe1_0.intro_text,
        pe1_0.is_active,
        pe1_0.max_pet,
        pe1_0.min_pet,
        pe1_0.name,
        pe1_0.price,
        pe1_0.service_type,
        pe1_0.updated_at 
    from
        product pe1_0
2025-09-15 14:19:37 [http-nio-8090-exec-2] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /api/products - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=408)
2025-09-15 14:19:37 [http-nio-8090-exec-2] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=9, type=access, exp=Mon Sep 15 14:27:06 KST 2025, expired=false
2025-09-15 14:19:37 [http-nio-8090-exec-2] DEBUG org.hibernate.SQL - 
    select
        pe1_0.id,
        pe1_0.all_day,
        pe1_0.company_id,
        pe1_0.created_at,
        pe1_0.duration_min,
        pe1_0.intro_text,
        pe1_0.is_active,
        pe1_0.max_pet,
        pe1_0.min_pet,
        pe1_0.name,
        pe1_0.price,
        pe1_0.service_type,
        pe1_0.updated_at 
    from
        product pe1_0
2025-09-15 14:36:24 [restartedMain] INFO  com.petmate.PetmateApplication - Starting PetmateApplication using Java 21.0.8 with PID 17184 (C:\kkh\2ndPjt-petmate\petmate-backend\build\classes\java\main started by Administrator in C:\kkh\2ndPjt-petmate\petmate-backend)
2025-09-15 14:36:24 [restartedMain] DEBUG com.petmate.PetmateApplication - Running with Spring Boot v3.5.5, Spring v6.2.10
2025-09-15 14:36:24 [restartedMain] INFO  com.petmate.PetmateApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-15 14:36:25 [restartedMain] INFO  o.s.b.d.restart.ChangeableUrls - The Class-Path manifest attribute in C:\Users\Administrator\.gradle\caches\modules-2\files-2.1\io.github.cdimascio\java-dotenv\5.2.2\f77d54ff193ed4b07415ab8d7b3d0550716aa8c\java-dotenv-5.2.2.jar referenced one or more files that do not exist: file:/C:/Users/Administrator/.gradle/caches/modules-2/files-2.1/io.github.cdimascio/java-dotenv/5.2.2/f77d54ff193ed4b07415ab8d7b3d0550716aa8c/kotlin-stdlib-1.4.0.jar,file:/C:/Users/Administrator/.gradle/caches/modules-2/files-2.1/io.github.cdimascio/java-dotenv/5.2.2/f77d54ff193ed4b07415ab8d7b3d0550716aa8c/kotlin-stdlib-common-1.4.0.jar,file:/C:/Users/Administrator/.gradle/caches/modules-2/files-2.1/io.github.cdimascio/java-dotenv/5.2.2/f77d54ff193ed4b07415ab8d7b3d0550716aa8c/annotations-13.0.jar
2025-09-15 14:36:25 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-09-15 14:36:25 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-09-15 14:36:27 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-15 14:36:28 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 456 ms. Found 11 JPA repository interfaces.
2025-09-15 14:36:30 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8090 (http)
2025-09-15 14:36:30 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-15 14:36:30 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.44]
2025-09-15 14:36:30 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-15 14:36:30 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 5899 ms
2025-09-15 14:36:32 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-15 14:36:32 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.26.Final
2025-09-15 14:36:32 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-15 14:36:34 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-15 14:36:34 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-15 14:36:35 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@36100b5e
2025-09-15 14:36:35 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-15 14:36:35 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.41
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-15 14:36:37 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-15 14:36:38 [restartedMain] DEBUG org.hibernate.SQL - 
    create table company (
        id integer not null auto_increment,
        created_at datetime(6),
        updated_at datetime(6),
        biz_reg_no varchar(20),
        created_by integer not null,
        desc_text TEXT,
        detail_addr varchar(255),
        lat decimal(10,7),
        lng decimal(10,7),
        name varchar(200),
        operating_hours JSON,
        personal_name varchar(80),
        postcode varchar(10),
        rep_name varchar(80),
        rep_service varchar(1),
        road_addr varchar(255) not null,
        services JSON,
        ssn_first varchar(6),
        ssn_second varchar(7),
        status varchar(1) not null,
        tel varchar(20),
        type varchar(1) not null,
        primary key (id)
    ) engine=InnoDB
2025-09-15 14:36:38 [restartedMain] DEBUG org.hibernate.SQL - 
    create table image (
        id bigint not null auto_increment,
        created_at datetime(6),
        updated_at datetime(6),
        alt_text varchar(255) comment '대체 텍스트 (접근성)',
        description varchar(500) comment '이미지 설명',
        display_order integer not null comment '표시 순서 (같은 참조 대상 내에서)',
        file_extension varchar(10) not null comment '파일 확장자',
        file_path varchar(500) not null comment '파일 저장 경로',
        file_size bigint not null comment '파일 크기 (bytes)',
        is_thumbnail varchar(1) not null comment '썸네일 여부 (Y/N)',
        mime_type varchar(100) not null comment 'MIME 타입',
        original_name varchar(255) not null comment '원본 파일명',
        reference_id bigint not null comment '참조 대상 ID',
        reference_type varchar(2) not null comment '참조 타입 코드 (01:사용자프로필, 02:펫프로필, 03:업체등록, 04:업체프로필, 05:펫메이트자격증 등)',
        status varchar(1) not null comment '상태 (A:활성, D:삭제)',
        stored_name varchar(255) not null comment '저장된 파일명 (UUID 등으로 변환)',
        primary key (id)
    ) engine=InnoDB
2025-09-15 14:36:38 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table petmate_cert 
       add column uuid_name varchar(100) not null
2025-09-15 14:36:38 [restartedMain] DEBUG org.hibernate.SQL - 
    create table profile_image_map (
        uuid varchar(255) not null,
        created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
        email varchar(255) not null,
        expires_at datetime(6),
        real_path varchar(255) not null,
        primary key (uuid)
    ) engine=InnoDB
2025-09-15 14:36:38 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table company 
       drop index UKkk9c03sy0kxv20awycv1lmeg6
2025-09-15 14:36:39 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table company 
       add constraint UKkk9c03sy0kxv20awycv1lmeg6 unique (biz_reg_no)
2025-09-15 14:36:39 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table profile_image_map 
       drop index UKk8edwhnfg16jtd3l7kuwa4ldk
2025-09-15 14:36:39 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table profile_image_map 
       add constraint UKk8edwhnfg16jtd3l7kuwa4ldk unique (email)
2025-09-15 14:36:39 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-15 14:36:39 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-15 14:36:44 [restartedMain] INFO  com.petmate.config.WebConfig - CORS applied. origins=http://localhost:3000, http://localhost:3001
2025-09-15 14:36:45 [restartedMain] INFO  com.petmate.config.WebConfig - Static mapping applied. /files/** -> file:C:/petmate/
2025-09-15 14:36:45 [restartedMain] WARN  o.s.b.a.t.ThymeleafAutoConfiguration$DefaultTemplateResolverConfiguration - Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-09-15 14:36:46 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-09-15 14:36:46 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8090 (http) with context path '/'
2025-09-15 14:36:46 [restartedMain] INFO  com.petmate.PetmateApplication - Started PetmateApplication in 23.179 seconds (process running for 24.202)
2025-09-15 14:36:46 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        danal_codes gce1_0
2025-09-15 14:36:46 [restartedMain] INFO  com.petmate.config.DataInitializer - Common codes already initialized
2025-09-15 14:37:13 [http-nio-8090-exec-4] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-15 14:37:13 [http-nio-8090-exec-4] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-15 14:37:13 [http-nio-8090-exec-4] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 4 ms
2025-09-15 14:37:13 [http-nio-8090-exec-2] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /api/products - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=408)
2025-09-15 14:37:13 [http-nio-8090-exec-3] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /auth/me - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=408)
2025-09-15 14:37:13 [http-nio-8090-exec-4] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /api/companies - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=408)
2025-09-15 14:37:13 [http-nio-8090-exec-1] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /api/service-categories - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=408)
2025-09-15 14:37:14 [http-nio-8090-exec-1] WARN  c.p.security.JwtAuthenticationFilter - [JWT] verification failed: JWT expired 608029 milliseconds ago at 2025-09-15T05:27:06.000Z. Current time: 2025-09-15T05:37:14.029Z. Allowed clock skew: 0 milliseconds.
io.jsonwebtoken.ExpiredJwtException: JWT expired 608029 milliseconds ago at 2025-09-15T05:27:06.000Z. Current time: 2025-09-15T05:37:14.029Z. Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:691)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:364)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:94)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:36)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:29)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseSignedClaims(DefaultJwtParser.java:830)
	at com.petmate.security.jwt.JwtUtil.parse(JwtUtil.java:57)
	at com.petmate.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:57)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:235)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:229)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-15 14:37:14 [http-nio-8090-exec-4] WARN  c.p.security.JwtAuthenticationFilter - [JWT] verification failed: JWT expired 608029 milliseconds ago at 2025-09-15T05:27:06.000Z. Current time: 2025-09-15T05:37:14.029Z. Allowed clock skew: 0 milliseconds.
io.jsonwebtoken.ExpiredJwtException: JWT expired 608029 milliseconds ago at 2025-09-15T05:27:06.000Z. Current time: 2025-09-15T05:37:14.029Z. Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:691)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:364)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:94)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:36)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:29)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseSignedClaims(DefaultJwtParser.java:830)
	at com.petmate.security.jwt.JwtUtil.parse(JwtUtil.java:57)
	at com.petmate.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:57)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:235)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:229)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-15 14:37:14 [http-nio-8090-exec-3] WARN  c.p.security.JwtAuthenticationFilter - [JWT] verification failed: JWT expired 608029 milliseconds ago at 2025-09-15T05:27:06.000Z. Current time: 2025-09-15T05:37:14.029Z. Allowed clock skew: 0 milliseconds.
io.jsonwebtoken.ExpiredJwtException: JWT expired 608029 milliseconds ago at 2025-09-15T05:27:06.000Z. Current time: 2025-09-15T05:37:14.029Z. Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:691)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:364)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:94)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:36)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:29)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseSignedClaims(DefaultJwtParser.java:830)
	at com.petmate.security.jwt.JwtUtil.parse(JwtUtil.java:57)
	at com.petmate.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:57)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:235)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:229)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-15 14:37:14 [http-nio-8090-exec-2] WARN  c.p.security.JwtAuthenticationFilter - [JWT] verification failed: JWT expired 608029 milliseconds ago at 2025-09-15T05:27:06.000Z. Current time: 2025-09-15T05:37:14.029Z. Allowed clock skew: 0 milliseconds.
io.jsonwebtoken.ExpiredJwtException: JWT expired 608029 milliseconds ago at 2025-09-15T05:27:06.000Z. Current time: 2025-09-15T05:37:14.029Z. Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:691)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:364)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:94)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:36)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:29)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseSignedClaims(DefaultJwtParser.java:830)
	at com.petmate.security.jwt.JwtUtil.parse(JwtUtil.java:57)
	at com.petmate.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:57)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:235)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:229)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-15 14:37:14 [http-nio-8090-exec-4] INFO  c.p.d.p.c.CompanyListController - 업체 목록 조회 요청
2025-09-15 14:37:14 [http-nio-8090-exec-4] INFO  c.p.d.p.c.CompanyListController - 업체 5 개 반환
2025-09-15 14:37:14 [http-nio-8090-exec-1] INFO  c.p.d.p.c.ServiceCategoryController - 서비스 카테고리 목록 조회 요청
2025-09-15 14:37:14 [http-nio-8090-exec-1] INFO  c.p.d.p.c.ServiceCategoryController - 서비스 카테고리 5 개 반환
2025-09-15 14:37:14 [http-nio-8090-exec-2] DEBUG org.hibernate.SQL - 
    select
        pe1_0.id,
        pe1_0.all_day,
        pe1_0.company_id,
        pe1_0.created_at,
        pe1_0.duration_min,
        pe1_0.intro_text,
        pe1_0.is_active,
        pe1_0.max_pet,
        pe1_0.min_pet,
        pe1_0.name,
        pe1_0.price,
        pe1_0.service_type,
        pe1_0.updated_at 
    from
        product pe1_0
2025-09-15 14:37:14 [http-nio-8090-exec-5] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /api/products - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=408)
2025-09-15 14:37:14 [http-nio-8090-exec-5] WARN  c.p.security.JwtAuthenticationFilter - [JWT] verification failed: JWT expired 608505 milliseconds ago at 2025-09-15T05:27:06.000Z. Current time: 2025-09-15T05:37:14.505Z. Allowed clock skew: 0 milliseconds.
io.jsonwebtoken.ExpiredJwtException: JWT expired 608505 milliseconds ago at 2025-09-15T05:27:06.000Z. Current time: 2025-09-15T05:37:14.505Z. Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:691)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:364)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:94)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:36)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:29)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseSignedClaims(DefaultJwtParser.java:830)
	at com.petmate.security.jwt.JwtUtil.parse(JwtUtil.java:57)
	at com.petmate.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:57)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:235)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:229)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-09-15 14:37:14 [http-nio-8090-exec-5] DEBUG org.hibernate.SQL - 
    select
        pe1_0.id,
        pe1_0.all_day,
        pe1_0.company_id,
        pe1_0.created_at,
        pe1_0.duration_min,
        pe1_0.intro_text,
        pe1_0.is_active,
        pe1_0.max_pet,
        pe1_0.min_pet,
        pe1_0.name,
        pe1_0.price,
        pe1_0.service_type,
        pe1_0.updated_at 
    from
        product pe1_0
2025-09-15 14:37:15 [http-nio-8090-exec-6] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /auth/me - Authorization: <absent>
2025-09-15 14:37:18 [http-nio-8090-exec-8] INFO  c.p.security.OAuth2SuccessHandler - === OAuth2 인증 성공 처리 시작 ===
2025-09-15 14:37:18 [http-nio-8090-exec-8] INFO  c.p.security.OAuth2SuccessHandler - OAuth2 사용자 정보: {provider=kakao, providerId=4442451084, name=광현, nickname=광현, id=4442451084, connected_at=2025-09-12T01:10:20Z, kakao_account={profile_nickname_needs_agreement=false, profile_image_needs_agreement=false, profile={nickname=광현, thumbnail_image_url=http://img1.kakaocdn.net/thumb/R110x110.q70/?fname=http://t1.kakaocdn.net/account_images/default_profile.jpeg, profile_image_url=http://img1.kakaocdn.net/thumb/R640x640.q70/?fname=http://t1.kakaocdn.net/account_images/default_profile.jpeg, is_default_image=true, is_default_nickname=false}, has_email=true, email_needs_agreement=false, is_email_valid=true, is_email_verified=true, email=kkh5794@naver.com}, userId=kakao_4442451084, properties={nickname=광현, profile_image=http://img1.kakaocdn.net/thumb/R640x640.q70/?fname=http://t1.kakaocdn.net/account_images/default_profile.jpeg, thumbnail_image=http://img1.kakaocdn.net/thumb/R110x110.q70/?fname=http://t1.kakaocdn.net/account_images/default_profile.jpeg}, email=kkh5794@naver.com, picture=http://img1.kakaocdn.net/thumb/R640x640.q70/?fname=http://t1.kakaocdn.net/account_images/default_profile.jpeg}
2025-09-15 14:37:18 [http-nio-8090-exec-8] INFO  c.p.security.OAuth2SuccessHandler - 파싱된 사용자 정보 - provider: KAKAO, email: kkh5794@naver.com, name: 광현, nickname: 광현, picture: http://img1.kakaocdn.net/thumb/R640x640.q70/?fname=http://t1.kakaocdn.net/account_images/default_profile.jpeg
2025-09-15 14:37:18 [http-nio-8090-exec-8] INFO  c.p.security.OAuth2SuccessHandler - 사용자 등록/업데이트 시작
2025-09-15 14:37:18 [http-nio-8090-exec-8] INFO  c.p.domain.user.service.UserService - === applyBasicUser 시작 ===
2025-09-15 14:37:18 [http-nio-8090-exec-8] INFO  c.p.domain.user.service.UserService - email: kkh5794@naver.com, provider: KAKAO, name: 광현, nickname: 광현, profileImageUrl: http://img1.kakaocdn.net/thumb/R640x640.q70/?fname=http://t1.kakaocdn.net/account_images/default_profile.jpeg
2025-09-15 14:37:18 [http-nio-8090-exec-8] DEBUG org.hibernate.SQL - 
    select
        ue1_0.id,
        ue1_0.birth_date,
        ue1_0.care_species,
        ue1_0.created_at,
        ue1_0.email,
        ue1_0.email_verified,
        ue1_0.gender,
        ue1_0.main_service,
        ue1_0.name,
        ue1_0.nick_name,
        ue1_0.phone,
        ue1_0.profile_image,
        ue1_0.provider,
        ue1_0.role,
        ue1_0.status,
        ue1_0.updated_at 
    from
        user ue1_0 
    where
        ue1_0.email=?
2025-09-15 14:37:18 [http-nio-8090-exec-8] INFO  c.p.domain.user.service.UserService - 사용자 조회/생성 완료 - userId: 1
2025-09-15 14:37:18 [http-nio-8090-exec-8] INFO  c.p.domain.user.service.UserService - 사용자 정보 업데이트 완료
2025-09-15 14:37:18 [http-nio-8090-exec-8] INFO  c.p.domain.user.service.UserService - 프로필 이미지 처리 시작 - profileImageUrl: http://img1.kakaocdn.net/thumb/R640x640.q70/?fname=http://t1.kakaocdn.net/account_images/default_profile.jpeg
2025-09-15 14:37:18 [http-nio-8090-exec-8] INFO  c.p.domain.user.service.UserService - OAuth에서 받은 이미지 URL로 저장 시도: http://img1.kakaocdn.net/thumb/R640x640.q70/?fname=http://t1.kakaocdn.net/account_images/default_profile.jpeg
2025-09-15 14:37:18 [http-nio-8090-exec-8] INFO  c.p.d.user.service.UserFileService - URL에서 프로필 이미지 저장 시작: userId=1, url=http://img1.kakaocdn.net/thumb/R640x640.q70/?fname=http://t1.kakaocdn.net/account_images/default_profile.jpeg
2025-09-15 14:37:18 [http-nio-8090-exec-8] INFO  c.p.d.user.service.UserFileService - 파일 저장 경로: C:\petmate\1\profile\f92e1d04-793b-491a-9a04-248f7f1e3a27.jpeg
2025-09-15 14:37:18 [http-nio-8090-exec-8] INFO  c.p.d.user.service.UserFileService - 프로필 이미지(URL) 저장 완료: C:\petmate\1\profile\f92e1d04-793b-491a-9a04-248f7f1e3a27.jpeg
2025-09-15 14:37:18 [http-nio-8090-exec-8] DEBUG org.hibernate.SQL - 
    select
        pim1_0.uuid,
        pim1_0.created_at,
        pim1_0.email,
        pim1_0.expires_at,
        pim1_0.real_path 
    from
        profile_image_map pim1_0 
    where
        pim1_0.email=?
2025-09-15 14:37:18 [http-nio-8090-exec-8] INFO  c.p.d.user.service.UserFileService - 새 ImageMap 생성: email=kkh5794@naver.com, UUID=f92e1d04-793b-491a-9a04-248f7f1e3a27.jpeg
2025-09-15 14:37:18 [http-nio-8090-exec-8] DEBUG org.hibernate.SQL - 
    select
        pim1_0.uuid,
        pim1_0.created_at,
        pim1_0.email,
        pim1_0.expires_at,
        pim1_0.real_path 
    from
        profile_image_map pim1_0 
    where
        pim1_0.uuid=?
2025-09-15 14:37:18 [http-nio-8090-exec-8] INFO  c.p.d.user.service.UserFileService - ImageMap 처리 완료: email=kkh5794@naver.com, UUID=f92e1d04-793b-491a-9a04-248f7f1e3a27.jpeg, path=C:\petmate\1\profile\f92e1d04-793b-491a-9a04-248f7f1e3a27.jpeg
2025-09-15 14:37:18 [http-nio-8090-exec-8] INFO  c.p.domain.user.service.UserService - 이미지 저장 완료 - UUID: f92e1d04-793b-491a-9a04-248f7f1e3a27.jpeg
2025-09-15 14:37:18 [http-nio-8090-exec-8] INFO  c.p.domain.user.service.UserService - 사용자 저장 완료 - 최종 profileImage: f92e1d04-793b-491a-9a04-248f7f1e3a27.jpeg
2025-09-15 14:37:18 [http-nio-8090-exec-8] INFO  c.p.domain.user.service.UserService - === applyBasicUser 완료 ===
2025-09-15 14:37:18 [http-nio-8090-exec-8] INFO  c.p.security.OAuth2SuccessHandler - 사용자 등록/업데이트 완료 - userId: 1
2025-09-15 14:37:18 [http-nio-8090-exec-8] INFO  c.p.security.OAuth2SuccessHandler - 프로필 이미지 URL 조회 시작
2025-09-15 14:37:18 [http-nio-8090-exec-8] INFO  c.p.domain.user.service.UserService - 프로필 이미지 조회: kkh5794@naver.com
2025-09-15 14:37:18 [http-nio-8090-exec-8] DEBUG org.hibernate.SQL - 
    insert 
    into
        profile_image_map
        (email, expires_at, real_path, uuid) 
    values
        (?, ?, ?, ?)
2025-09-15 14:37:18 [http-nio-8090-exec-8] DEBUG org.hibernate.SQL - 
    update
        user 
    set
        birth_date=?,
        care_species=?,
        email=?,
        email_verified=?,
        gender=?,
        main_service=?,
        name=?,
        nick_name=?,
        phone=?,
        profile_image=?,
        provider=?,
        role=?,
        status=?,
        updated_at=? 
    where
        id=?
2025-09-15 14:37:18 [http-nio-8090-exec-8] DEBUG org.hibernate.SQL - 
    select
        pim1_0.uuid,
        pim1_0.created_at,
        pim1_0.email,
        pim1_0.expires_at,
        pim1_0.real_path 
    from
        profile_image_map pim1_0 
    where
        pim1_0.email=?
2025-09-15 14:37:18 [http-nio-8090-exec-8] INFO  c.p.domain.user.service.UserService - profile_image_map에서 UUID 조회: f92e1d04-793b-491a-9a04-248f7f1e3a27.jpeg
2025-09-15 14:37:18 [http-nio-8090-exec-8] INFO  c.p.domain.user.service.UserService - 최종 URL: http://localhost:8090/img/f92e1d04-793b-491a-9a04-248f7f1e3a27.jpeg
2025-09-15 14:37:18 [http-nio-8090-exec-8] INFO  c.p.security.OAuth2SuccessHandler - 조회된 프로필 UUID: http://localhost:8090/img/f92e1d04-793b-491a-9a04-248f7f1e3a27.jpeg
2025-09-15 14:37:18 [http-nio-8090-exec-8] INFO  c.p.security.OAuth2SuccessHandler - 절대 URL 사용: http://localhost:8090/img/f92e1d04-793b-491a-9a04-248f7f1e3a27.jpeg
2025-09-15 14:37:18 [http-nio-8090-exec-8] INFO  c.p.security.OAuth2SuccessHandler - JWT 토큰 발급 시작
2025-09-15 14:37:18 [http-nio-8090-exec-8] INFO  c.p.security.OAuth2SuccessHandler - JWT 토큰 발급 완료
2025-09-15 14:37:18 [http-nio-8090-exec-8] INFO  c.p.security.OAuth2SuccessHandler - 리다이렉트 URL: http://localhost:3000/oauth2/redirect?accessToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlcyI6WyJVU0VSIl0sIm5hbWUiOiLqtJHtmIQiLCJuaWNrbmFtZSI6Iuq0ke2YhCIsInR5cCI6ImFjY2VzcyIsInByb3YiOiJLQUtBTyIsImVtYWlsIjoia2toNTc5NEBuYXZlci5jb20iLCJwaWN0dXJlIjoiaHR0cDovL2xvY2FsaG9zdDo4MDkwL2ltZy9mOTJlMWQwNC03OTNiLTQ5MWEtOWEwNC0yNDhmN2YxZTNhMjcuanBlZyIsInN1YiI6IjEiLCJpc3MiOiJwZXRtYXRlIiwiaWF0IjoxNzU3OTE0NjM4LCJleHAiOjE3NTc5MTUyMzh9.TpbLD2qLCK-UucXhekpbrFa7Fp8RMxrW5Jl5FQ92rcI&next=%2Fhome
2025-09-15 14:37:18 [http-nio-8090-exec-8] INFO  c.p.security.OAuth2SuccessHandler - === OAuth2 인증 성공 처리 완료 ===
2025-09-15 14:37:19 [http-nio-8090-exec-9] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /auth/me - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=408)
2025-09-15 14:37:19 [http-nio-8090-exec-9] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=1, type=access, exp=Mon Sep 15 14:47:18 KST 2025, expired=false
2025-09-15 14:37:19 [http-nio-8090-exec-10] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /img/f92e1d04-793b-491a-9a04-248f7f1e3a27.jpeg - Authorization: <absent>
2025-09-15 14:37:19 [http-nio-8090-exec-10] INFO  c.p.d.i.c.ImageProxyController - 이미지 요청: uuid=f92e1d04-793b-491a-9a04-248f7f1e3a27.jpeg
2025-09-15 14:37:19 [http-nio-8090-exec-10] INFO  c.p.d.i.service.ProfileImageService - UUID로 경로 조회 시작: f92e1d04-793b-491a-9a04-248f7f1e3a27.jpeg
2025-09-15 14:37:19 [http-nio-8090-exec-10] DEBUG org.hibernate.SQL - 
    select
        pim1_0.uuid,
        pim1_0.created_at,
        pim1_0.email,
        pim1_0.expires_at,
        pim1_0.real_path 
    from
        profile_image_map pim1_0 
    where
        pim1_0.uuid=?
2025-09-15 14:37:19 [http-nio-8090-exec-10] INFO  c.p.d.i.service.ProfileImageService - 매핑 찾음: uuid=f92e1d04-793b-491a-9a04-248f7f1e3a27.jpeg -> path=C:\petmate\1\profile\f92e1d04-793b-491a-9a04-248f7f1e3a27.jpeg
2025-09-15 14:37:19 [http-nio-8090-exec-10] INFO  c.p.d.i.c.ImageProxyController - 매핑된 경로: C:\petmate\1\profile\f92e1d04-793b-491a-9a04-248f7f1e3a27.jpeg
2025-09-15 14:37:19 [http-nio-8090-exec-10] INFO  c.p.d.i.c.ImageProxyController - 파일 존재 여부: true, 경로: C:\petmate\1\profile\f92e1d04-793b-491a-9a04-248f7f1e3a27.jpeg
2025-09-15 14:37:19 [http-nio-8090-exec-10] INFO  c.p.d.i.c.ImageProxyController - MIME 타입: image/jpeg
2025-09-15 14:37:30 [http-nio-8090-exec-5] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /api/products - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=408)
2025-09-15 14:37:30 [http-nio-8090-exec-5] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=1, type=access, exp=Mon Sep 15 14:47:18 KST 2025, expired=false
2025-09-15 14:37:30 [http-nio-8090-exec-6] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /api/companies - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=408)
2025-09-15 14:37:30 [http-nio-8090-exec-5] DEBUG org.hibernate.SQL - 
    select
        pe1_0.id,
        pe1_0.all_day,
        pe1_0.company_id,
        pe1_0.created_at,
        pe1_0.duration_min,
        pe1_0.intro_text,
        pe1_0.is_active,
        pe1_0.max_pet,
        pe1_0.min_pet,
        pe1_0.name,
        pe1_0.price,
        pe1_0.service_type,
        pe1_0.updated_at 
    from
        product pe1_0
2025-09-15 14:37:30 [http-nio-8090-exec-6] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=1, type=access, exp=Mon Sep 15 14:47:18 KST 2025, expired=false
2025-09-15 14:37:30 [http-nio-8090-exec-6] INFO  c.p.d.p.c.CompanyListController - 업체 목록 조회 요청
2025-09-15 14:37:30 [http-nio-8090-exec-6] INFO  c.p.d.p.c.CompanyListController - 업체 5 개 반환
2025-09-15 14:37:30 [http-nio-8090-exec-8] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /api/products - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=408)
2025-09-15 14:37:30 [http-nio-8090-exec-7] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /api/service-categories - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=408)
2025-09-15 14:37:30 [http-nio-8090-exec-8] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=1, type=access, exp=Mon Sep 15 14:47:18 KST 2025, expired=false
2025-09-15 14:37:30 [http-nio-8090-exec-7] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=1, type=access, exp=Mon Sep 15 14:47:18 KST 2025, expired=false
2025-09-15 14:37:30 [http-nio-8090-exec-7] INFO  c.p.d.p.c.ServiceCategoryController - 서비스 카테고리 목록 조회 요청
2025-09-15 14:37:30 [http-nio-8090-exec-7] INFO  c.p.d.p.c.ServiceCategoryController - 서비스 카테고리 5 개 반환
2025-09-15 14:37:30 [http-nio-8090-exec-8] DEBUG org.hibernate.SQL - 
    select
        pe1_0.id,
        pe1_0.all_day,
        pe1_0.company_id,
        pe1_0.created_at,
        pe1_0.duration_min,
        pe1_0.intro_text,
        pe1_0.is_active,
        pe1_0.max_pet,
        pe1_0.min_pet,
        pe1_0.name,
        pe1_0.price,
        pe1_0.service_type,
        pe1_0.updated_at 
    from
        product pe1_0
2025-09-15 14:37:49 [http-nio-8090-exec-1] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /api/products/companyId=1 - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=408)
2025-09-15 14:37:49 [http-nio-8090-exec-1] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=1, type=access, exp=Mon Sep 15 14:47:18 KST 2025, expired=false
2025-09-15 14:37:49 [http-nio-8090-exec-1] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Method parameter 'id': Failed to convert value of type 'java.lang.String' to required type 'java.lang.Integer'; For input string: "companyId=1"]
2025-09-15 14:37:52 [http-nio-8090-exec-5] INFO  c.p.security.JwtAuthenticationFilter - [JWT] GET /api/products/companyId=2 - Authorization: Bearer eyJhbGciOiJIUzI1N...(len=408)
2025-09-15 14:37:52 [http-nio-8090-exec-5] INFO  c.p.security.JwtAuthenticationFilter - [JWT] parsed sub=1, type=access, exp=Mon Sep 15 14:47:18 KST 2025, expired=false
2025-09-15 14:37:52 [http-nio-8090-exec-5] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Method parameter 'id': Failed to convert value of type 'java.lang.String' to required type 'java.lang.Integer'; For input string: "companyId=2"]
2025-09-15 16:33:49 [HikariPool-1:housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1h6m46s158ms993µs800ns).
2025-09-15 17:52:27 [HikariPool-1:housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1h18m7s699ms663µs800ns).
